<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>嵌入式小白|blog</title>
  
  <subtitle>IT技术交流</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://fengjinyuan.github.io/"/>
  <updated>2019-06-27T11:20:30.860Z</updated>
  <id>http://fengjinyuan.github.io/</id>
  
  <author>
    <name>fengjinyuan</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>[T] Control Camera With Galileo Gen2</title>
    <link href="http://fengjinyuan.github.io/2019/06/27/T-Control-Camera-With-Galileo-Gen2/"/>
    <id>http://fengjinyuan.github.io/2019/06/27/T-Control-Camera-With-Galileo-Gen2/</id>
    <published>2019-06-27T11:01:46.000Z</published>
    <updated>2019-06-27T11:20:30.860Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Control-Camera-With-Galileo-Gen-2"><a href="#Control-Camera-With-Galileo-Gen-2" class="headerlink" title="Control Camera With Galileo Gen 2"></a>Control Camera With Galileo Gen 2</h1><blockquote><p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4F7F;&#x7528;Galileo Gen2&#x6765;&#x63A7;&#x5236;&#x6444;&#x50CF;&#x5934;(USB Camera). &#x7B80;&#x5355;&#x7684;&#x8BF4;&#xFF0C;&#x5C31;&#x662F;&#x5728;Galileo Gen2 &#x4E0A;&#x4F7F;&#x7528;OpenCV&#x6765;&#x64CD;&#x4F5C;&#x6444;&#x50CF;&#x5934;&#x62CD;&#x7167;&#xFF0C;&#x8FD9;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x4E2A;Demo&#x3002;</p></blockquote><h2 id="&#x5F00;&#x53D1;&#x73AF;&#x5883;"><a href="#&#x5F00;&#x53D1;&#x73AF;&#x5883;" class="headerlink" title="&#x5F00;&#x53D1;&#x73AF;&#x5883;"></a>&#x5F00;&#x53D1;&#x73AF;&#x5883;</h2><blockquote><p>&#x4E3B;&#x673A;&#x7CFB;&#x7EDF;(host)&#xFF1A;Ubuntu 16.04 Docker&#x955C;&#x50CF;&#xFF1A;Ubuntu 12.04</p></blockquote><h2 id="&#x4E3A;Galileo-Gen2-&#x51C6;&#x5907;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;"><a href="#&#x4E3A;Galileo-Gen2-&#x51C6;&#x5907;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;" class="headerlink" title="&#x4E3A;Galileo Gen2 &#x51C6;&#x5907;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;"></a>&#x4E3A;Galileo Gen2 &#x51C6;&#x5907;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</h2><ol><li><p>&#x7F16;&#x8BD1;Linux&#x7CFB;&#x7EDF;&#x955C;&#x50CF;<br>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4ECE;Github&#x4E0A;&#x4E0B;&#x8F7D;Galileo Gen2 BSP&#x6587;&#x4EF6;&#x3002;&#x5176;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#x5982;&#x4E0B;:<a href="https://github.com/yashaswini-hanji/Galileo-Runtime" target="_blank" rel="noopener">GalileoBSP</a> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[host] <span class="built_in">cd</span> /your/workspace/  <span class="comment">#&#x8FDB;&#x5165;&#x5230;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;</span></span><br><span class="line">[host] git <span class="built_in">clone</span> https://github.com/yashaswini-hanji/Galileo-Runtime</span><br><span class="line">[host] <span class="built_in">cd</span> ./Galileo-Runtime/meta-clanton/</span><br><span class="line">[host] ./setup.sh</span><br><span class="line"><span class="comment"># &#x8FDB;&#x5165;Dokcer &#x5BB9;&#x5668;&#x7F16;&#x8BD1;Linux&#x955C;&#x50CF;</span></span><br><span class="line"><span class="comment"># &#x8FD9;&#x91CC;&#x5047;&#x8BBE;&#x4F60;&#x7684;&#x4E3B;&#x673A;&#x76EE;&#x5F55;&#x4E0E;&#x5BB9;&#x5668;&#x76EE;&#x5F55; &#x5EFA;&#x7ACB;&#x5982;&#x4E0B;&#x6620;&#x5C04;&#x5173;&#x7CFB; /your/workspace/&#xFF1A;/workdir</span></span><br><span class="line">[host] docker start -i container_id <span class="comment">#&#x5F00;&#x542F;&#x5BB9;&#x5668;</span></span><br><span class="line">[container] <span class="built_in">cd</span> /workdir/Galileo-Runtime/meta-clanton</span><br><span class="line">[container] <span class="built_in">source</span> poky/oe-init-build-env yocto_build</span><br><span class="line">[container] bitbake image-full</span><br><span class="line"><span class="comment"># &#x7B49;&#x5F85;&#x7F16;&#x8BD1;&#x5B8C;&#x6210;</span></span><br><span class="line">[container] <span class="built_in">cd</span> ./tmp/deploy/images/  <span class="comment"># &#x5728;yocto_build&#x76EE;&#x5F55;&#x4E0B;&#x8FDB;&#x5165;</span></span><br><span class="line"><span class="comment"># &#x4F60;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5982;&#x4E0B;&#x6587;&#x4EF6;</span></span><br><span class="line">* boot(&#x76EE;&#x5F55;&#xFF09;</span><br><span class="line">* grub.efi</span><br><span class="line">* bzImage--3.8-r0-clanton-&#x65E5;&#x671F;.bin</span><br><span class="line">* core-image-minimal-initramfs-clanton-&#x65E5;&#x671F;.rootfs.cpio.gz</span><br><span class="line">* image-full-clanton-&#x65E5;&#x671F;.rootfs.ext3</span><br><span class="line">* modules--3.8-r0-clanton-&#x65E5;&#x671F;.tgz</span><br></pre></td></tr></table></figure></li><li><p>&#x5B89;&#x88C5;Linux&#x7CFB;&#x7EDF;&#x955C;&#x50CF;<br>1) &#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E00;&#x5F20;&#x4E0D;&#x5927;&#x4E8E;32GB&#x7684;SD&#x5361;&#x3002;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;&#x4E3A;FAT&#xFF08;&#x6216;FAT32&#xFF09;&#x683C;&#x5F0F;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Ubuntu &#x81EA;&#x5E26;&#x7684;Disks&#x5DE5;&#x5177;&#x5B8C;&#x6210;&#x3002;<br>2) &#x6211;&#x4EEC;&#x62F7;&#x8D1D;&#x5728; /your/workspace/Galileo-Runtime/meta-clanton/yocto_build/tmp/deploy/images/ &#x4E2D;&#x7684;&#x5982;&#x4E0B;&#x6587;&#x4EF6;&#xFF1A;</p><blockquote><ul><li>boot(&#x76EE;&#x5F55;&#xFF09;</li><li>grub.efi</li><li>bzImage&#x2013;3.8-r0-clanton-&#x65E5;&#x671F;.bin</li><li>core-image-minimal-initramfs-clanton-&#x65E5;&#x671F;.rootfs.cpio.gz</li><li>image-full-clanton-&#x65E5;&#x671F;.rootfs.ext3</li><li>modules&#x2013;3.8-r0-clanton-&#x65E5;&#x671F;.tgz</li></ul></blockquote></li></ol><p>&#x5C06;&#x4E0A;&#x8FF0;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;SD&#x5361;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x5982;&#x4E0B;&#x91CD;&#x547D;&#x540D;&#xFF1A;</p><blockquote><ul><li>boot(&#x76EE;&#x5F55;&#xFF09;</li><li>grub.efi</li><li>bzImage&#x2013;3.8-r0-clanton-&#x65E5;&#x671F;.bin =&gt;  bzImage</li><li>core-image-minimal-initramfs-clanton-&#x65E5;&#x671F;.rootfs.cpio.gz =&gt; core-image-minimal-initramfs-clanton.cpio.gz</li><li>image-full-clanton-&#x65E5;&#x671F;.rootfs.ext3 =&gt;image-full-clanton.ext3</li><li>modules&#x2013;3.8-r0-clanton-&#x65E5;&#x671F;.tgz =&gt;modules&#x2013;3.8-r0-clanton.tgz</li></ul></blockquote><h2 id="&#x51C6;&#x5907;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;"><a href="#&#x51C6;&#x5907;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;" class="headerlink" title="&#x51C6;&#x5907;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;"></a>&#x51C6;&#x5907;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;</h2><p>&#x8FD9;&#x4E00;&#x6B65;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;Docker&#x4E2D;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x6307;&#x4EE4;&#x5B8C;&#x6210;&#x3002;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[container] <span class="built_in">cd</span> /workdir/Galileo-Runtime/meta-clanton/</span><br><span class="line">[container] <span class="built_in">source</span> poky/oe-init-build-env yocto_build</span><br><span class="line">[container] bitbake image-full -c populate_sdk</span><br><span class="line"><span class="comment"># &#x8FD9;&#x65F6;&#x4F1A;&#x5728; yocto_build/tmp/deploy/sdk/ &#x76EE;&#x5F55;&#x4E0B;&#x4EA7;&#x751F;</span></span><br><span class="line">xxxx-toolchain-xxx.sh</span><br><span class="line">[container] sudo  ./xxxxx-toolchain-xxxx.sh</span><br><span class="line"><span class="comment"># &#x8FD9;&#x4F1A;&#x5C06;&#x5DE5;&#x5177;&#x5B89;&#x88C5;&#x5728; /opt/clanton-xxx/xxxx/ &#x76EE;&#x5F55;&#x4E0B;</span></span><br><span class="line">[container] <span class="built_in">cd</span>  /opt/clanton-xxx/xxxx/</span><br><span class="line">[container] <span class="built_in">source</span> ./environment-setup-i586-poky-linux-uclibc</span><br><span class="line">[container] <span class="built_in">echo</span> <span class="variable">$CC</span>  <span class="comment"># &#x7EC8;&#x7AEF;&#x663E;&#x793A;&#x5DE5;&#x5177;&#x7F16;&#x8BD1;&#x5668;&#x4FE1;&#x606F;&#x5219;&#x5B89;&#x88C5;&#x6210;&#x529F;</span></span><br></pre></td></tr></table></figure></p><p>&#x8FD9;&#x91CC;&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x6267;&#x884C; bitbake image-full -c populate_sdk &#x5931;&#x8D25;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;&#x5B98;&#x65B9;&#x505A;&#x597D;&#x7684;&#x5DE5;&#x5177;&#x94FE;&#xFF0C;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#x5982;&#x4E0B;&#xFF0C;<a href="https://downloadcenter.intel.com/zh-cn/download/24619/Intel-Galileo-Cross-Compile-Toolchain" target="_blank" rel="noopener">ToolChain</a>, &#x4F46;&#x8FD9;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x4E00;&#x4E0B;&#x624D;&#x80FD;&#x4F7F;&#x7528;&#x3002;&#x5177;&#x4F53;&#x914D;&#x7F6E;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[container] <span class="built_in">cd</span> /workdir/</span><br><span class="line">[container] tar -xzvf  galileo-toolchain-20150120-linux64.tar.bz2</span><br><span class="line">[container] <span class="built_in">cd</span> ./i586</span><br><span class="line">[container] ./install_script.sh</span><br><span class="line">[container] <span class="built_in">source</span> environment-setup-i586-poky-linux-uclibc</span><br><span class="line">[container] <span class="built_in">echo</span> <span class="variable">$CC</span> <span class="comment"># &#x7EC8;&#x7AEF;&#x663E;&#x793A;&#x5DE5;&#x5177;&#x7F16;&#x8BD1;&#x5668;&#x4FE1;&#x606F;&#x5219;&#x5B89;&#x88C5;&#x6210;&#x529F;</span></span><br><span class="line"><span class="comment"># &#x56E0;&#x4E3A;&#x540E;&#x9762;&#x6211;&#x4EEC;&#x8981;&#x7528;&#x5230;OpenCV&#x6240;&#x4EE5;&#x8981;&#x914D;&#x7F6E;OpenCV&#x7F16;&#x8BD1;&#x73AF;&#x5883;</span></span><br><span class="line"><span class="comment"># &#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C06;/workdir/Galileo-Runtime/meta-clanton/yocto_build/tmp/deploy/sysroots/clanton/usr/lib &#x4E2D;&#x7684;&#x6240;&#x6709;OpenCV lib&#x590D;&#x5236;&#x5230; /workdir/i586/sysroots/i586-poky-linux-uclibc/usr/lib/opencv_lib  (opencv_lib&#x662F;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x521B;&#x5EFA;&#x7684;&#x76EE;&#x5F55;&#xFF09;</span></span><br><span class="line"><span class="comment">#&#x6211;&#x4EEC;&#x9700;&#x8981;&#x590D;&#x5236; /workdir/Galileo-Runtime/meta-clanton/yocto_build/tmp/deploy/sysroots/clanton/usr/include &#x4E2D; opencv, opencv2 &#x4E24;&#x4E2A;&#x76EE;&#x5F55; &#x590D;&#x5236;&#x5230; /workdir/i586/sysroots/i586-poky-linux-uclibc/usr/include &#x4E0B;</span></span><br><span class="line"><span class="comment"># &#x6211;&#x4EEC;&#x5728; /workdir/i586/sysroots/i586-poky-linux-uclibc/usr/lib &#x4E0B;&#x5EFA;&#x7ACB;&#x5982;&#x4E0B;&#x76EE;&#x5F55;&#x5E76;&#x4E14;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x6587;&#x4EF6;</span></span><br><span class="line"></span><br><span class="line"> [container] mkdir pkgconfig</span><br><span class="line"> [container] vim opencv.pc</span><br><span class="line"> </span><br><span class="line"> <span class="comment"># Package Information for pkg-config</span></span><br><span class="line"></span><br><span class="line">prefix=/workdir/i586/sysroots/i586-poky-linux-uclibc/usr/</span><br><span class="line">exec_prefix=<span class="variable">${prefix}</span>/lib</span><br><span class="line">libdir=</span><br><span class="line">includedir_old=<span class="variable">${prefix}</span>/include/opencv</span><br><span class="line">includedir_new=<span class="variable">${prefix}</span>/include</span><br><span class="line"></span><br><span class="line">Name: OpenCV</span><br><span class="line">Description: Open Source Computer Vision Library (Galileo)</span><br><span class="line">Version: 2.4.6</span><br><span class="line">Libs:  <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_calib3d.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_contrib.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_core.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_features2d.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_flann.so  <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_highgui.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_imgproc.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_gpu.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_legacy.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_ml.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_nonfree.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_objdetect.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_photo.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_stitching.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_superres.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_ts.a <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_video.so <span class="variable">${exec_prefix}</span>/opencv_lib/libopencv_videostab.so</span><br><span class="line">Cflags: -I<span class="variable">${includedir_old}</span> -I<span class="variable">${includedir_new}</span></span><br></pre></td></tr></table></figure></p><h2 id="&#x7F16;&#x5199;OpenCV&#x7A0B;&#x5E8F;"><a href="#&#x7F16;&#x5199;OpenCV&#x7A0B;&#x5E8F;" class="headerlink" title="&#x7F16;&#x5199;OpenCV&#x7A0B;&#x5E8F;"></a>&#x7F16;&#x5199;OpenCV&#x7A0B;&#x5E8F;</h2><p>&#x6709;&#x4E86;&#x6211;&#x4EEC;&#x524D;&#x9762;&#x7684;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6765;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x7B80;&#x5355;OpenCV&#x6D4B;&#x8BD5;&#x7A0B;&#x5E8F;<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/core/core.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/imgproc/imgproc.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    Mat Frame; <span class="comment">//define a buffer frame</span></span><br><span class="line">    <span class="function">VideoCapture <span class="title">cap</span><span class="params">(<span class="number">0</span>)</span></span>; <span class="comment">// Open default camera</span></span><br><span class="line">    <span class="keyword">if</span>(!cap.isOpened()){</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;Open Camera Error!&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    }</span><br><span class="line">    cap.read(Frame);</span><br><span class="line">    imwrite(<span class="string">&quot;Frame.jpeg&quot;</span>,Frame);</span><br><span class="line">    cap.release();</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;Process Successfull&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p><p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x7528;&#x5982;&#x4E0B;&#x6307;&#x4EE4;&#x7F16;&#x8BD1;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[container] <span class="built_in">cd</span> /workdir/</span><br><span class="line">[container] mkdir code</span><br><span class="line">[container] <span class="built_in">cd</span> code</span><br><span class="line">[container] vim test_cam.cpp</span><br><span class="line"><span class="comment"># &#x7F16;&#x8F91;&#x4E0A;&#x9762;&#x8D34;&#x51FA;&#x7684;&#x4EE3;&#x7801;</span></span><br><span class="line">[container] <span class="built_in">source</span> ../i586/<span class="built_in">source</span> environment-setup-i586-poky-linux-uclibc</span><br><span class="line">[container] <span class="variable">$CXX</span> test_cam.cpp -o test_cam `pkg-config --libs --cflags opencv`</span><br><span class="line"><span class="comment"># &#x7136;&#x540E;&#x5728;code&#x76EE;&#x5F55;&#x4E0B;&#x4EA7;&#x751F; test_cam&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;</span></span><br></pre></td></tr></table></figure></p><h2 id="&#x4E0A;&#x4F20;&#x7A0B;&#x5E8F;&#x5E76;&#x6D4B;&#x8BD5;"><a href="#&#x4E0A;&#x4F20;&#x7A0B;&#x5E8F;&#x5E76;&#x6D4B;&#x8BD5;" class="headerlink" title="&#x4E0A;&#x4F20;&#x7A0B;&#x5E8F;&#x5E76;&#x6D4B;&#x8BD5;"></a>&#x4E0A;&#x4F20;&#x7A0B;&#x5E8F;&#x5E76;&#x6D4B;&#x8BD5;</h2><p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x5C06;&#x7F16;&#x8BD1;&#x7684; test_cam &#x4E0A;&#x4F20;GalileoGen2&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x5177;&#x4F53;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;<br>1&#xFF09;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6309;&#x7167;&#x5982;&#x4E0B;&#x8FDE;&#x63A5;&#x6211;&#x4EEC;&#x7684;&#x8BBE;&#x5907;&#xFF1A;</p><center><br>    <img src="/2019/06/27/T-Control-Camera-With-Galileo-Gen2/1.jpg" width="70%" height="70%"><br></center><br>2&#xFF09;&#x4F7F;&#x7528;Putty&#x4E32;&#x53E3;&#x8FDE;&#x63A5;&#x6211;&#x4EEC;&#x7684;GalileoGen2&#xFF0C;&#x91CD;&#x542F;Galileo Gen2 &#x7136;&#x540E;&#x6211;&#x4EEC;&#x901A;&#x8FC7;Putty&#x53EF;&#x4EE5;&#x770B;&#x89C1;&#x4EE5;&#x4E0B;&#x754C;&#x9762;:<br><center><br>    <img src="/2019/06/27/T-Control-Camera-With-Galileo-Gen2/2.png" width="70%" height="70%"><br></center><br>3&#xFF09;&#x6211;&#x4EEC;&#x67E5;&#x770B;Galileo Gen 2 IP, &#x7136;&#x540E;&#x914D;&#x7F6E;&#x6211;&#x4EEC;&#x7684;&#x5F00;&#x53D1;&#x7535;&#x8111;&#x4E3A;&#x9759;&#x6001;IP&#x4E14;&#x4E0E;Galileo&#x5728;&#x540C;&#x4E00;&#x7F51;&#x6BB5;&#x3002;<br><center><br>    <img src="/2019/06/27/T-Control-Camera-With-Galileo-Gen2/3.png" width="70%" height="70%"><br></center><br>4&#xFF09;&#x6211;&#x4EEC;&#x5C06;&#x4E3B;&#x673A;&#x7684;test_cam&#x7A0B;&#x5E8F;&#x4E0A;&#x4F20; GalileoGen2&#xFF1A;<br><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[host] <span class="built_in">cd</span> /your/workspace/</span><br><span class="line">[host] <span class="built_in">cd</span> code</span><br><span class="line">[host] scp ./test_cam root@GalileoGen2_IP:./</span><br></pre></td></tr></table></figure><br><br><center><br>    <img src="/2019/06/27/T-Control-Camera-With-Galileo-Gen2/4.png" width="70%" height="70%"><br></center><br>5) &#x5728;Galileo Gen 2&#x4E0A;&#x6302;&#x5728;&#x9A71;&#x52A8;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Galileo Gen2] modprobe uvcvideo</span><br><span class="line">[Galileo Gen2] ls /dev/video* <span class="comment">#&#x67E5;&#x770B;&#x8BBE;&#x5907;&#x662F;&#x5426;&#x6302;&#x8F7D;&#x6210;&#x529F;</span></span><br></pre></td></tr></table></figure><br><br><center><br>    <img src="/2019/06/27/T-Control-Camera-With-Galileo-Gen2/5.png" width="70%" height="70%"><br></center><br>6&#xFF09;&#x6267;&#x884C;&#x7A0B;&#x5E8F;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Galileo Gen2] ./test_cam</span><br><span class="line"><span class="comment"># &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x751F;&#x6210;&#x4E86;&#x4E00;&#x4E2A;Frame.jpeg&#x56FE;&#x7247;</span></span><br></pre></td></tr></table></figure><br><br><center><br>    <img src="/2019/06/27/T-Control-Camera-With-Galileo-Gen2/6.png" width="70%" height="70%"><br></center><p>7) &#x6211;&#x4EEC;&#x628A;&#x62CD;&#x7684;&#x7167;&#x7247;&#x4E0A;&#x4F20;PC<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[host] scp  root@GalileoGen2_IP:./Frame.jpeg ./</span><br></pre></td></tr></table></figure></p><center><br>    <img src="/2019/06/27/T-Control-Camera-With-Galileo-Gen2/7.png" width="70%" height="70%"><br></center><br>8) &#x67E5;&#x770B;&#x6211;&#x4EEC;&#x521A;&#x624D;&#x62CD;&#x7684;&#x7167;&#x7247;<br><center><br>    <img src="/2019/06/27/T-Control-Camera-With-Galileo-Gen2/8.jpg" width="70%" height="70%"><br></center><h2 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h2><p>&#x5230;&#x6B64;&#x6211;&#x4EEC;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;Galileo Gen2 &#x62CD;&#x7167;&#x7684;&#x5C0F;DEMO&#x3002;<br>&#x6B22;&#x8FCE;&#x6307;&#x51FA;&#x9519;&#x8BEF;&#x548C;&#x8BA8;&#x8BBA;&#xFF0C;&#x8054;&#x7CFB;&#x65B9;&#x5F0F;: <a href="mailto:fengjinyuan@outlook.com" target="_blank" rel="noopener">fengjinyuan@outlook.com</a></p>]]></content>
    
    <summary type="html">
    
      USB Camera Galileo Gen2
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[T]Build Linux Image towards Intel Galileo</title>
    <link href="http://fengjinyuan.github.io/2019/06/17/T-Build-Linux-Image-towards-Intel-Galileo/"/>
    <id>http://fengjinyuan.github.io/2019/06/17/T-Build-Linux-Image-towards-Intel-Galileo/</id>
    <published>2019-06-17T08:09:35.000Z</published>
    <updated>2019-06-17T08:12:08.043Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Build-Linux-Image-towards-Intel-Galileo"><a href="#Build-Linux-Image-towards-Intel-Galileo" class="headerlink" title="Build Linux Image towards Intel Galileo"></a>Build Linux Image towards Intel Galileo</h1><blockquote><p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E3B;&#x8981;&#x63CF;&#x8FF0;&#x5982;&#x4F55;&#x6784;&#x5EFA;Intel Galileo&#x5E73;&#x53F0;&#x7684;&#x5D4C;&#x5165;&#x5F0F;Linux&#x5185;&#x6838;&#x955C;&#x50CF;&#x3002;&#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x4E24;&#x4E2A;&#x5DE5;&#x4F5C;&#xFF1A;<br>1) &#x57FA;&#x4E8E;Yocto&#x5EFA;&#x7ACB;Liunx&#x955C;&#x50CF;&#x53CA;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;<br>2) &#x5229;&#x7528;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x7F16;&#x8BD1;&#x65B0;&#x7684;Linux&#x5185;&#x6838;&#x6E90;&#x7801;</p></blockquote><h2 id="&#x6CE8;&#x610F;&#x4E8B;&#x9879;"><a href="#&#x6CE8;&#x610F;&#x4E8B;&#x9879;" class="headerlink" title="&#x6CE8;&#x610F;&#x4E8B;&#x9879;"></a>&#x6CE8;&#x610F;&#x4E8B;&#x9879;</h2><blockquote><ul><li>Linux&#x5185;&#x6838;&#x7F16;&#x8BD1;&#x4E3B;&#x673A;(Host Machine)<strong>&#x73AF;&#x5883;&#x5F88;&#x91CD;&#x8981;</strong>&#xFF01; </li><li>Linux&#x5185;&#x6838;&#x7F16;&#x8BD1;<strong>&#x7FFB;&#x5899;&#x5F88;&#x91CD;&#x8981;</strong>&#xFF01;</li><li>Linux&#x5185;&#x6838;&#x7F16;&#x8BD1;<strong>&#x8F6F;&#x4EF6;&#x5E93;&#x4F9D;&#x8D56;&#x5F88;&#x91CD;&#x8981;</strong>&#xFF01;</li></ul></blockquote><h2 id="&#x73AF;&#x5883;&#x63CF;&#x8FF0;"><a href="#&#x73AF;&#x5883;&#x63CF;&#x8FF0;" class="headerlink" title="&#x73AF;&#x5883;&#x63CF;&#x8FF0;"></a>&#x73AF;&#x5883;&#x63CF;&#x8FF0;</h2><blockquote><ul><li>&#x6784;&#x5EFA;&#x4E3B;&#x673A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;: Ubuntu 14.04</li></ul></blockquote><h2 id="&#x5B9E;&#x9A8C;&#x51C6;&#x5907;"><a href="#&#x5B9E;&#x9A8C;&#x51C6;&#x5907;" class="headerlink" title="&#x5B9E;&#x9A8C;&#x51C6;&#x5907;"></a>&#x5B9E;&#x9A8C;&#x51C6;&#x5907;</h2><p>&#x5B9E;&#x9A8C;&#x8981;&#x6C42;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x4E24;&#x70B9;&#xFF1A;</p><ol><li>Docker &#x5BB9;&#x5668;&#x5EFA;&#x7ACB; </li><li>&#x4EE3;&#x7406;&#x914D;&#x7F6E;<br>&#x4EE5;&#x4E0A;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x53C2;&#x8003; <a href="http://fengjinyuan.github.io">Customizing Linux Kernel with Yocto</a> <h2 id="&#x5B9E;&#x9A8C;&#x8FC7;&#x7A0B;"><a href="#&#x5B9E;&#x9A8C;&#x8FC7;&#x7A0B;" class="headerlink" title="&#x5B9E;&#x9A8C;&#x8FC7;&#x7A0B;"></a>&#x5B9E;&#x9A8C;&#x8FC7;&#x7A0B;</h2>1.&#x5B89;&#x88C5;Yocto&#x5FC5;&#x8981;&#x7684;&#x8F6F;&#x4EF6;&#x5E93;<code>&#x5728;&#x5BB9;&#x5668;&#x5B8C;&#x6210;</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[host] docker start -i container_id</span><br><span class="line">[container] su root</span><br><span class="line">[container] apt-get install gawk wget git-core diffstat unzip texinfo gcc-multilib build-essential chrpath socat libsdl1.2-dev xterm make xsltproc docbook-utils fop dblatex xmlto autoconf automake libtool libglib2.0-dev screen</span><br></pre></td></tr></table></figure></li></ol><p>2.&#x83B7;&#x53D6;Intel Galileo BSP&#x6587;&#x4EF6;<br>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x53BB;Intel&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;Intel Galileo BSP&#x6587;&#x4EF6;&#xFF0C;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#x5728;&#x6B64;,<a href="https://downloadcenter.intel.com/download/23823" target="_blank" rel="noopener">Intel Quark BSP</a><br>&#x6211;&#x4EEC;&#x5148;&#x89E3;&#x538B;bsp_sources_and_docs_for_intel_quark_v1.1.0.zip<br>&#x518D;&#x89E3;&#x538B;Board_Support_Package_Sources_for_Intel_Quark_v1.1.0.7z<br>&#x590D;&#x5236;meta-clanton_v1.1.0-dirty.tar.gz&#x548C;quark_linux_v3.8.7+v1.1.0.tar.gz&#x5230;&#x6211;&#x4EEC;&#x7684;&#x672C;&#x673A;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;(&#x4E5F;&#x662F;Docker&#x6620;&#x5C04;&#x76EE;&#x5F55;&#xFF09;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x8FDB;&#x5165;&#x672C;&#x673A;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;</span></span><br><span class="line">[host] <span class="built_in">cd</span> /your/workdir/docker</span><br><span class="line"><span class="comment"># &#x89E3;&#x538B;meta-clanton_v1.1.0-dirty.tar.gz&#x548C;quark_linux_v3.8.7+v1.1.0.tar.gz</span></span><br><span class="line">[host] tar -xzvf meta-clanton_v1.1.0-dirty.tar.gz</span><br><span class="line">[host] tar -xzvf quark_linux_v3.8.7+v1.1.0.tar.gz</span><br><span class="line"><span class="comment"># &#x66F4;&#x6539;quark_linux_v3.8.7+v1.1.0&#x76EE;&#x5F55;&#x540D;&#x5B57;</span></span><br><span class="line">[host] mv quark_linux_v3.8.7+v1.1.0 linux_v3.8.7</span><br></pre></td></tr></table></figure></p><p>3.&#x5728;&#x672C;&#x673A;&#x83B7;&#x53D6;Yocto Git&#x4ED3;&#x5E93;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x8FDB;&#x5165;&#x672C;&#x673A;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;</span></span><br><span class="line">[host] <span class="built_in">cd</span> /your/workdir/docker/meta-clanton_v1.1.0-dirty</span><br><span class="line"><span class="comment"># &#x6267;&#x884C;&#x811A;&#x672C;&#x83B7;&#x53D6;Git &#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;</span></span><br><span class="line">[host] ./setup.sh -e meta-clanton-bsp</span><br></pre></td></tr></table></figure></p><p>4.&#x7F16;&#x8BD1;Linux&#x955C;&#x50CF;&#x548C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF; <code>&#xFF08;&#x5BB9;&#x5668;&#x91CC;&#xFF09;</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[host] docker start -i container_id</span><br><span class="line">[container] su xxxx <span class="comment">#&#x5207;&#x6362;&#x4E3A;&#x666E;&#x901A;&#x7528;&#x6237;</span></span><br><span class="line">[container] <span class="built_in">cd</span> /workdir/meta-clanton_v1.1.0-dirty</span><br><span class="line">[container] <span class="built_in">source</span> iot-devkit-init-build-env</span><br><span class="line">[container] bitbake image-full</span><br><span class="line">&#x7B49;&#x5F85;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5B8C;&#x6210;Linux Image&#x7684;&#x6784;&#x5EFA;</span><br></pre></td></tr></table></figure></p><p>5.&#x5728;&#x4E3B;&#x673A;&#x5229;&#x7528;&#x4E0A;&#x9762;&#x6784;&#x5EFA;&#x7684;&#x5DE5;&#x5177;&#x7F16;&#x8BD1;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Linux&#x5185;&#x6838; <code>&#xFF08;&#x672C;&#x673A;&#xFF09;</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[host] <span class="built_in">cd</span> /your/workdir/docker/linux_v3.8.7</span><br><span class="line"><span class="comment"># &#x83B7;&#x53D6;Linux 3.8.7&#x5185;&#x6838;&#x6E90;&#x7801;&#x548C;&#x76F8;&#x5E94;&#x7684;&#x8865;&#x4E01;</span></span><br><span class="line">[host] ./gitsetup.py</span><br><span class="line"><span class="comment"># &#x5728;&#x4E0B;&#x9762;&#x94FE;&#x63A5;&#x83B7;&#x53D6;Linux&#x5185;&#x6838;&#x914D;&#x7F6E;&#x6587;&#x4EF6;.config</span></span><br><span class="line">Link:https://github.com/slavaim/Linux-Intel-Galileo-Gen2-QuarkX1000/blob/master/BSPv1.1.0/linux_v3.8.7/work/.config</span><br><span class="line"><span class="comment"># &#x590D;&#x5236;.config &#x6587;&#x4EF6;&#x5230;&#x65B0;&#x7684;&#x5185;&#x6838;&#x6E90;&#x7801;&#x4E0B;</span></span><br><span class="line">[host] <span class="built_in">cd</span> work</span><br><span class="line">[host] copy &lt;download .config&gt; .config</span><br><span class="line"><span class="comment"># &#x914D;&#x7F6E;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#xFF08;&#x4E0A;&#x8FF0;&#x5DF2;&#x7ECF;&#x7F16;&#x8BD1;&#x751F;&#x6210;&#xFF09;</span></span><br><span class="line">[host] <span class="built_in">export</span> PATH=/your/workdir/docker/meta-clanton_v1.1.0-dirty/build/tmp/sysroots/x86_64-linux/usr/bin/i586-poky-linux:<span class="variable">$PATH</span></span><br><span class="line"><span class="comment"># &#x7F16;&#x8BD1;&#x65B0;&#x5185;&#x6838; &#xFF08;&#x5728;Path/Linux_v3.8.7/work&#x76EE;&#x5F55;&#x4E0B;&#xFF09;</span></span><br><span class="line">[host] ARCH=i386 CROSS_COMPILE=i586-poky-linux- make -j4</span><br></pre></td></tr></table></figure></p><p>PS: <em>&#x4EE5;&#x4E0A;&#x94FE;&#x63A5;&#x9700;&#x8981;&#x7FFB;&#x5899;&#x8BBF;&#x95EE;&#xFF01;</em></p><p>&#x6B22;&#x8FCE;&#x6307;&#x51FA;&#x9519;&#x8BEF;&#x548C;&#x8BA8;&#x8BBA;&#xFF0C;&#x8054;&#x7CFB;&#x65B9;&#x5F0F;: <a href="mailto:fengjinyuan@outlook.com" target="_blank" rel="noopener">fengjinyuan@outlook.com</a></p>]]></content>
    
    <summary type="html">
    
      Linux Kernel Yocto Intel Galileo
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[T]Costomizing Linux Kernel With Yocto</title>
    <link href="http://fengjinyuan.github.io/2019/06/17/T-Costomizing-Linux-Kernel-With-Yocto/"/>
    <id>http://fengjinyuan.github.io/2019/06/17/T-Costomizing-Linux-Kernel-With-Yocto/</id>
    <published>2019-06-17T08:07:51.000Z</published>
    <updated>2019-06-17T08:11:23.352Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Customizing-Linux-Kernel-with-Yocto"><a href="#Customizing-Linux-Kernel-with-Yocto" class="headerlink" title="Customizing Linux Kernel with Yocto"></a>Customizing Linux Kernel with Yocto</h1><blockquote><p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E3B;&#x8981;&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x4F7F;&#x7528;Yocto&#x6765;&#x5B9A;&#x5236;&#x81EA;&#x5DF1;&#x7684;Linux&#x5185;&#x6838;&#xFF0C;&#x901A;&#x8FC7;&#x5B8C;&#x6210;<code>Hands on Kernel Lab</code>&#x4E2D;&#x7684;&#x5B9E;&#x9A8C;&#x5230;&#x8FBE;&#x5B66;&#x4E60;&#x76EE;&#x7684;&#x3002;&#x4E0B;&#x9762;&#x4E3B;&#x8981;&#x9610;&#x8FF0;&#x4E66;&#x4E2D;&#x7684;<em>LAB(1)</em> &#x5B9E;&#x9A8C;&#x3002;</p></blockquote><h2 id="&#x6CE8;&#x610F;&#x4E8B;&#x9879;"><a href="#&#x6CE8;&#x610F;&#x4E8B;&#x9879;" class="headerlink" title="&#x6CE8;&#x610F;&#x4E8B;&#x9879;"></a>&#x6CE8;&#x610F;&#x4E8B;&#x9879;</h2><blockquote><ul><li>Linux&#x5185;&#x6838;&#x7F16;&#x8BD1;&#x4E3B;&#x673A;(Host Machine)<strong>&#x73AF;&#x5883;&#x5F88;&#x91CD;&#x8981;</strong>&#xFF01; </li><li>Linux&#x5185;&#x6838;&#x7F16;&#x8BD1;<strong>&#x7FFB;&#x5899;&#x5F88;&#x91CD;&#x8981;</strong>&#xFF01;</li><li>Linux&#x5185;&#x6838;&#x7F16;&#x8BD1;<strong>&#x8F6F;&#x4EF6;&#x5E93;&#x4F9D;&#x8D56;&#x5F88;&#x91CD;&#x8981;</strong>&#xFF01;</li></ul></blockquote><h2 id="LAB-1"><a href="#LAB-1" class="headerlink" title="LAB(1)"></a>LAB(1)</h2><h4 id="&#x73AF;&#x5883;&#x63CF;&#x8FF0;"><a href="#&#x73AF;&#x5883;&#x63CF;&#x8FF0;" class="headerlink" title="&#x73AF;&#x5883;&#x63CF;&#x8FF0;"></a>&#x73AF;&#x5883;&#x63CF;&#x8FF0;</h4><p>&#x7531;&#x4E8E;Linux&#x5185;&#x6838;&#x7F16;&#x8BD1;&#x5BF9;&#x4E3B;&#x673A;&#x73AF;&#x5883;&#x8981;&#x6C42;&#x5F88;&#x9AD8;&#xFF0C;&#x6240;&#x4EE5;&#x6700;&#x597D;&#x4E25;&#x683C;&#x6EE1;&#x8DB3;&#x7F16;&#x8BD1;&#x73AF;&#x5883;&#x7684;&#x9700;&#x6C42;&#x3002;&#x5C24;&#x5176;&#x5BF9;&#x4E8E;&#x4E3B;&#x673A;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7248;&#x672C;&#x3002;</p><blockquote><ul><li>&#x4E3B;&#x673A;&#x7CFB;&#x7EDF;: Ubuntu 12.04</li></ul></blockquote><h4 id="&#x5B9E;&#x9A8C;&#x51C6;&#x5907;"><a href="#&#x5B9E;&#x9A8C;&#x51C6;&#x5907;" class="headerlink" title="&#x5B9E;&#x9A8C;&#x51C6;&#x5907;"></a>&#x5B9E;&#x9A8C;&#x51C6;&#x5907;</h4><ul><li><p>&#x7CFB;&#x7EDF;&#x51C6;&#x5907;<br>&#x7531;&#x4E8E;Linux&#x5185;&#x6838;&#x7F16;&#x8BD1;&#x4F9D;&#x8D56;&#x4E3B;&#x673A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x53D1;&#x884C;&#x7248;&#x672C;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7248;&#x672C;&#x3002;&#x4E0D;&#x53EF;&#x80FD;&#x6BCF;&#x6B21;&#x4E3A;&#x4E86;&#x7F16;&#x8BD1;&#x5185;&#x6838;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x4E00;&#x904D;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5229;&#x7528;Docker&#x6784;&#x5EFA;&#x4E3B;&#x673A;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x3002;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x9700;&#x8981;&#x5B89;&#x88C5;Docker&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x5BF9;Docker&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x8FDB;&#x884C;&#x53D9;&#x8FF0;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x5B8C;&#x6210;&#x3002;<a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/" target="_blank" rel="noopener">Docker Install</a> &#x3002;&#x6211;&#x4EEC;&#x901A;&#x8FC7;Docker&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;Ubuntu12.04 &#x7684;&#x5BB9;&#x5668;(Container),&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&#x83B7;&#x53D6;Ubuntu 12.04 &#x955C;&#x50CF;</span></span><br><span class="line">[Host] docker pull ubuntu:12.04 </span><br><span class="line"><span class="comment">#&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#xFF0C;/your/workdir/docker/&#x662F;&#x4F60;&#x672C;&#x673A;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF0C;/workdir&#x662F;&#x5BB9;&#x5668;&#x91CC;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF0C;&#x540C;&#x65F6;&#x5EFA;&#x7ACB;50000(&#x672C;&#x673A;):5900(&#x5BB9;&#x5668;)&#x7684;&#x7AEF;&#x53E3;&#x6620;&#x5C04;</span></span><br><span class="line">[Host] docker run -it -v /your/workdir/docker/:/workdir -p 50000:5900 ubuntu:12.04</span><br><span class="line"><span class="comment">#&#x5F00;&#x542F;&#x5BB9;&#x5668;</span></span><br><span class="line">[Host] docker start -i container_id</span><br><span class="line"><span class="comment">#&#x66F4;&#x65B0;&#x5BB9;&#x5668;&#x8F6F;&#x4EF6;&#x5E93;</span></span><br><span class="line">[container] apt-get update</span><br><span class="line"><span class="comment">#&#x66F4;&#x6539;root&#x5BC6;&#x7801;</span></span><br><span class="line">[container] passwd root</span><br><span class="line"><span class="comment">#&#x5EFA;&#x7ACB;&#x666E;&#x901A;&#x7528;&#x6237;</span></span><br><span class="line">[container] useradd -d /home/xxx -s /bin/bash -p ***** xxx</span><br><span class="line">[container] apt-get install sudo</span><br><span class="line"><span class="comment">#&#x8D4B;&#x4E88;&#x666E;&#x901A;&#x7528;&#x6237;&#x8D85;&#x7EA7;&#x6743;&#x9650;</span></span><br><span class="line">[container] usermod -aG sudo xxx (or vim /etc/sudoer)</span><br></pre></td></tr></table></figure></li><li><p>&#x4EE3;&#x7406;&#x914D;&#x7F6E;<br>&#x7531;&#x4E8E;&#x7F16;&#x8BD1;&#x5185;&#x6838;&#x8FC7;&#x7A0B;&#x4E2D;&#x9700;&#x8981;&#x8BB8;&#x591A;&#x7684;&#x8F6F;&#x4EF6;&#x5E93;&#x4F9D;&#x8D56;&#xFF0C;&#x8FD9;&#x4E9B;&#x4F9D;&#x8D56;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#xFF0C;&#x5BF9;&#x4E8E;&#x56FD;&#x5185;&#x7528;&#x6237;&#x6765;&#x8BF4;&#x8FD9;&#x4E9B;&#x4E0B;&#x8F7D;&#x975E;&#x5E38;&#x6162;&#xFF0C;&#x6216;&#x8005;&#x6839;&#x672C;&#x65E0;&#x6CD5;&#x4E0B;&#x8F7D;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;<code>&#x7FFB;&#x5899;(&#x914D;&#x7F6E;&#x4EE3;&#x7406;&#xFF09;</code> &#xFF0C;&#x4E0B;&#x9762;&#x4E3B;&#x8981;&#x8BB2;&#x8FF0;&#x5982;&#x4F55;&#x914D;&#x7F6E;Git&#x4EE3;&#x7406;&#xFF0C;Docker&#x4EE3;&#x7406;&#x3002;<br>1.Git&#x4EE3;&#x7406;&#x914D;&#x7F6E;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x914D;&#x7F6E; http://&#x534F;&#x8BAE;&#x7684;&#x4EE3;&#x7406;  (PS: Git &#x652F;&#x6301;http:// &#x548C;git:// &#x548C; ssh://)</span></span><br><span class="line">git config --global http.proxy <span class="string">&apos;http://your_proxy_ip:port&apos;</span> e.g <span class="string">&apos;http://127.0.0.1:8080&apos;</span></span><br><span class="line">git config --global https.proxy <span class="string">&apos;http://your_proxy_ip:port&apos;</span> e.g <span class="string">&apos;http://127.0.0.1:8080&apos;</span></span><br><span class="line">git config --global socks5.proxy <span class="string">&apos;socks5://your_proxy_ip:port&apos;</span> e.g <span class="string">&apos;socks5://127.0.0.1:8080&apos;</span></span><br><span class="line"><span class="comment"># &#x53D6;&#x6D88; http://&#x534F;&#x8BAE;&#x7684;&#x4EE3;&#x7406;</span></span><br><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> socks5.proxy</span><br><span class="line"><span class="comment"># &#x67E5;&#x770B; &#x914D;&#x7F6E;</span></span><br><span class="line">git config --list</span><br><span class="line"><span class="comment"># &#x914D;&#x7F6E; git:// &#x534F;&#x8BAE;&#x4EE3;&#x7406;</span></span><br><span class="line">&#x53C2;&#x8003;&#x94FE;&#x63A5;&#x5982;&#x4E0B;:[Yocto Git Proxy](https://wiki.yoctoproject.org/wiki/Working_Behind_a_Network_Proxy)</span><br></pre></td></tr></table></figure></li></ul><p>2.Docker&#x4EE3;&#x7406;&#x914D;&#x7F6E;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x521B;&#x5EFA;Docker&#x4EE3;&#x7406;&#x6587;&#x4EF6;</span></span><br><span class="line">[Host] <span class="built_in">cd</span> etc/systemd/system/docker.service.d</span><br><span class="line">[Host] vim http-proxy.conf</span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;:</span></span><br><span class="line">[Service]</span><br><span class="line">Environment=<span class="string">&quot;HTTP_PROXY=http://your_proxy_ip:port/&quot;</span>   e.g <span class="string">&apos;http://127.0.0.1:8080&apos;</span></span><br><span class="line">Environment=<span class="string">&quot;HTTPS_PROXY=http://your_proxy_ip:port/&quot;</span>  e.g <span class="string">&apos;http://127.0.0.1:8080&apos;</span></span><br><span class="line">Environment=<span class="string">&quot;NO_PROXY=localhost,127.0.0.1&quot;</span></span><br><span class="line"><span class="comment"># &#x91CD;&#x542F;Daemon</span></span><br><span class="line">[Host] systemctl  daemon-reload</span><br><span class="line"><span class="comment"># &#x91CD;&#x542F;Docker</span></span><br><span class="line">[Host] systemctl restart docker</span><br><span class="line"><span class="comment"># &#x9A8C;&#x8BC1;&#x914D;&#x7F6E;</span></span><br><span class="line">[Host] systemctl show docker --property Environment</span><br></pre></td></tr></table></figure></p><h4 id="&#x5B9E;&#x9A8C;&#x8FC7;&#x7A0B;"><a href="#&#x5B9E;&#x9A8C;&#x8FC7;&#x7A0B;" class="headerlink" title="&#x5B9E;&#x9A8C;&#x8FC7;&#x7A0B;"></a>&#x5B9E;&#x9A8C;&#x8FC7;&#x7A0B;</h4><p>1.&#x5B89;&#x88C5;Yocto&#x5FC5;&#x8981;&#x7684;&#x8F6F;&#x4EF6;&#x5E93; <code>( &#x5728;&#x5BB9;&#x5668;&#x5B8C;&#x6210;&#xFF09;</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[host] docker start -i container_id</span><br><span class="line">[container] su root</span><br><span class="line">[container] apt-get install gawk wget git-core diffstat unzip texinfo build-essential chrpath libsdl1.2-dev xterm screen</span><br></pre></td></tr></table></figure></p><p>2.git clone Yocto&#x73AF;&#x5883;<br>&#x4E3A;&#x4E86;&#x9632;&#x6B62;Docker&#x91CC;&#x7684;&#x7F51;&#x7EDC;&#x4E0D;&#x7A33;&#x5B9A;&#xFF0C;&#x6211;&#x4EEC;&#x80FD;&#x5728;&#x672C;&#x673A;&#x4E0B;&#x5B8C;&#x6210;&#x7684; &#x64CD;&#x4F5C;&#x6216;&#x4E0B;&#x8F7D; &#x90FD;&#x5C3D;&#x53EF;&#x80FD;&#x5728;&#x672C;&#x673A;&#x5B8C;&#x6210;&#x3002;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x8FDB;&#x5165;&#x672C;&#x673A;&#x4E0E;&#x5BB9;&#x5668;&#x6620;&#x5C04;&#x7684;&#x76EE;&#x5F55;</span></span><br><span class="line">[host] <span class="built_in">cd</span> /your/workdir/docker</span><br><span class="line">[host] git <span class="built_in">clone</span> git://git.yoctoproject.org/poky.git poky-danny-8.0.1</span><br><span class="line">[host] <span class="built_in">cd</span> poky-danny-8.0.1</span><br><span class="line">[host] git checkout -b danny remotes/origin/danny</span><br><span class="line"><span class="comment"># &#x4E0B;&#x8F7D;&#x5B9E;&#x9A8C;&#x5305;&#x5230; poky-danny-8.0.1 &#x76EE;&#x5F55;&#x4E0B;</span></span><br><span class="line">&#x4F60;&#x80FD;&#x5728;&#x8FD9;&#x4E2A;&#x94FE;&#x63A5;&#x91CC;&#x627E;&#x5230; elc-2013-layers.tar.bz2    Link: https://github.com/doothings/Yocto-101</span><br><span class="line"><span class="comment"># &#x89E3;&#x538B;elc-2013-layers.tar.bz2 </span></span><br><span class="line">[host] bunzip2 -c elc-2013-layers.tar.bz2 | tar xvf -</span><br></pre></td></tr></table></figure></p><p>3.&#x5728;&#x5BB9;&#x5668;&#x6784;&#x5EFA;Linux&#x955C;&#x50CF;<br>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x5F00;&#x59CB;&#x8FDB;&#x5165;&#x5BB9;&#x5668;&#x6784;&#x5EFA;Linux&#x5185;&#x6838;&#x3002;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x6CE8;&#x610F;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x4EE5;&#x666E;&#x901A;&#x7528;&#x6237;&#x5B8C;&#x6210;&#x3002;</span><br><span class="line"></span><br><span class="line">[container] <span class="built_in">cd</span> /wokdir/poky-danny-8.0.1</span><br><span class="line">[container] <span class="built_in">source</span> oe-init-build-env  <span class="comment"># &#x8BBE;&#x7F6E;yocto&#x73AF;&#x5883;&#x53D8;&#x91CF;</span></span><br><span class="line">[container] vim conf/local.conf</span><br><span class="line">&#x53D6;&#x6D88;&#x6CE8;&#x91CA;&#x4E00;&#x4E0B;&#x51E0;&#x884C;</span><br><span class="line">BB_NUMBER_THREADS = <span class="string">&quot;4&quot;</span></span><br><span class="line">PARALLEL_MAKE = <span class="string">&quot;-j 4&quot;</span></span><br><span class="line">&#x5728; MACHINE ??= &#x201C;qemux86&#x201D;&#x4E0A;&#x9762;&#x6DFB;&#x52A0;&#x4E00;&#x884C; MACHINE ?= <span class="string">&quot;lab1-qemux86&quot;</span></span><br><span class="line">[container] vim conf/bblayers.conf</span><br><span class="line">&#x6DFB;&#x52A0;&#x4E00;&#x884C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;:</span><br><span class="line">/workdir/poky-danny-8.0.1/meta-lab1-qemux86 \</span><br><span class="line"><span class="comment"># &#x6784;&#x5EFA;Linux&#x955C;&#x50CF; &#xFF0C;&#x8FD9;&#x4E00;&#x8FC7;&#x7A0B;&#x975E;&#x5E38;&#x6F2B;&#x957F;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x914D;&#x7F6E;&#x4E86;&#x4EE3;&#x7406;&#x8FD8;&#x662F;&#x5F88;&#x5FEB;&#x7684;</span></span><br><span class="line">[container] bitbake core-image-minimal</span><br></pre></td></tr></table></figure><p>&#x5F53;&#x5185;&#x6838;&#x7F16;&#x8BD1;&#x6210;&#x529F;&#x5E76;&#x6210;&#x529F;&#x751F;&#x6210;&#x955C;&#x50CF;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;qemu&#x6765;&#x6A21;&#x62DF;&#x8FD0;&#x884C;&#x6211;&#x4EEC;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E86;&#x3002;<br>4.Qemu&#x8FD0;&#x884C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;<br>&#x7531;&#x4E8E;Docker &#x5BB9;&#x5668;&#x662F;&#x6587;&#x5B57;&#x7EC8;&#x7AEF;&#x4E0D;&#x80FD;&#x663E;&#x793A;&#x56FE;&#x5F62;&#x5316;&#x7A0B;&#x5E8F;&#xFF0C;&#x6545;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x5728;&#x5BB9;&#x5668;&#x8FD0;&#x884C;Qemu&#x3002;&#x8FD9;&#x91CC;&#x6709;&#x4E24;&#x4E2A;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A;<br>1&#xFF09;&#x5728;&#x5BB9;&#x5668;&#x91CC;&#x5B89;&#x88C5;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x670D;&#x52A1;&#xFF0C;&#x5EFA;&#x7ACB;VNCServer&#x3002;&#x7136;&#x540E;&#x5728;&#x4E3B;&#x673A;&#x4F7F;&#x7528;VNCClient&#x94FE;&#x63A5;&#x5BB9;&#x5668;&#x3002;&#x8FD9;&#x91CC;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x4F7F;&#x7528;&#x5BB9;&#x5668;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;Qemu&#x3002;<br>2&#xFF09;&#x66F4;&#x6539;Yocto&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x672C;&#x673A;&#xFF08;Host&#xFF09;&#x76F4;&#x63A5;&#x8FD0;&#x884C;Qemu&#x3002;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x4F7F;&#x7528;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x6CD5;&#x3002;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[host] gedit /your/workdir/docker/poky-danny-8.0.1/build/conf/bblayers.conf</span><br><span class="line">&#x66F4;&#x6539;&#x5176;&#x4E2D;&#x7684;&#x8DEF;&#x5F84;&#x4E3A;&#x672C;&#x673A;&#x7684;&#x8DEF;&#x5F84;&#xFF1A;</span><br><span class="line">/workdir/xxxxx   -&gt;  /your/workdir/docker/xxxxx</span><br><span class="line">[host] gedit /your/workdir/docker/poky-danny-8.0.1/build/conf/sanity_info.conf</span><br><span class="line">&#x66F4;&#x6539;&#x5176;&#x4E2D;&#x7684;&#x8DEF;&#x5F84;&#x4E3A;&#x672C;&#x673A;&#x7684;&#x8DEF;&#x5F84;&#xFF1A;</span><br><span class="line">/workdir/xxxxx   -&gt;  /your/workdir/docker/xxxxx</span><br><span class="line">[host] gedit /your/workdir/docker/poky-danny-8.0.1/build/tmp/saved_tmpdir</span><br><span class="line">&#x66F4;&#x6539;&#x5176;&#x4E2D;&#x7684;&#x8DEF;&#x5F84;&#x4E3A;&#x672C;&#x673A;&#x7684;&#x8DEF;&#x5F84;&#xFF1A;</span><br><span class="line">/workdir/xxxxx   -&gt;  /your/workdir/docker/xxxxx</span><br><span class="line">[host] <span class="built_in">cd</span> /your/workdir/docker/poky-danny-8.0.1/</span><br><span class="line">[host] <span class="built_in">source</span> oe-init-build-env <span class="comment"># &#x8BBE;&#x7F6E;&#x5728;&#x672C;&#x673A;&#x7684;Yocto&#x73AF;&#x5883;&#x53D8;&#x91CF;</span></span><br><span class="line">[host] runqemu tmp/deploy/images/bzImage-lab1-qemux86.bin tmp/deploy/images/core-</span><br><span class="line">image-minimal-lab1-qemux86.ext3</span><br><span class="line"></span><br><span class="line">&#x6700;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6210;&#x529F;&#x8FD0;&#x884C;Qemu</span><br></pre></td></tr></table></figure></p><p>5.&#x5B9A;&#x5236;&#x5185;&#x6838;<br>&#x6709;&#x4E86;&#x524D;&#x9762;&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x540E;&#x9762;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5B9A;&#x5236;&#x81EA;&#x5DF1;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#xFF0C;&#x88C1;&#x526A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x4E3B;&#x8981;&#x5728;&#x5BB9;&#x5668;&#x91CC;&#x5B8C;&#x6210;&#x3002;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x6CE8;&#x610F;&#x524D;&#x9762;&#x4E3A;&#x4E86;&#x5728;&#x672C;&#x673A;&#x8FD0;&#x884C;qemu&#x6211;&#x4EEC;&#x6539;&#x52A8;&#x4E86;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x5BB9;&#x5668;&#x4E0B;&#x64CD;&#x4F5C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C06;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6539;&#x52A8;&#x56DE;&#x6765;</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B9A;&#x5236;&#x5185;&#x6838;</span></span><br><span class="line">[container] su xxxx  <span class="comment">#&#x666E;&#x901A;&#x7528;&#x6237;&#x8FD0;&#x884C;</span></span><br><span class="line">[container] <span class="built_in">cd</span> /workdir/poky-danny-8.0.1/</span><br><span class="line">[container] <span class="built_in">source</span> oe-init-build-env</span><br><span class="line">[container] script /dev/null</span><br><span class="line">[container] reset</span><br><span class="line">[container] bitbake linux -c menuconfig   <span class="comment"># &#x5C31;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;Linux&#x5185;&#x6838;&#x6765;&#x8FBE;&#x5230;&#x5B9A;&#x5236;&#x7684;&#x76EE;&#x7684;&#x4E86;</span></span><br><span class="line">&#x4F1A;&#x4EA7;&#x751F;.config&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x4E86;Linux&#x5185;&#x6838;&#x7684;&#x914D;&#x7F6E;&#x60C5;&#x51B5;</span><br><span class="line">[container] bitbake linux -c deploy</span><br><span class="line"></span><br><span class="line">&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7528;Qemu&#x6765;&#x9A8C;&#x8BC1;&#x4FEE;&#x6539;&#x7684;Linux&#x5185;&#x6838;</span><br></pre></td></tr></table></figure></p><h4 id="&#x53C2;&#x8003;&#x8D44;&#x6599;"><a href="#&#x53C2;&#x8003;&#x8D44;&#x6599;" class="headerlink" title="&#x53C2;&#x8003;&#x8D44;&#x6599;"></a>&#x53C2;&#x8003;&#x8D44;&#x6599;</h4><ol><li><a href="http://www.yoctoproject.org/docs/latest/kernel-dev/kernel-dev.html" target="_blank" rel="noopener">Yocto_Kernel_Dev</a> </li><li><a href="http://www.yoctoproject.org/docs/1.3/yocto-project-qs/yocto-project-qs.html" target="_blank" rel="noopener">Yocto_Project</a> </li><li><a href="https://www.thegeekdiary.com/how-to-configure-docker-to-use-proxy/" target="_blank" rel="noopener">Docker_Proxy</a> </li><li><a href="https://github.com/doothings/Yocto-101" target="_blank" rel="noopener">elc-2013-layers</a> </li><li><a href="https://wiki.yoctoproject.org/wiki/Working_Behind_a_Network_Proxy" target="_blank" rel="noopener">Yocto_Git_Proxy</a> </li></ol><p>PS: <em>&#x4EE5;&#x4E0A;&#x94FE;&#x63A5;&#x9700;&#x8981;&#x7FFB;&#x5899;&#x8BBF;&#x95EE;&#xFF01;</em></p><p>&#x6B22;&#x8FCE;&#x6307;&#x51FA;&#x9519;&#x8BEF;&#x548C;&#x8BA8;&#x8BBA;&#xFF0C;&#x8054;&#x7CFB;&#x65B9;&#x5F0F;: <a href="mailto:fengjinyuan@outlook.com" target="_blank" rel="noopener">fengjinyuan@outlook.com</a></p>]]></content>
    
    <summary type="html">
    
      Linux Kernel Yocto
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[R] quaternion formula</title>
    <link href="http://fengjinyuan.github.io/2019/05/16/R-quaternion-formula/"/>
    <id>http://fengjinyuan.github.io/2019/05/16/R-quaternion-formula/</id>
    <published>2019-05-16T14:12:35.000Z</published>
    <updated>2019-06-06T11:00:53.806Z</updated>
    
    <content type="html"><![CDATA[<div class="row">    <embed src="/2019/05/16/R-quaternion-formula/Quaternion.pdf" width="100%" height="550" type="application/pdf"></div>]]></content>
    
    <summary type="html">
    
      Quaternion Formula
    
    </summary>
    
      <category term="Research" scheme="http://fengjinyuan.github.io/categories/Research/"/>
    
    
      <category term="Research" scheme="http://fengjinyuan.github.io/tags/Research/"/>
    
  </entry>
  
  <entry>
    <title>[R] Rodrigues Formula</title>
    <link href="http://fengjinyuan.github.io/2019/05/16/R-Rodrigues-Formula/"/>
    <id>http://fengjinyuan.github.io/2019/05/16/R-Rodrigues-Formula/</id>
    <published>2019-05-16T14:06:54.000Z</published>
    <updated>2019-06-06T11:01:06.630Z</updated>
    
    <content type="html"><![CDATA[<div class="row">    <embed src="/2019/05/16/R-Rodrigues-Formula/Rodrigues.pdf" width="100%" height="550" type="application/pdf"></div>]]></content>
    
    <summary type="html">
    
      Rodrigues Formula
    
    </summary>
    
      <category term="Research" scheme="http://fengjinyuan.github.io/categories/Research/"/>
    
    
      <category term="Research" scheme="http://fengjinyuan.github.io/tags/Research/"/>
    
  </entry>
  
  <entry>
    <title>[T]基于Docker的DeepLearning平台</title>
    <link href="http://fengjinyuan.github.io/2019/04/09/T-Build-DL-based-on-Docker/"/>
    <id>http://fengjinyuan.github.io/2019/04/09/T-Build-DL-based-on-Docker/</id>
    <published>2019-04-09T12:35:41.000Z</published>
    <updated>2019-06-06T11:01:20.007Z</updated>
    
    <content type="html"><![CDATA[<div class="row">    <embed src="/2019/04/09/T-Build-DL-based-on-Docker/Build_DL_based_on_docker.pdf" width="100%" height="550" type="application/pdf"></div>]]></content>
    
    <summary type="html">
    
      Docker Deep Learning
    
    </summary>
    
      <category term="Research" scheme="http://fengjinyuan.github.io/categories/Research/"/>
    
    
      <category term="Research" scheme="http://fengjinyuan.github.io/tags/Research/"/>
    
  </entry>
  
  <entry>
    <title>[C]GCN+GAN+RL Summary</title>
    <link href="http://fengjinyuan.github.io/2019/04/09/C-GCN-GAN-RL/"/>
    <id>http://fengjinyuan.github.io/2019/04/09/C-GCN-GAN-RL/</id>
    <published>2019-04-09T09:15:22.000Z</published>
    <updated>2019-06-06T11:00:30.251Z</updated>
    
    <content type="html"><![CDATA[<div class="row">    <embed src="/2019/04/09/C-GCN-GAN-RL/GCN_GAN_RL.pdf" width="100%" height="550" type="application/pdf"></div>]]></content>
    
    <summary type="html">
    
      The article just indicates some knowledge about Graph Convolution Networks and GAN and RL
    
    </summary>
    
      <category term="Research" scheme="http://fengjinyuan.github.io/categories/Research/"/>
    
    
      <category term="Research" scheme="http://fengjinyuan.github.io/tags/Research/"/>
    
  </entry>
  
  <entry>
    <title>[T]hadoop2.7.3 集群搭建(Ubuntu)</title>
    <link href="http://fengjinyuan.github.io/2016/12/02/T-hadoop2-7-3-%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/"/>
    <id>http://fengjinyuan.github.io/2016/12/02/T-hadoop2-7-3-集群搭建/</id>
    <published>2016-12-02T03:24:52.000Z</published>
    <updated>2019-06-06T11:03:27.566Z</updated>
    
    <content type="html"><![CDATA[<h1 id="hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;-Ubuntu"><a href="#hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;-Ubuntu" class="headerlink" title="hadoop2.7.3 &#x96C6;&#x7FA4;&#x642D;&#x5EFA;(Ubuntu)"></a>hadoop2.7.3 &#x96C6;&#x7FA4;&#x642D;&#x5EFA;(Ubuntu)</h1><h2 id="&#x73AF;&#x5883;&#x4ECB;&#x7ECD;"><a href="#&#x73AF;&#x5883;&#x4ECB;&#x7ECD;" class="headerlink" title="&#x73AF;&#x5883;&#x4ECB;&#x7ECD;"></a>&#x73AF;&#x5883;&#x4ECB;&#x7ECD;</h2><blockquote><p>&#x4E3B;&#x673A;(master)&#x7CFB;&#x7EDF;:Ubuntu 16.04 64bit<br>&#x4ECE;&#x673A;(slave)&#x7CFB;&#x7EDF;:Ubuntu 14 64bit<br>&#x4E3B;&#x673A;&#x6570;&#x91CF;: 1<br>&#x4ECE;&#x673A;&#x6570;&#x91CF;: 2<br>&#x4ECE;&#x673A;&#x5B89;&#x88C5;&#x5728;&#x865A;&#x62DF;&#x673A;(VirtualBox),&#x4E3B;&#x673A;&#x662F;&#x7269;&#x7406;&#x5B9E;&#x4F53;&#x673A;</p></blockquote><h2 id="&#x51C6;&#x5907;&#x5DE5;&#x4F5C;"><a href="#&#x51C6;&#x5907;&#x5DE5;&#x4F5C;" class="headerlink" title="&#x51C6;&#x5907;&#x5DE5;&#x4F5C;"></a>&#x51C6;&#x5907;&#x5DE5;&#x4F5C;</h2><h3 id="1-&#x642D;&#x5EFA;&#x4E3B;&#x4ECE;&#x673A;&#x5C40;&#x57DF;&#x7F51;"><a href="#1-&#x642D;&#x5EFA;&#x4E3B;&#x4ECE;&#x673A;&#x5C40;&#x57DF;&#x7F51;" class="headerlink" title="1.&#x642D;&#x5EFA;&#x4E3B;&#x4ECE;&#x673A;&#x5C40;&#x57DF;&#x7F51;"></a>1.&#x642D;&#x5EFA;&#x4E3B;&#x4ECE;&#x673A;&#x5C40;&#x57DF;&#x7F51;</h3><ul><li><1> &#x66F4;&#x6539; &#x4E3B;&#x673A;  &#x4ECE;&#x673A; &#x673A;&#x5668;&#x540D;<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x4E3B;&#x673A;: sudo vi /etc/hostname  &#x66F4;&#x6539;&#x4E3B;&#x673A;&#x540D; &#x4E3A;master  &#x91CD;&#x542F;</span><br><span class="line">&#x4ECE;&#x673A;: sudo vi /etc/hostname  &#x66F4;&#x6539;&#x4E3B;&#x673A;&#x540D; &#x4E3A;slave(&#x4ECE;&#x673A;&#x7F16;&#x53F7;),&#x4F8B;&#x5982; slave0,slave1 &#x7136;&#x540E;&#x91CD;&#x542F;</span><br></pre></td></tr></table></figure></1></li></ul><ul><li><2> &#x8BBE;&#x7F6E;&#x865A;&#x62DF;&#x673A;&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;<br>&#x5728;VirtualBox&#x7684;&#x5168;&#x5C40;&#x8BBE;&#x5B9A; -&gt;&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E; -&gt; &#x5728;(Host-Only)&#x7F51;&#x7EDC;&#x90A3;&#x680F; &#x6DFB;&#x52A0;&#x65B0;&#x7684;Host-Only&#x7F51;&#x7EDC;<br><img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/1.png" alt=""><br>&#x5728;{&#x5404;&#x4E2A;}&#x4ECE;&#x673A;&#x7684;&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;&#x91CC; &#x9009;&#x7740;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;:(Host-Only) &#x754C;&#x9762;&#x540D;&#x79F0;:&#x9009;&#x62E9; &#x521A;&#x624D;&#x65B0;&#x5EFA;&#x7684;Host-Only&#x7F51;&#x7EDC;<br><img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/2.png" alt=""></2></li><li><p><3> &#x4E3B;&#x673A;&#x4E0E;&#x4ECE;&#x673A;,&#x4ECE;&#x673A;&#x4E0E;&#x4ECE;&#x673A; &#x4E92;&#x901A;</3></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x4E3B;&#x673A;: ping slave0&#x2019;s IP   ping slave1&#x2019;S IP </span><br><span class="line">&#x5404;&#x4E2A;&#x4ECE;&#x673A;: ping master&#x2019;s IP</span><br></pre></td></tr></table></figure><p>PS:&#x6709;&#x9632;&#x706B;&#x8BF7;&#x7684;&#x5173;&#x9632;&#x706B;&#x5899;,&#x5F00;&#x542F;SELINUX&#x5173;&#x6389;</p></li><li><p><4> &#x4FEE;&#x6539;/etc/hosts</4></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x4E3B;&#x673A;: vi /etc/hosts</span><br><span class="line">127.0.0.1 localhost</span><br><span class="line">192.168.56.1 master</span><br><span class="line">192.168.56.101 slave0</span><br><span class="line">192.168.56.101 slave0</span><br><span class="line">&#x4ECE;&#x673A;:&#x540C;&#x4E0A;</span><br></pre></td></tr></table></figure><p><img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/3.png" alt=""><br>PS: IP&#x6620;&#x5C04;(/etc/hosts)&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x8BBE;&#x5B9A;&#x7684;&#x5C40;&#x57DF;&#x7F51;&#x73AF;&#x5883;&#x800C;&#x5B9A;</p><h3 id="2-&#x5B89;&#x88C5;JDK"><a href="#2-&#x5B89;&#x88C5;JDK" class="headerlink" title="2.&#x5B89;&#x88C5;JDK"></a>2.&#x5B89;&#x88C5;JDK</h3><p>&#x4E3B;&#x673A;&#x548C;&#x4ECE;&#x673A;&#x90FD;&#x8981;&#x5B89;&#x88C5;JDK,JDK&#x4E0B;&#x8F7D;&#x5730;&#x5740;:<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="noopener">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a><br>&#x4E0B;&#x8F7D;jdk-8u111-linux-x64.tar.gz</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> &#x89E3;&#x538B;jdk-8u111-linux-x64.tar.gz</span><br><span class="line"> <span class="built_in">cd</span> /usr/<span class="built_in">local</span></span><br><span class="line"> sudo tar -zxvf jdk-8u111-linux-x64.tar.gz</span><br><span class="line"> mv &#x89E3;&#x538B;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x5939;/   jdk1.8/</span><br><span class="line"> &#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;</span><br><span class="line">sudo vi /etc/profile</span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/<span class="built_in">local</span>/jdk1.8</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/jre/lib:<span class="variable">$JAVA_HOME</span>/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> JAVA_JRE=<span class="variable">$JAVA_HOME</span>/jre</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line">&#x4FDD;&#x5B58;profile</span><br><span class="line">&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x751F;&#x6548;:<span class="built_in">source</span> /etc/profile</span><br><span class="line">&#x6D4B;&#x8BD5;java&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x6210;&#x529F;</span><br><span class="line">java -version</span><br><span class="line">&#x663E;&#x793A;&#x6B63;&#x786E;&#x7248;&#x672C;OK</span><br></pre></td></tr></table></figure></li></ul><h3 id="3-&#x5B89;&#x88C5;SSH"><a href="#3-&#x5B89;&#x88C5;SSH" class="headerlink" title="3.&#x5B89;&#x88C5;SSH"></a>3.&#x5B89;&#x88C5;SSH</h3><p>&#x4E3B;&#x673A;&#x4ECE;&#x673A;&#x90FD;&#x8981;&#x5B89;&#x88C5;SSH<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openssh-server</span><br><span class="line">&#x67E5;&#x770B;ssd&#x662F;&#x5426;&#x542F;&#x52A8;</span><br><span class="line">pstree</span><br><span class="line">&#x5728;&#x76EE;&#x5F55;&#x6811;&#x4E0A;&#x627E;&#x5230;sshdOK</span><br></pre></td></tr></table></figure></p><h3 id="4-&#x65B0;&#x5EFA;hadoop&#x7528;&#x6237;"><a href="#4-&#x65B0;&#x5EFA;hadoop&#x7528;&#x6237;" class="headerlink" title="4.&#x65B0;&#x5EFA;hadoop&#x7528;&#x6237;"></a>4.&#x65B0;&#x5EFA;hadoop&#x7528;&#x6237;</h3><p>&#x4E3B;&#x673A;&#x4ECE;&#x673A;&#x90FD;&#x8981;&#x65B0;&#x5EFA;hadoop&#x7528;&#x6237;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo addgroup hadoop</span><br><span class="line">sudo adduser -ingroup hadoop hadoop</span><br><span class="line">sudo vi /etc/sudoers</span><br><span class="line">&#x6DFB;&#x52A0; hadoop ALL=(ALL:ALL) ALL &#x5982;&#x4E0B;&#x56FE;</span><br></pre></td></tr></table></figure></p><p> <img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/4.png" alt=""></p><h3 id="5-SSH&#x65E0;&#x79D8;&#x94A5;&#x767B;&#x5F55;"><a href="#5-SSH&#x65E0;&#x79D8;&#x94A5;&#x767B;&#x5F55;" class="headerlink" title="5.SSH&#x65E0;&#x79D8;&#x94A5;&#x767B;&#x5F55;"></a>5.SSH&#x65E0;&#x79D8;&#x94A5;&#x767B;&#x5F55;</h3> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> &#x4E3B;&#x673A;&#x4E0A;&#xFF1A;</span><br><span class="line"> &#x767B;&#x5165;hadoop&#x7528;&#x6237;</span><br><span class="line"> su hadoop</span><br><span class="line"> <span class="built_in">cd</span> /home/hadoop</span><br><span class="line"> ssh-keygen -t rsa -P <span class="string">&quot;&quot;</span></span><br><span class="line"> &#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x4F1A;&#x4EA7;&#x751F;.ssh &#x76EE;&#x5F55;</span><br><span class="line"> <span class="built_in">cd</span> .ssh</span><br><span class="line"> cat id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line"> &#x4ECE;&#x673A;&#x4E0A;:</span><br><span class="line"> su hadoop</span><br><span class="line"> <span class="built_in">cd</span> /home/hadoop</span><br><span class="line"> ssh-keygen -t rsa -P <span class="string">&quot;&quot;</span></span><br><span class="line"> &#x4E3B;&#x673A;&#x4E0A;&#xFF1A;</span><br><span class="line"> <span class="built_in">cd</span> /home/hadoop/.ssh</span><br><span class="line"> scp authorized_keys hadoop@slave{&#x7F16;&#x53F7;}&#xFF1A;~/.ssh/</span><br><span class="line"> &#x4F8B;&#x5982;:</span><br><span class="line">scp authorized_keys hadoop@slave0&#xFF1A;~/.ssh/</span><br><span class="line">scp authorized_keys hadoop@slave1&#xFF1A;~/.ssh/</span><br><span class="line">&#x6D4B;&#x8BD5;&#x65E0;&#x79D8;&#x94A5;&#x767B;&#x5F55;&#xFF1A;ssh hadoop@slave0</span><br><span class="line">&#x65E0;&#x9700;&#x8F93;&#x5BC6;&#x7801;&#x5219;&#x6210;&#x529F;</span><br><span class="line"></span><br><span class="line">&#x4ECE;&#x673A;&#x4E0A;&#xFF1A;</span><br><span class="line">&#x5C06;&#x4ECE;&#x673A;&#x7684;&#x516C;&#x94A5;&#x7ED9;&#x4E3B;&#x673A;</span><br><span class="line"><span class="built_in">cd</span> /home/hadoop/.ssh</span><br><span class="line">ssh-copy-id master</span><br><span class="line">&#x6D4B;&#x8BD5;&#x65E0;&#x79D8;&#x94A5;&#x767B;&#x5F55;&#xFF1A;ssh hadoop@master</span><br><span class="line">&#x65E0;&#x9700;&#x8F93;&#x5BC6;&#x7801;&#x5219;&#x6210;&#x529F;</span><br></pre></td></tr></table></figure><p>PS:ssh hadoop@master &#x5982;&#x679C;&#x51FA;&#x73B0;&#x4EE5;&#x4E0B;&#x9519;&#x8BEF;<br><img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/5.png" alt=""><br>&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x56FE;&#x7247;&#x627E;&#x5230;&#x81EA;&#x5DF1;&#x5BF9;&#x5E94;&#x7684;&#x9519;&#x8BEF;&#x5E8F;&#x53F7;,&#x5C06;.ssh/known_hosts&#x6587;&#x4EF6;&#x4E2D;&#x5BF9;&#x5E94;&#x5E8F;&#x53F7;&#x7684;&#x6BB5;&#x5220;&#x9664;<br><img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/6.png" alt=""></p><h2 id="&#x5B89;&#x88C5;Hadoop"><a href="#&#x5B89;&#x88C5;Hadoop" class="headerlink" title="&#x5B89;&#x88C5;Hadoop"></a>&#x5B89;&#x88C5;Hadoop</h2><p>&#x5148;&#x53BB;&#x4E0B;&#x8F7D;hadoop,&#x4E0B;&#x8F7D;&#x5730;&#x5740;:<a href="http://hadoop.apache.org/releases.html" target="_blank" rel="noopener">http://hadoop.apache.org/releases.html</a><br>&#x4E0B;&#x8F7D;hadoop-2.7.3.tar.gz<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x4E3B;&#x673A;&#x4E0A;&#xFF1A;</span><br><span class="line">&#x5C06;&#x5176;&#x89E3;&#x538B;&#x5230;/home/hadoop/&#x4E0B;</span><br><span class="line">tar -zxvf hadoop-2.7.3.tar.gz</span><br><span class="line">mv &#x89E3;&#x538B;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x5939;&#x540D;  hadoop</span><br></pre></td></tr></table></figure></p><h2 id="&#x914D;&#x7F6E;hadoop"><a href="#&#x914D;&#x7F6E;hadoop" class="headerlink" title="&#x914D;&#x7F6E;hadoop"></a>&#x914D;&#x7F6E;hadoop</h2><p>&#x4E3B;&#x673A;&#x4E0A;&#xFF1A;<br>cd /home/hadoop/etc/hadoop</p><ul><li>vi hadoop-env.sh<br><img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/7.png" alt=""></li><li>vi core-site.xml<br><img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/8.png" alt=""></li><li>vi hdfs-site.xml<br><img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/9.png" alt=""></li><li>vi mapred-site.xml<br><img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/10.png" alt=""></li><li>vi yarn-site.xml<br><img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/11.png" alt=""></li><li>vi slaves<br><img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/12.png" alt=""></li></ul><p>&#x590D;&#x5236;&#x7ED9;&#x4ECE;&#x673A;<br>scp -r /home/hadoop/hadoop hadoop@slave0:/home/hadoop<br>scp -r /home/hadoop/hadoop hadoop@slave1:/home/hadoop</p><h2 id="&#x542F;&#x52A8;hadoop"><a href="#&#x542F;&#x52A8;hadoop" class="headerlink" title="&#x542F;&#x52A8;hadoop"></a>&#x542F;&#x52A8;hadoop</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x4E3B;&#x673A;&#x4E0A;&#xFF1A;</span><br><span class="line"><span class="built_in">cd</span> /home/hadoop/hadoop/bin</span><br><span class="line">./hdfs namenode -format</span><br><span class="line"><span class="built_in">cd</span> /home/hadoop/hadoop/sbin</span><br><span class="line">./start-all.sh</span><br><span class="line">&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;&#xFF1A;master:50070</span><br></pre></td></tr></table></figure><p><img src="/2016/12/02/T-hadoop2-7-3-&#x96C6;&#x7FA4;&#x642D;&#x5EFA;/13.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      Hadoop2.7.3 集群搭建
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[T]MicroZed的Linux移植</title>
    <link href="http://fengjinyuan.github.io/2016/10/10/T-MicroZed%E7%9A%84Linux%E7%A7%BB%E6%A4%8D/"/>
    <id>http://fengjinyuan.github.io/2016/10/10/T-MicroZed的Linux移植/</id>
    <published>2016-10-09T23:05:40.000Z</published>
    <updated>2019-06-06T11:58:30.288Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MicroZed-Linux&#x79FB;&#x690D;&#x4E0E;&#x7F16;&#x7A0B;"><a href="#MicroZed-Linux&#x79FB;&#x690D;&#x4E0E;&#x7F16;&#x7A0B;" class="headerlink" title="MicroZed Linux&#x79FB;&#x690D;&#x4E0E;&#x7F16;&#x7A0B;"></a>MicroZed Linux&#x79FB;&#x690D;&#x4E0E;&#x7F16;&#x7A0B;</h1><h2 id="&#x64CD;&#x4F5C;&#x73AF;&#x5883;"><a href="#&#x64CD;&#x4F5C;&#x73AF;&#x5883;" class="headerlink" title="&#x64CD;&#x4F5C;&#x73AF;&#x5883;"></a>&#x64CD;&#x4F5C;&#x73AF;&#x5883;</h2><blockquote><p>&#x4E3B;&#x673A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;:ubuntu16.04<br>&#x865A;&#x62DF;&#x673A;&#x7CFB;&#x7EDF;:win7(sp1)</p></blockquote><h2 id="&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;"><a href="#&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;" class="headerlink" title="&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;"></a>&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MicroZed</span><br><span class="line">|----uboot    //&#x5B58;&#x653E;uboot&#x6E90;&#x7801;</span><br><span class="line">|----linux    //&#x5B58;&#x653E;linux&#x6E90;&#x7801;</span><br><span class="line">|----filesystem  //&#x7528;&#x6765;&#x6784;&#x5EFA;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</span><br><span class="line">|----devicetree  //&#x5B58;&#x653E;&#x8BBE;&#x5907;&#x6811;</span><br><span class="line">|----MySD        //&#x5B58;&#x653E;&#x8981;&#x8981;&#x62F7;&#x5165;SD&#x5361;&#x7684;&#x6587;&#x4EF6;,uImage,u-boot,devicetree,uramdisk.image.gz</span><br><span class="line">win7share   //&#x7528;&#x4E8E;&#x5728;&#x865A;&#x62DF;&#x673A;&#x95F4;&#x4F20;&#x9012;&#x6587;&#x4EF6;</span><br><span class="line">tools-arm   //&#x5B58;&#x653E;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x94FE;</span><br></pre></td></tr></table></figure><h2 id="&#x4E0B;&#x8F7D;&#x4E0E;&#x914D;&#x7F6E;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x94FE;"><a href="#&#x4E0B;&#x8F7D;&#x4E0E;&#x914D;&#x7F6E;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x94FE;" class="headerlink" title="&#x4E0B;&#x8F7D;&#x4E0E;&#x914D;&#x7F6E;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x94FE;"></a>&#x4E0B;&#x8F7D;&#x4E0E;&#x914D;&#x7F6E;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x94FE;</h2><blockquote><p>&#x4E0B;&#x8F7D;&#x5730;&#x5740;  <a href="http://www.veryarm.com/arm-none-linux-gnueabi-gcc" target="_blank" rel="noopener">http://www.veryarm.com/arm-none-linux-gnueabi-gcc</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc</span><br><span class="line">vi profile</span><br><span class="line">//&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4E24;&#x884C;</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="string">&quot;home/&#x7528;&#x6237;/tools-arm/arm-2014.05/bin&quot;</span>;</span><br><span class="line"><span class="built_in">export</span> CROSS_COMPILE=<span class="string">&quot;arm-none-linux-gnueabi-&quot;</span></span><br><span class="line">&#x4FDD;&#x5B58;</span><br><span class="line"><span class="built_in">source</span> /etc/profile //&#x7ACB;&#x5373;&#x751F;&#x6548;</span><br></pre></td></tr></table></figure></p></blockquote><h2 id="&#x4E0B;&#x8F7D;&#x7F16;&#x8BD1;uboot"><a href="#&#x4E0B;&#x8F7D;&#x7F16;&#x8BD1;uboot" class="headerlink" title="&#x4E0B;&#x8F7D;&#x7F16;&#x8BD1;uboot"></a>&#x4E0B;&#x8F7D;&#x7F16;&#x8BD1;uboot</h2><blockquote><p>&#x4E0B;&#x8F7D;&#x5730;&#x5740; <a href="https://github.com/Xilinx/u-boot-xlnx/releases" target="_blank" rel="noopener">https://github.com/Xilinx/u-boot-xlnx/releases</a> &#x7248;&#x672C;v2016.2<br>&#x6587;&#x4EF6;&#x89E3;&#x538B; MicroZed/uboot&#x76EE;&#x5F55;&#x4E0B;,&#x7136;&#x540E;&#x8FDB;&#x5165;&#x76EE;&#x5F55;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">make distclean</span><br><span class="line">make zynq_zed_config</span><br><span class="line">make</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x56FE;&#xFF0C;&#x62F7;&#x8D1D;u-boot&#x5230;MySD<br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/1.png" alt=""><br>&#x51FA;&#x73B0;&#x4EE5;&#x4E0B;&#x95EE;&#x9898;,&#x89E3;&#x51B3;&#x529E;&#x6CD5;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.&#x7F3A;&#x5C11;openssl</span><br><span class="line">apt-get install libssl-dev</span><br><span class="line">2.&#x7F3A;&#x5C11;device-tree-compiler</span><br><span class="line">apt-get intsall device-tree-compiler</span><br></pre></td></tr></table></figure></p></blockquote><h2 id="&#x4E0B;&#x8F7D;&#x7F16;&#x8BD1;linux"><a href="#&#x4E0B;&#x8F7D;&#x7F16;&#x8BD1;linux" class="headerlink" title="&#x4E0B;&#x8F7D;&#x7F16;&#x8BD1;linux"></a>&#x4E0B;&#x8F7D;&#x7F16;&#x8BD1;linux</h2><blockquote><p>&#x4E0B;&#x8F7D;&#x5730;&#x5740; <a href="https://github.com/Xilinx/linux-xlnx/releases" target="_blank" rel="noopener">https://github.com/Xilinx/linux-xlnx/releases</a> &#x7248;&#x672C;v2014.2<br>&#x6587;&#x4EF6;&#x89E3;&#x538B; MicroZed/linux&#x76EE;&#x5F55;&#x4E0B;,&#x7136;&#x540E;&#x8FDB;&#x5165;&#x76EE;&#x5F55;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">make ARCH=arm distclean</span><br><span class="line">make ARCH=arm xilinx_zynq_defconfig</span><br><span class="line">make ARCH=arm menuconfig</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>&#x914D;&#x7F6E;RAMDISK,&#x5982;&#x56FE;    &#x4FEE;&#x6539;<br>(8) Default number of RAM disks<br>(32768) Default RAM disk size<br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/2.png" alt=""><br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/3.png" alt=""><br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/4.png" alt=""><br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/5.png" alt=""></p></blockquote><blockquote><p>&#x5B8C;&#x6210;&#x540E;&#x4FDD;&#x5B58;,&#x5F00;&#x59CB;&#x7F16;&#x8BD1;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make ARCH=arm uImage LOADADDR=0x00100000</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>&#x7F16;&#x8BD1;&#x5B8C;&#x6210;&#x7ED3;&#x679C;&#x5982;&#x56FE;,&#x62F7;&#x8D1D;uImage&#x5230;MySD<br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/6.png" alt=""><br>&#x51FA;&#x73B0;&#x4EE5;&#x4E0B;&#x95EE;&#x9898;,&#x89E3;&#x51B3;&#x529E;&#x6CD5;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. fatal error: curses.h: &#x6CA1;&#x6709;&#x90A3;&#x4E2A;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;</span><br><span class="line">apt-get install libncurses5-dev</span><br><span class="line">2. no mkimage </span><br><span class="line">&#x590D;&#x5236;uboot&#x91CC;&#x7684;tools&#x91CC;&#x7684;mkimage&#x5230;  /usr/bin</span><br></pre></td></tr></table></figure></p></blockquote><h2 id="&#x5236;&#x4F5C;&#x548C;&#x4FEE;&#x6539;&#x8BBE;&#x5907;&#x6811;"><a href="#&#x5236;&#x4F5C;&#x548C;&#x4FEE;&#x6539;&#x8BBE;&#x5907;&#x6811;" class="headerlink" title="&#x5236;&#x4F5C;&#x548C;&#x4FEE;&#x6539;&#x8BBE;&#x5907;&#x6811;"></a>&#x5236;&#x4F5C;&#x548C;&#x4FEE;&#x6539;&#x8BBE;&#x5907;&#x6811;</h2><blockquote><p>&#x8FDB;&#x5165;&#x521A;&#x624D;&#x4E0B;&#x8F7D;&#x7684;linux&#x5185;&#x6838;&#x76EE;&#x5F55; &#x8FDB;&#x5165;&#x5230;&#x4EE5;&#x4E0B;&#x76EE;&#x5F55;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cp &#x5185;&#x6838;&#x76EE;&#x5F55;/arch/arm/boot/dts</span><br><span class="line">//&#x627E;&#x5230;zynq-zed.dts</span><br><span class="line">cp ./zynq-zed.dts  &#x5185;&#x6838;&#x76EE;&#x5F55;/</span><br><span class="line">mv zynq-zed.dts devicetree.dts</span><br><span class="line">vi devicetree.dts</span><br><span class="line">//&#x5982;&#x4E0B;&#x56FE;</span><br></pre></td></tr></table></figure></p></blockquote><p><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/7.png" alt=""><br>&#x6DFB;&#x52A0; ip=192.168.1.10:192.168.1.1:192.168.1.1:255.255.255.0::eth0:none &#x5982;&#x4E0B;&#x56FE;<br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/8.png" alt=""></p><blockquote><p>&#x5728;&#x5185;&#x6838;&#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x6307;&#x4EE4;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./scripts/dtc/dtc -O dtb -I dts -o devicetree.dtb devicetree.dts</span><br><span class="line">//&#x590D;&#x5236;devicetree.dtb &#x5230;MySD</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x89E3;&#x51B3;&#x529E;&#x6CD5;:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//&#x8FDB;&#x5165;&#x5185;&#x6838;&#x76EE;&#x5F55;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x64CD;&#x4F5C;</span><br><span class="line">make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- xilinx_zynq_defconfig</span><br><span class="line">make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- dtbs</span><br><span class="line"><span class="built_in">cd</span> &#x5185;&#x6838;&#x76EE;&#x5F55;/arch/arm/boot/dts</span><br><span class="line">cp ./zynq-zed.dtb   &#x5185;&#x6838;&#x76EE;&#x5F55;/</span><br><span class="line">mv zynq-zed.dtb  devicetree.dtb</span><br><span class="line">//&#x62F7;&#x8D1D;devicetree.dtb &#x5230;MySD</span><br></pre></td></tr></table></figure></p></blockquote><h2 id="&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5236;&#x4F5C;"><a href="#&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5236;&#x4F5C;" class="headerlink" title="&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5236;&#x4F5C;"></a>&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5236;&#x4F5C;</h2><blockquote><p>&#x4E0B;&#x8F7D;ramdisk   <a href="http://www.wiki.xilinx.com/Build+and+Modify+a+Rootfs" target="_blank" rel="noopener">http://www.wiki.xilinx.com/Build+and+Modify+a+Rootfs</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//&#x89E3;&#x538B;&#x6587;&#x4EF6;&#x5230; filesystem &#x8FDB;&#x884C;&#x5982;&#x4E0B;&#x64CD;&#x4F5C;</span><br><span class="line">mv arm_ramdisk.image.gz  ramdisk.image.gz</span><br><span class="line">gunzip ramdisk.image.gz //&#x5F97;&#x5230; ramdisk.image</span><br><span class="line">mkdir tmp_mnt</span><br><span class="line">mkdir tmp_mnt_new</span><br><span class="line">mount -o loop ramdisk.image tmp_mnt/</span><br><span class="line">dd <span class="keyword">if</span>=/dev/zero of=ramdisknew.image bs=1024 count=32768  //&#x5236;&#x4F5C;32MB&#x7684;&#x7A7A;&#x955C;&#x50CF;&#x6587;&#x4EF6;</span><br><span class="line">mke2fs -F ramdisknew.image -L&#x3000;<span class="string">&quot;ramdisk&quot;</span> -b 1024 -m 0    //&#x8F6C;&#x6362;&#x4E3A;ext2&#x683C;&#x5F0F;</span><br><span class="line">tune2fs ramdisknew.image -i 0 //&#x7981;&#x7528;&#x65F6;&#x95F4;&#x68C0;&#x67E5;</span><br><span class="line">chmod a+rwx ramdisknew.image</span><br><span class="line">mount -o loop ramdisknew.image tmp_mnt_new/</span><br><span class="line">cp -R ./tmp_mnt/* ./tmp_mnt_new/   //&#x5C06;ramdisk&#x7684;&#x5185;&#x5BB9;&#x62F7;&#x8D1D;&#x5230;&#x65B0;ramdisk&#x53BB;</span><br><span class="line">umount  tmp_mnt</span><br><span class="line">umount tmp_mnt_new</span><br><span class="line">gzip ramdisknew.image</span><br><span class="line">mkimage -A arm -T ramdisk -C gzip -d ramdisknew.image.gz uramdisk.iamge.gz</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>&#x64CD;&#x4F5C;&#x5B8C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x56FE;,&#x62F7;&#x8D1D;uramdisk.iamge.gz&#x5230;MySD<br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/9.png" alt=""></p></blockquote><blockquote><p>&#x6700;&#x7EC8;MySD&#x5185;&#x5BB9;&#x5982;&#x4E0B;<br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/10.png" alt=""></p></blockquote><h2 id="xilinx-tools&#x5236;&#x4F5C;BOOT-bin-&#x6765;&#x81EA;&#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;"><a href="#xilinx-tools&#x5236;&#x4F5C;BOOT-bin-&#x6765;&#x81EA;&#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;" class="headerlink" title="xilinx tools&#x5236;&#x4F5C;BOOT.bin  (&#x6765;&#x81EA;&#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;:MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;)"></a>xilinx tools&#x5236;&#x4F5C;BOOT.bin  (&#x6765;&#x81EA;&#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;:MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;)</h2><p><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/15.png" alt=""></p><blockquote><p>&#x6700;&#x7EC8;&#x6587;&#x4EF6;&#x5982;&#x4E0B;,&#x5C06;&#x8BE5;&#x6587;&#x4EF6;&#x62F7;&#x5165;SD&#x5361;,&#x8FDE;&#x63A5;&#x5F00;&#x53D1;&#x677F;,&#x91CD;&#x65B0;&#x4E0A;&#x7535;,&#x901A;&#x8FC7;putty&#x67E5;&#x770B;&#x3002;</p></blockquote><center><br>    <img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/11.png" width="70%" height="70%"><br></center><center><br>    <img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/12.jpg" width="50%" height="50%"><br></center><p><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/13.png" alt=""></p><h2 id="&#x642D;&#x5EFA;&#x8F6F;&#x4EF6;&#x8C03;&#x8BD5;&#x73AF;&#x5883;"><a href="#&#x642D;&#x5EFA;&#x8F6F;&#x4EF6;&#x8C03;&#x8BD5;&#x73AF;&#x5883;" class="headerlink" title="&#x642D;&#x5EFA;&#x8F6F;&#x4EF6;&#x8C03;&#x8BD5;&#x73AF;&#x5883;"></a>&#x642D;&#x5EFA;&#x8F6F;&#x4EF6;&#x8C03;&#x8BD5;&#x73AF;&#x5883;</h2><ul><li>&#x6784;&#x5EFA;&#x5F00;&#x53D1;&#x677F;&#x4E0E;&#x4E3B;&#x673A;&#x95F4;&#x5C40;&#x57DF;&#x7F51;,&#x5982;&#x56FE;<br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/14.png" alt=""><br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/16.png" alt=""><br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/17.png" alt=""></li><li>&#x6D4B;&#x8BD5;&#x7F51;&#x7EDC;&#x662F;&#x5426;&#x901A;&#x7545;<br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/18.png" alt=""><br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/19.png" alt=""></li></ul><h3 id="&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;Linux&#x5E94;&#x7528;"><a href="#&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;Linux&#x5E94;&#x7528;" class="headerlink" title="&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;Linux&#x5E94;&#x7528;"></a>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;Linux&#x5E94;&#x7528;</h3><p><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/20.png" alt=""><br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/21.png" alt=""></p><h3 id="&#x914D;&#x7F6E;&#x8FDC;&#x7A0B;&#x8C03;&#x8BD5;"><a href="#&#x914D;&#x7F6E;&#x8FDC;&#x7A0B;&#x8C03;&#x8BD5;" class="headerlink" title="&#x914D;&#x7F6E;&#x8FDC;&#x7A0B;&#x8C03;&#x8BD5;"></a>&#x914D;&#x7F6E;&#x8FDC;&#x7A0B;&#x8C03;&#x8BD5;</h3><p><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/22.png" alt=""><br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/23.png" alt=""><br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/24.png" alt=""><br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/25.png" alt=""><br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/26.png" alt=""><br><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/27.png" alt=""></p><h3 id="&#x5F00;&#x59CB;&#x8FDC;&#x7A0B;&#x8C03;&#x8BD5;"><a href="#&#x5F00;&#x59CB;&#x8FDC;&#x7A0B;&#x8C03;&#x8BD5;" class="headerlink" title="&#x5F00;&#x59CB;&#x8FDC;&#x7A0B;&#x8C03;&#x8BD5;"></a>&#x5F00;&#x59CB;&#x8FDC;&#x7A0B;&#x8C03;&#x8BD5;</h3><p><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/28.png" alt=""></p><blockquote><p>&#x53D1;&#x73B0;&#x7A0B;&#x5E8F;&#x4E0D;&#x80FD;&#x8FD0;&#x884C;,&#x901A;&#x8FC7;SDK&#x7684;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x67E5;&#x770B;&#x53D1;&#x73B0;&#x7F3A;&#x5C11;&#x5E93;,&#x5982;&#x56FE;</p></blockquote><p><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/29.png" alt=""></p><blockquote><p>&#x7531;&#x4E8E;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x8FD9;&#x4E2A;&#x5E93;&#x6587;&#x4EF6;,&#x6362;&#x4E00;&#x4E2A;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;(&#x521A;&#x624D;&#x7528;&#x6765;&#x7F16;&#x8BD1;&#x5185;&#x6838;&#x7684;),&#x5728;ubuntu&#x4E0A;&#x7F16;&#x5199;helloword</p></blockquote><p><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/30.png" alt=""></p><blockquote><p>&#x5C06;&#x751F;&#x6210;&#x7684;elf&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;u&#x76D8;,u&#x76D8;&#x63D2;&#x5230;&#x5F00;&#x53D1;&#x677F;&#x4E0A;,&#x6302;&#x8F7D;&#x8FD0;&#x884C;&#x3002;</p></blockquote><p><img src="/2016/10/10/T-MicroZed&#x7684;Linux&#x79FB;&#x690D;/31.png" alt=""></p><h3 id="Linux&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x5B8C;&#x4E86;-&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x9A71;&#x52A8;&#x7684;&#x7F16;&#x5199;&#x4E86;&#x3002;"><a href="#Linux&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x5B8C;&#x4E86;-&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x9A71;&#x52A8;&#x7684;&#x7F16;&#x5199;&#x4E86;&#x3002;" class="headerlink" title="Linux&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x5B8C;&#x4E86;,&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x9A71;&#x52A8;&#x7684;&#x7F16;&#x5199;&#x4E86;&#x3002;"></a>Linux&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x5B8C;&#x4E86;,&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x9A71;&#x52A8;&#x7684;&#x7F16;&#x5199;&#x4E86;&#x3002;</h3>]]></content>
    
    <summary type="html">
    
      MicroZed Linux移植
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[T]MicroZed使用记录</title>
    <link href="http://fengjinyuan.github.io/2016/10/07/T-MicroZed%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/"/>
    <id>http://fengjinyuan.github.io/2016/10/07/T-MicroZed使用记录/</id>
    <published>2016-10-07T04:00:23.000Z</published>
    <updated>2019-06-06T11:06:25.368Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h1><p>   &#x4E4B;&#x524D;&#x73A9;&#x8FC7;51,Arduino,STM32,ARM7,FPGA(Spartan6),&#x56FD;&#x5E86;&#x62FF;&#x8001;&#x5E08;&#x7684;MicroZed&#x6298;&#x817E;&#x4E86;&#x4E00;&#x756A;&#x89C9;&#x5F97;&#x8FD8;&#x662F;&#x86EE;&#x597D;&#x73A9;&#x7684;&#x3002;<br>&#x4E0B;&#x9762;&#x8BE6;&#x7EC6;&#x8BB0;&#x5F55;&#x6211;&#x7684;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x3002;</p><h2 id="&#x5F00;&#x53D1;&#x73AF;&#x5883;"><a href="#&#x5F00;&#x53D1;&#x73AF;&#x5883;" class="headerlink" title="&#x5F00;&#x53D1;&#x73AF;&#x5883;"></a>&#x5F00;&#x53D1;&#x73AF;&#x5883;</h2><blockquote><p>&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF1A;&#x4E3B;&#x673A;Ubuntu16.04 &#x865A;&#x62DF;&#x673A;win7(sp1)   PS:IDE&#x5B89;&#x88C5;&#x5728;WIN7<br>IDE&#xFF1A; Vivado 2016.1<br>&#x5176;&#x4ED6;&#x5DE5;&#x5177;: putty</p></blockquote><h2 id="&#x51C6;&#x5907;&#x5DE5;&#x4F5C;"><a href="#&#x51C6;&#x5907;&#x5DE5;&#x4F5C;" class="headerlink" title="&#x51C6;&#x5907;&#x5DE5;&#x4F5C;"></a>&#x51C6;&#x5907;&#x5DE5;&#x4F5C;</h2><pre><code>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x53BB;MicroZed&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x4E00;&#x4E9B;&#x4E1C;&#x897F;,&#x4E3B;&#x8981;&#x662F;&#x5F00;&#x53D1;&#x677F;&#x4FE1;&#x606F;,&#x8FD8;&#x6709;PS&#x90E8;&#x5206;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x3002;</code></pre><p>Vivado&#x76EE;&#x524D;&#x5BF9;&#x7B2C;&#x4E09;&#x65B9;&#x7684;&#x5F00;&#x53D1;&#x677F;&#x652F;&#x6301;&#x8FD8;&#x4E0D;&#x662F;&#x5F88;&#x5B8C;&#x5584;&#x3002;<br>&#x4E0B;&#x56FE;&#x662F;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x7684;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/1.png" alt=""><br> &#x89E3;&#x538B;&#x56FE;&#x4E00;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5F97;&#x5230;&#x5982;&#x4E0B;&#x56FE;&#x7ED3;&#x679C;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/2.png" alt=""><br> &#x6211;&#x4EEC;&#x5C06;&#x89E3;&#x538B;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;,&#x653E;&#x7F6E;Vivado&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;  Vivado/2016.1/data/boards/board_files/ &#x64CD;&#x4F5C;&#x5B8C;&#x5982;&#x56FE;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/3.png" alt=""><br>&#x89E3;&#x538B;&#x56FE;&#x4E00;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x6587;&#x4EF6;&#x5F97;&#x5230;&#x5982;&#x4E0B;&#x56FE;&#x7ED3;&#x679C;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/4.png" alt=""><br>&#x627E;&#x4E00;&#x4E2A;&#x78C1;&#x76D8;&#x5728;&#x78C1;&#x76D8;&#x4E0B;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;microzed&#x6587;&#x4EF6;&#x5939;,<br>&#x5728;microzed&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x5EFA;&#x7ACB;scripts&#x6587;&#x4EF6;&#x5939; ,&#x653E;&#x5165;&#x521A;&#x624D;&#x89E3;&#x538B;&#x5F97;&#x5230;&#x7684;tcl&#x6587;&#x4EF6;,&#x64CD;&#x4F5C;&#x5B8C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x56FE;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/5.png" alt=""></p><h1 id="&#x786C;&#x4EF6;&#x73AF;&#x5883;&#x6784;&#x5EFA;"><a href="#&#x786C;&#x4EF6;&#x73AF;&#x5883;&#x6784;&#x5EFA;" class="headerlink" title="&#x786C;&#x4EF6;&#x73AF;&#x5883;&#x6784;&#x5EFA;"></a>&#x786C;&#x4EF6;&#x73AF;&#x5883;&#x6784;&#x5EFA;</h1><h2 id="&#x5F00;&#x59CB;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x9879;&#x76EE;"><a href="#&#x5F00;&#x59CB;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x9879;&#x76EE;" class="headerlink" title="&#x5F00;&#x59CB;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x9879;&#x76EE;"></a>&#x5F00;&#x59CB;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x9879;&#x76EE;</h2><p>&#x64CD;&#x4F5C;&#x5982;&#x4E0B;&#x56FE;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/6.png" alt=""></p><p><hr><br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/7.png" alt=""></p><p><hr><br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/8.png" alt=""></p><p><hr><br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/9.png" alt=""><br>&#x70B9;&#x51FB;&#x5B8C;&#x6210;&#x540E;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x9879;&#x76EE;&#x5EFA;&#x7ACB;&#x5B8C;&#x6BD5;</p><h2 id="&#x914D;&#x7F6E;&#x786C;&#x4EF6;&#x4FE1;&#x606F;"><a href="#&#x914D;&#x7F6E;&#x786C;&#x4EF6;&#x4FE1;&#x606F;" class="headerlink" title="&#x914D;&#x7F6E;&#x786C;&#x4EF6;&#x4FE1;&#x606F;"></a>&#x914D;&#x7F6E;&#x786C;&#x4EF6;&#x4FE1;&#x606F;</h2><p>&#x64CD;&#x4F5C;&#x5982;&#x4E0B;&#x56FE;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/10.png" alt=""><br>&#x5728;&#x5DE6;&#x4FA7;&#x5BFC;&#x822A;&#x680F;&#x53CC;&#x51FB;Create Block Design &#x5F39;&#x51FA;&#x4E0B;&#x56FE;&#x5BF9;&#x8BDD;&#x6846; &#x8F93;&#x5165;&#x8BBE;&#x8BA1;&#x540D;&#x5B57;System<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/11.png" alt=""><br>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;IP&#x6838;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/12.png" alt=""></p><p><hr><br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/13.png" alt=""><br>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x7528;tcl&#x6587;&#x4EF6;&#x6765;&#x914D;&#x7F6E;&#x6211;&#x4EEC;&#x7684;PS &#x64CD;&#x4F5C;&#x5982;&#x56FE;<br>&#x5728;&#x547D;&#x4EE4;&#x884C;&#x5904;&#x8F93;&#x5165;  source  &#x521A;&#x624D;&#x5B58;&#x653E;&#x7684;tcl&#x6587;&#x4EF6;  &#x7136;&#x540E;&#x56DE;&#x8F66;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/14.png" alt=""><br>&#x5355;&#x51FB;Run Block Autonation<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/15.png" alt=""><br>&#x9A8C;&#x8BC1;&#x914D;&#x7F6E;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/16.png" alt=""></p><p><hr><br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/17.png" alt=""></p><h2 id="&#x751F;&#x6210;&#x9876;&#x5C42;&#x6587;&#x4EF6;"><a href="#&#x751F;&#x6210;&#x9876;&#x5C42;&#x6587;&#x4EF6;" class="headerlink" title="&#x751F;&#x6210;&#x9876;&#x5C42;&#x6587;&#x4EF6;"></a>&#x751F;&#x6210;&#x9876;&#x5C42;&#x6587;&#x4EF6;</h2><p>&#x64CD;&#x4F5C;&#x5982;&#x4E0B;<br>&#x53F3;&#x51FB;System &#x5355;&#x51FB; Generate Output Products<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/18.png" alt=""></p><p><hr><br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/19.png" alt=""><br>&#x53F3;&#x51FB;System &#x5355;&#x51FB; Generate HDL Wrapper<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/20.png" alt=""><br>&#x5728;&#x5DE6;&#x4FA7;&#x5BFC;&#x822A;&#x680F;&#x53CC;&#x51FB; Generate Bitstream<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/21.png" alt=""><br>&#x5728;File-&gt;Export-&gt;Export Hardware<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/22.png" alt=""><br>&#x542F;&#x52A8;SDK<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/23.png" alt=""></p><p><hr><br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/24.png" alt=""><br>&#x5230;&#x8FD9;&#x91CC;&#x786C;&#x4EF6;&#x73AF;&#x5883;&#x5C31;&#x914D;&#x7F6E;&#x5B8C;&#x4E86;.</p><h1 id="&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;"><a href="#&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;" class="headerlink" title="&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;"></a>&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;</h1><h2 id="&#x65B0;&#x5EFA;&#x5F00;&#x53D1;&#x677F;&#x7684;&#x652F;&#x6301;&#x5305;"><a href="#&#x65B0;&#x5EFA;&#x5F00;&#x53D1;&#x677F;&#x7684;&#x652F;&#x6301;&#x5305;" class="headerlink" title="&#x65B0;&#x5EFA;&#x5F00;&#x53D1;&#x677F;&#x7684;&#x652F;&#x6301;&#x5305;"></a>&#x65B0;&#x5EFA;&#x5F00;&#x53D1;&#x677F;&#x7684;&#x652F;&#x6301;&#x5305;</h2><p>file-&gt;new-&gt;board support package<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/25.png" alt=""></p><h2 id="&#x65B0;&#x5EFA;&#x5E94;&#x7528;"><a href="#&#x65B0;&#x5EFA;&#x5E94;&#x7528;" class="headerlink" title="&#x65B0;&#x5EFA;&#x5E94;&#x7528;"></a>&#x65B0;&#x5EFA;&#x5E94;&#x7528;</h2><p>file-&gt;new-&gt;Application<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/26.png" alt=""></p><p><hr><br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/27.png" alt=""><br>&#x8FDE;&#x63A5;&#x597D;&#x5F00;&#x53D1;&#x677F;,&#x70B9;&#x51FB;Xilinx tools-&gt;program FPGA<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/28.png" alt=""></p><p><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/29.png" alt=""><br>&#x914D;&#x7F6E;HelloWord&#x5E94;&#x7528;&#x7684;&#x8FD0;&#x884C;&#x73AF;&#x5883;,&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x914D;&#x7F6E;Release&#x7248;&#x672C; &#x65B9;&#x4FBF;&#x540E;&#x9762;&#x7684;fsbl&#x6587;&#x4EF6;&#x7684;&#x751F;&#x6210;&#x3002;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/30.png" alt=""></p><p><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/31.png" alt=""><br>&#x914D;&#x7F6E;Run Configuration<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/32.png" alt=""><br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/33.png" alt=""><br>&#x9009;&#x4E2D;&#x5E94;&#x7528;&#x8FD0;&#x884C;,&#x53EF;&#x4EE5;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x770B;&#x5230;&#x5982;&#x4E0B;&#x7ED3;&#x679C;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/34.png" alt=""></p><p>&#x4EE5;&#x4E0A;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x901A;&#x8FC7;xilinx&#x8C03;&#x8BD5;&#x5668;&#x8FD0;&#x884C;&#x7684;&#x3002;&#x786C;&#x4EF6;&#x8DF3;&#x7EBF;&#x8FDE;&#x63A5;&#x5982;&#x4E0B;&#x56FE;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/35.jpg" alt=""></p><h2 id="&#x901A;&#x8FC7;FSBL&#x5F15;&#x5BFC;&#x8FD0;&#x884C;&#x5E94;&#x7528;"><a href="#&#x901A;&#x8FC7;FSBL&#x5F15;&#x5BFC;&#x8FD0;&#x884C;&#x5E94;&#x7528;" class="headerlink" title="&#x901A;&#x8FC7;FSBL&#x5F15;&#x5BFC;&#x8FD0;&#x884C;&#x5E94;&#x7528;"></a>&#x901A;&#x8FC7;FSBL&#x5F15;&#x5BFC;&#x8FD0;&#x884C;&#x5E94;&#x7528;</h2><p>file-&gt;new-&gt;Application  &#x5EFA;&#x7ACB;FSBL&#x5E94;&#x7528;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/36.png" alt=""><br>&#x8BBE;&#x7F6E;Release&#x7248;&#x672C;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/37.png" alt=""><br>&#x751F;&#x6210;QSPI&#x7684;boot.mcs&#x6587;&#x4EF6; &#x751F;&#x6210;SD&#x7684;boot.bin&#x6587;&#x4EF6;<br>xilinx tools-&gt;Create boot Image<br>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6539;&#x53D8;output Format&#x6765;&#x8F93;&#x51FA;.bin .mcs<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/38.png" alt=""><br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/39.png" alt=""></p><h2 id="&#x901A;&#x8FC7;&#x8C03;&#x8BD5;&#x5668;&#x6765;&#x70E7;&#x5199;&#x8FDB;qspi-&#x7136;&#x540E;&#x901A;&#x8FC7;qspi&#x542F;&#x52A8;"><a href="#&#x901A;&#x8FC7;&#x8C03;&#x8BD5;&#x5668;&#x6765;&#x70E7;&#x5199;&#x8FDB;qspi-&#x7136;&#x540E;&#x901A;&#x8FC7;qspi&#x542F;&#x52A8;" class="headerlink" title="&#x901A;&#x8FC7;&#x8C03;&#x8BD5;&#x5668;&#x6765;&#x70E7;&#x5199;&#x8FDB;qspi,&#x7136;&#x540E;&#x901A;&#x8FC7;qspi&#x542F;&#x52A8;"></a>&#x901A;&#x8FC7;&#x8C03;&#x8BD5;&#x5668;&#x6765;&#x70E7;&#x5199;&#x8FDB;qspi,&#x7136;&#x540E;&#x901A;&#x8FC7;qspi&#x542F;&#x52A8;</h2><p><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/40.png" alt=""><br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/44.png" alt=""><br>&#x786C;&#x4EF6;&#x8DF3;&#x7EBF;&#x63A5;&#x7EBF;&#x56FE;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/42.jpg" alt=""><br>&#x901A;&#x8FC7;putty&#x8BBE;&#x7F6E;COM&#x6765;&#x67E5;&#x770B;&#x7ED3;&#x679C;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/41.png" alt=""></p><h2 id="&#x901A;&#x8FC7;sd&#x5361;&#x542F;&#x52A8;"><a href="#&#x901A;&#x8FC7;sd&#x5361;&#x542F;&#x52A8;" class="headerlink" title="&#x901A;&#x8FC7;sd&#x5361;&#x542F;&#x52A8;"></a>&#x901A;&#x8FC7;sd&#x5361;&#x542F;&#x52A8;</h2><p>&#x5C06;boot.bin&#x62F7;&#x8D1D;&#x5230;sd&#x5361;,&#x7136;&#x540E;&#x8BBE;&#x7F6E;&#x786C;&#x4EF6;&#x63A5;&#x7EBF;&#x56FE;&#x5982;&#x4E0B;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/43.jpg" alt=""><br>&#x901A;&#x8FC7;putty&#x8BBE;&#x7F6E;COM&#x6765;&#x67E5;&#x770B;&#x7ED3;&#x679C;<br><img src="/2016/10/07/T-MicroZed&#x4F7F;&#x7528;&#x8BB0;&#x5F55;/41.png" alt=""></p><h3 id="&#x5230;&#x8FD9;&#x91CC;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x5C31;&#x5B8C;&#x4E86;-&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;Linux&#x7684;&#x79FB;&#x690D;&#x4E86;&#x3002;"><a href="#&#x5230;&#x8FD9;&#x91CC;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x5C31;&#x5B8C;&#x4E86;-&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;Linux&#x7684;&#x79FB;&#x690D;&#x4E86;&#x3002;" class="headerlink" title="&#x5230;&#x8FD9;&#x91CC;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x5C31;&#x5B8C;&#x4E86;,&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;Linux&#x7684;&#x79FB;&#x690D;&#x4E86;&#x3002;"></a>&#x5230;&#x8FD9;&#x91CC;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x5C31;&#x5B8C;&#x4E86;,&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;Linux&#x7684;&#x79FB;&#x690D;&#x4E86;&#x3002;</h3>]]></content>
    
    <summary type="html">
    
      MicroZed的使用
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[T]简单物联网组建</title>
    <link href="http://fengjinyuan.github.io/2016/06/03/T-%E7%AE%80%E5%8D%95%E7%89%A9%E8%81%94%E7%BD%91%E7%BB%84%E5%BB%BA/"/>
    <id>http://fengjinyuan.github.io/2016/06/03/T-简单物联网组建/</id>
    <published>2016-06-03T15:20:22.000Z</published>
    <updated>2019-06-06T12:15:30.704Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x7B80;&#x5355;&#x7684;&#x7269;&#x8054;&#x7F51;&#x7684;&#x7EC4;&#x5EFA;"><a href="#&#x7B80;&#x5355;&#x7684;&#x7269;&#x8054;&#x7F51;&#x7684;&#x7EC4;&#x5EFA;" class="headerlink" title="&#x7B80;&#x5355;&#x7684;&#x7269;&#x8054;&#x7F51;&#x7684;&#x7EC4;&#x5EFA;"></a>&#x7B80;&#x5355;&#x7684;&#x7269;&#x8054;&#x7F51;&#x7684;&#x7EC4;&#x5EFA;</h1><h1 id="&#x76EE;&#x6807;&#x63CF;&#x8FF0;"><a href="#&#x76EE;&#x6807;&#x63CF;&#x8FF0;" class="headerlink" title="&#x76EE;&#x6807;&#x63CF;&#x8FF0;"></a>&#x76EE;&#x6807;&#x63CF;&#x8FF0;</h1><blockquote><p>&#x5BA2;&#x6237;&#x7AEF;(PC,&#x624B;&#x673A;)&#x901A;&#x8FC7;&#x8BBF;&#x95EE;&#x6307;&#x5B9A;&#x7F51;&#x9875;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x8BBE;&#x5907;&#x7684;&#x72B6;&#x6001;(&#x5F00;&#x5173;)&#x3002;</p></blockquote><h1 id="&#x6240;&#x9700;&#x8BBE;&#x5907;&#x4E0E;&#x73AF;&#x5883;"><a href="#&#x6240;&#x9700;&#x8BBE;&#x5907;&#x4E0E;&#x73AF;&#x5883;" class="headerlink" title="&#x6240;&#x9700;&#x8BBE;&#x5907;&#x4E0E;&#x73AF;&#x5883;"></a>&#x6240;&#x9700;&#x8BBE;&#x5907;&#x4E0E;&#x73AF;&#x5883;</h1><ul><li>1.Arduino UNO+W5100</li><li>2.LED</li><li>3.&#x4E00;&#x6839;&#x7F51;&#x7EBF;</li><li>4.&#x4E2A;&#x4EBA;PC</li><li>5.&#x670D;&#x52A1;&#x5668;</li></ul><h1 id="&#x88AB;&#x63A7;&#x7AEF;&#x7EC4;&#x7F51;"><a href="#&#x88AB;&#x63A7;&#x7AEF;&#x7EC4;&#x7F51;" class="headerlink" title="&#x88AB;&#x63A7;&#x7AEF;&#x7EC4;&#x7F51;"></a>&#x88AB;&#x63A7;&#x7AEF;&#x7EC4;&#x7F51;</h1><h3 id="1-&#x4E2A;&#x4EBA;PC&#x901A;&#x8FC7;&#x65E0;&#x7EBF;&#x8FDE;&#x63A5;-&#x53EF;&#x8BBF;&#x95EE;&#x5916;&#x7F51;&#x3002;"><a href="#1-&#x4E2A;&#x4EBA;PC&#x901A;&#x8FC7;&#x65E0;&#x7EBF;&#x8FDE;&#x63A5;-&#x53EF;&#x8BBF;&#x95EE;&#x5916;&#x7F51;&#x3002;" class="headerlink" title="1.&#x4E2A;&#x4EBA;PC&#x901A;&#x8FC7;&#x65E0;&#x7EBF;&#x8FDE;&#x63A5;,&#x53EF;&#x8BBF;&#x95EE;&#x5916;&#x7F51;&#x3002;"></a>1.&#x4E2A;&#x4EBA;PC&#x901A;&#x8FC7;&#x65E0;&#x7EBF;&#x8FDE;&#x63A5;,&#x53EF;&#x8BBF;&#x95EE;&#x5916;&#x7F51;&#x3002;</h3><h3 id="2-&#x5206;&#x4EAB;&#x65E0;&#x7EBF;&#x8FDE;&#x63A5;-&#x4F9B;&#x672C;&#x5730;&#x8FDE;&#x63A5;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x56FE;"><a href="#2-&#x5206;&#x4EAB;&#x65E0;&#x7EBF;&#x8FDE;&#x63A5;-&#x4F9B;&#x672C;&#x5730;&#x8FDE;&#x63A5;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x56FE;" class="headerlink" title="2.&#x5206;&#x4EAB;&#x65E0;&#x7EBF;&#x8FDE;&#x63A5;,&#x4F9B;&#x672C;&#x5730;&#x8FDE;&#x63A5;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x56FE;"></a>2.&#x5206;&#x4EAB;&#x65E0;&#x7EBF;&#x8FDE;&#x63A5;,&#x4F9B;&#x672C;&#x5730;&#x8FDE;&#x63A5;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x56FE;</h3><center><br>    <img src="/2016/06/03/T-&#x7B80;&#x5355;&#x7269;&#x8054;&#x7F51;&#x7EC4;&#x5EFA;/1.png" width="70%" height="70%"><br></center><h3 id="3-&#x8BBE;&#x5B9A;&#x4E2A;&#x4EBA;PC&#x7684;IP-&#x5B50;&#x7F51;&#x63A9;&#x7801;-&#x9ED8;&#x8BA4;&#x7F51;&#x5173;-&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;-&#x3002;&#x5982;&#x56FE;"><a href="#3-&#x8BBE;&#x5B9A;&#x4E2A;&#x4EBA;PC&#x7684;IP-&#x5B50;&#x7F51;&#x63A9;&#x7801;-&#x9ED8;&#x8BA4;&#x7F51;&#x5173;-&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;-&#x3002;&#x5982;&#x56FE;" class="headerlink" title="3.&#x8BBE;&#x5B9A;&#x4E2A;&#x4EBA;PC&#x7684;IP,&#x5B50;&#x7F51;&#x63A9;&#x7801;,&#x9ED8;&#x8BA4;&#x7F51;&#x5173;(&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;)&#x3002;&#x5982;&#x56FE;"></a>3.&#x8BBE;&#x5B9A;&#x4E2A;&#x4EBA;PC&#x7684;IP,&#x5B50;&#x7F51;&#x63A9;&#x7801;,&#x9ED8;&#x8BA4;&#x7F51;&#x5173;(&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;)&#x3002;&#x5982;&#x56FE;</h3><center><br>    <img src="/2016/06/03/T-&#x7B80;&#x5355;&#x7269;&#x8054;&#x7F51;&#x7EC4;&#x5EFA;/2.png" width="70%" height="70%"><br></center><h3 id="4-&#x5C06;W5100&#x7528;&#x7F51;&#x7EBF;&#x4E0E;&#x4E2A;&#x4EBA;PC&#x8FDE;&#x63A5;&#x3002;&#x70E7;&#x5199;&#x6D4B;&#x8BD5;&#x7A0B;&#x5E8F;Arduino-&#x8BBE;&#x5B9A;IP&#x4E3A;192-168-137-xxx-&#x81EA;&#x5DF1;&#x5B9A;-&#x3002;"><a href="#4-&#x5C06;W5100&#x7528;&#x7F51;&#x7EBF;&#x4E0E;&#x4E2A;&#x4EBA;PC&#x8FDE;&#x63A5;&#x3002;&#x70E7;&#x5199;&#x6D4B;&#x8BD5;&#x7A0B;&#x5E8F;Arduino-&#x8BBE;&#x5B9A;IP&#x4E3A;192-168-137-xxx-&#x81EA;&#x5DF1;&#x5B9A;-&#x3002;" class="headerlink" title="4.&#x5C06;W5100&#x7528;&#x7F51;&#x7EBF;&#x4E0E;&#x4E2A;&#x4EBA;PC&#x8FDE;&#x63A5;&#x3002;&#x70E7;&#x5199;&#x6D4B;&#x8BD5;&#x7A0B;&#x5E8F;Arduino,&#x8BBE;&#x5B9A;IP&#x4E3A;192.168.137.xxx(&#x81EA;&#x5DF1;&#x5B9A;)&#x3002;"></a>4.&#x5C06;W5100&#x7528;&#x7F51;&#x7EBF;&#x4E0E;&#x4E2A;&#x4EBA;PC&#x8FDE;&#x63A5;&#x3002;&#x70E7;&#x5199;&#x6D4B;&#x8BD5;&#x7A0B;&#x5E8F;Arduino,&#x8BBE;&#x5B9A;IP&#x4E3A;192.168.137.xxx(&#x81EA;&#x5DF1;&#x5B9A;)&#x3002;</h3><center><br>    <img src="/2016/06/03/T-&#x7B80;&#x5355;&#x7269;&#x8054;&#x7F51;&#x7EC4;&#x5EFA;/3.png" width="70%" height="70%"><br></center><h3 id="5-&#x6D4B;&#x8BD5;Arduino&#x4E0E;&#x4E2A;&#x4EBA;PC&#x7684;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x60C5;&#x51B5;&#x3002;&#x5982;&#x56FE;"><a href="#5-&#x6D4B;&#x8BD5;Arduino&#x4E0E;&#x4E2A;&#x4EBA;PC&#x7684;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x60C5;&#x51B5;&#x3002;&#x5982;&#x56FE;" class="headerlink" title="5.&#x6D4B;&#x8BD5;Arduino&#x4E0E;&#x4E2A;&#x4EBA;PC&#x7684;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x60C5;&#x51B5;&#x3002;&#x5982;&#x56FE;"></a>5.&#x6D4B;&#x8BD5;Arduino&#x4E0E;&#x4E2A;&#x4EBA;PC&#x7684;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x60C5;&#x51B5;&#x3002;&#x5982;&#x56FE;</h3><center><br>    <img src="/2016/06/03/T-&#x7B80;&#x5355;&#x7269;&#x8054;&#x7F51;&#x7EC4;&#x5EFA;/4.png" width="70%" height="70%"><br></center><br>&#x7EC4;&#x7F51;&#x5B8C;&#x6210;<br><br># &#x670D;&#x52A1;&#x5668;&#x7AEF;<br><br>## 1.&#x670D;&#x52A1;&#x5668;&#x73AF;&#x5883;<br>&gt;  PHP 5.3<br>&gt;  Apache HTTP&#x670D;&#x52A1;<br>&gt;  Linux Ubuntu<br>## 2.&#x7F16;&#x5199;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5904;&#x7406;&#x7A0B;&#x5E8F;<br>state.txt (&#x8BB0;&#x5F55;&#x8BBE;&#x5907;&#x7684;&#x72B6;&#x6001;)<br>state.php (&#x7528;&#x4E8E;Arduino&#x8BF7;&#x6C42;&#x8BBE;&#x5907;&#x5E94;&#x5904;&#x4E8E;&#x7684;&#x72B6;&#x6001;)<br><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$myfile = fopen(<span class="string">&quot;state.txt&quot;</span>,<span class="string">&quot;r&quot;</span>) <span class="keyword">or</span> <span class="keyword">die</span> (<span class="string">&quot;Unable open file&quot;</span>);</span><br><span class="line">$state = fgetc($myfile);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&gt;&quot;</span>.$state;</span><br><span class="line">fclose($myfile);</span><br></pre></td></tr></table></figure><br><br><font color="#FF0000" size="6" face="&#x9ED1;&#x4F53;"><br>modifi.php (&#x7528;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x6539;&#x53D8;&#x8BBE;&#x5907;&#x72B6;&#x6001;)<br></font><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$state = $_GET[<span class="string">&apos;state&apos;</span>];</span><br><span class="line">$myfile = fopen(<span class="string">&quot;state.txt&quot;</span>,<span class="string">&quot;w&quot;</span>) <span class="keyword">or</span> <span class="keyword">die</span> (<span class="string">&quot;Unable open file&quot;</span>);</span><br><span class="line">fwrite($myfile,$state);</span><br><span class="line">fclose($myfile);</span><br></pre></td></tr></table></figure><br><br><font color="#FF0000" size="6" face="&#x9ED1;&#x4F53;"><br>index.html (&#x7528;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x64CD;&#x4F5C;)<br></font><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./js/jquery.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">   $(document).on(<span class="string">&quot;click&quot;</span>,<span class="string">&quot;.button&quot;</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>{</span><br><span class="line">       <span class="keyword">if</span>($(<span class="string">&quot;input[type=&apos;checkbox&apos;]&quot;</span>).is(<span class="string">&apos;:checked&apos;</span>)){</span><br><span class="line">          <span class="keyword">var</span> state = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">          <span class="keyword">var</span> url = <span class="string">&quot;../modifi.php&quot;</span>;</span><br><span class="line">          requestdata={state:state};</span><br><span class="line">          $.getJSON(url,requestdata,<span class="function"><span class="keyword">function</span><span class="params">(data)</span></span>{});</span><br><span class="line">       }<span class="keyword">else</span>{</span><br><span class="line">          <span class="keyword">var</span> state = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">          <span class="keyword">var</span> url = <span class="string">&quot;../modifi.php&quot;</span>;</span><br><span class="line">          requestdata={state:state};</span><br><span class="line">          $.getJSON(url,requestdata,<span class="function"><span class="keyword">function</span><span class="params">(data)</span></span>{});</span><br><span class="line">       }</span><br><span class="line">   });</span><br><span class="line"> &lt;/script&gt;</span><br></pre></td></tr></table></figure><br><br># &#x8BBE;&#x5907;&#x7AEF;<br>## Arduino &#x7A0B;&#x5E8F;<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Ethernet.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">byte mac[] = {</span><br><span class="line">  <span class="number">0xDE</span>, <span class="number">0xAD</span>, <span class="number">0xBE</span>, <span class="number">0xEF</span>, <span class="number">0xFE</span>, <span class="number">0xED</span></span><br><span class="line">};<span class="comment">//&#x63A7;&#x5236;&#x5668;&#x7684;MAC</span></span><br><span class="line"><span class="function">IPAddress <span class="title">ip</span><span class="params">(<span class="number">192</span>, <span class="number">168</span>, <span class="number">137</span>, <span class="number">177</span>)</span></span>;<span class="comment">//&#x5206;&#x914D;&#x8BBE;&#x5907;IP (PC+&#x8BBE;&#x5907; &#x6784;&#x6210;&#x5C40;&#x57DF;&#x7F51;,&#x9ED8;&#x8BA4;&#x7F51;&#x5173;192.168.137.0 &#x65E0;&#x7EBF;&#x4F5C;&#x4E3A;&#x5916;&#x7F51;&#x6E90;(&#x5C5E;&#x6027; &#x5171;&#x4EAB; &#x672C;&#x5730;&#x8FDE;&#x63A5;)</span></span><br><span class="line"></span><br><span class="line">EthernetClient client; <span class="comment">//&#x521D;&#x59CB;&#x5316;&#x5BA2;&#x6237;&#x7AEF;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//char server[] = &quot;www.fengjinyuan.net&quot;; //&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x57DF;&#x540D;</span></span><br><span class="line"><span class="function">IPAddress <span class="title">server</span><span class="params">(<span class="number">121</span>,<span class="number">42</span>,<span class="number">185</span>,<span class="number">217</span>)</span></span>;<span class="comment">//&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x7684;IP</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> FinishConnectionTime = <span class="number">0</span>;<span class="comment">//&#x8FDE;&#x63A5;&#x5B8C;&#x6210;&#x7684;&#x65F6;&#x95F4;&#x6233;(&#x6BEB;&#x79D2;&#x7EA7;)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> PostingInterval = <span class="number">10L</span> * <span class="number">100L</span>; <span class="comment">//&#x91CD;&#x65B0;&#x8FDE;&#x63A5;&#x65F6;&#x95F4;&#x95F4;&#x9694;</span></span><br><span class="line"><span class="keyword">int</span> mark=<span class="number">0</span>;<span class="comment">//&#x5F00;&#x5173;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>{</span><br><span class="line">  </span><br><span class="line">  Serial.begin(<span class="number">9600</span>);<span class="comment">//&#x5F00;&#x542F;&#x4E32;&#x53E3;</span></span><br><span class="line">  <span class="keyword">while</span> (!Serial) {</span><br><span class="line">    ; </span><br><span class="line">  }</span><br><span class="line">  delay(<span class="number">1000</span>);<span class="comment">//&#x7F51;&#x5361;&#x6A21;&#x5757;&#x521D;&#x59CB;&#x65F6;&#x95F4;</span></span><br><span class="line">  Ethernet.begin(mac, ip);<span class="comment">//&#x8BBE;&#x5B9A;&#x8BBE;&#x5907;MAC,IP</span></span><br><span class="line">  Serial.print(<span class="string">&quot;My IP address: &quot;</span>);</span><br><span class="line">  Serial.println(Ethernet.localIP());<span class="comment">//&#x663E;&#x793A;&#x8BBE;&#x5907;&#x7684;IP&#x5730;&#x5740;&#xFF1B;</span></span><br><span class="line">  pinMode(<span class="number">2</span>,OUTPUT);<span class="comment">// &#x521D;&#x59CB;&#x5316;IO 2 &#x4F4D;&#x8F93;&#x51FA;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>{</span><br><span class="line">    Switch(returnState());</span><br><span class="line">    <span class="keyword">if</span>(mark){</span><br><span class="line">       digitalWrite(<span class="number">2</span>, HIGH);   </span><br><span class="line">       <span class="comment">//delay(1000);</span></span><br><span class="line">    }<span class="keyword">else</span>{</span><br><span class="line">      digitalWrite(<span class="number">2</span>, LOW);   </span><br><span class="line">      <span class="comment">//delay(1000);</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span>(millis()-FinishConnectionTime&gt; PostingInterval){</span><br><span class="line">       client.stop();</span><br><span class="line">       httpRequest();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">httpRequest</span><span class="params">()</span> </span>{</span><br><span class="line">      Serial.println(<span class="string">&quot;connecting...&quot;</span>);</span><br><span class="line">   <span class="keyword">if</span> (client.connect(server, <span class="number">120</span>)) {  <span class="comment">//&#x72B6;&#x6001;&#x8FD4;&#x56DE; 1 &#x65F6;&#x8FDE;&#x63A5;&#x6210;&#x529F;</span></span><br><span class="line">     Serial.println(<span class="string">&quot;connect successful.&quot;</span>);</span><br><span class="line">     <span class="comment">//&#x53D1;&#x9001;&#x8BF7;&#x6C42;</span></span><br><span class="line">    client.println(<span class="string">&quot;GET /state.php HTTP/1.1&quot;</span>);</span><br><span class="line">    client.println(<span class="string">&quot;Host: www.fengjinyuan.net&quot;</span>);</span><br><span class="line">    client.println(<span class="string">&quot;User-Agent: Arduino-Ethernet&quot;</span>);</span><br><span class="line">    <span class="comment">//client.println(&quot;Connection: close&quot;);</span></span><br><span class="line">    client.println();</span><br><span class="line">    FinishConnectionTime = millis();<span class="comment">//&#x8BB0;&#x5F55;&#x8BF7;&#x6C42;&#x5B8C;&#x6210;&#x7684;&#x65F6;&#x95F4;</span></span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    Serial.println(<span class="string">&quot;connection failed&quot;</span>);<span class="comment">//&#x8FDE;&#x63A5;&#x5931;&#x8D25;&#x7684;&#x72B6;&#x6001;</span></span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">char</span> <span class="title">returnState</span><span class="params">()</span></span>{</span><br><span class="line">  <span class="keyword">char</span> state;</span><br><span class="line">  <span class="keyword">while</span>(client.available()){</span><br><span class="line">    <span class="keyword">char</span> c = client.read();</span><br><span class="line">     <span class="keyword">if</span>(c == <span class="string">&apos;&gt;&apos;</span>){</span><br><span class="line">       state = client.read();</span><br><span class="line">       Serial.write(state);</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> state;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Switch</span><span class="params">(<span class="keyword">char</span> state)</span></span>{</span><br><span class="line">  <span class="keyword">if</span> (state==<span class="string">&apos;1&apos;</span>){</span><br><span class="line">    mark = <span class="number">1</span>;</span><br><span class="line">  }<span class="keyword">else</span> <span class="keyword">if</span>(state == <span class="string">&apos;0&apos;</span>){</span><br><span class="line">    mark = <span class="number">0</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><br><br># &#x6574;&#x4F53;&#x7ED3;&#x6784;&#x56FE;<br><center><br>    <img src="/2016/06/03/T-&#x7B80;&#x5355;&#x7269;&#x8054;&#x7F51;&#x7EC4;&#x5EFA;/IOT.png" width="50%" height="50%"><br></center><h1 id="&#x5BA2;&#x6237;&#x7AEF;-&#x4E0E;-&#x8BBE;&#x5907;&#x7AEF;"><a href="#&#x5BA2;&#x6237;&#x7AEF;-&#x4E0E;-&#x8BBE;&#x5907;&#x7AEF;" class="headerlink" title="&#x5BA2;&#x6237;&#x7AEF; &#x4E0E; &#x8BBE;&#x5907;&#x7AEF;"></a>&#x5BA2;&#x6237;&#x7AEF; &#x4E0E; &#x8BBE;&#x5907;&#x7AEF;</h1><center><br>    <img src="/2016/06/03/T-&#x7B80;&#x5355;&#x7269;&#x8054;&#x7F51;&#x7EC4;&#x5EFA;/5.png" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/06/03/T-&#x7B80;&#x5355;&#x7269;&#x8054;&#x7F51;&#x7EC4;&#x5EFA;/1.jpg" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/06/03/T-&#x7B80;&#x5355;&#x7269;&#x8054;&#x7F51;&#x7EC4;&#x5EFA;/6.png" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/06/03/T-&#x7B80;&#x5355;&#x7269;&#x8054;&#x7F51;&#x7EC4;&#x5EFA;/2.jpg" width="50%" height="50%"><br></center>]]></content>
    
    <summary type="html">
    
      基于Arduino的物联网的组建
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[T]MinnowBoard-MAX开发环境搭建</title>
    <link href="http://fengjinyuan.github.io/2016/04/23/T-MinnowBoard-MAX%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <id>http://fengjinyuan.github.io/2016/04/23/T-MinnowBoard-MAX开发环境搭建/</id>
    <published>2016-04-23T15:05:52.000Z</published>
    <updated>2019-06-06T12:10:06.548Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x786C;&#x4EF6;&#x9700;&#x6C42;&#x63CF;&#x8FF0;"><a href="#&#x786C;&#x4EF6;&#x9700;&#x6C42;&#x63CF;&#x8FF0;" class="headerlink" title="&#x786C;&#x4EF6;&#x9700;&#x6C42;&#x63CF;&#x8FF0;"></a>&#x786C;&#x4EF6;&#x9700;&#x6C42;&#x63CF;&#x8FF0;</h1><blockquote><p>1.&#x4E00;&#x6839;MicroHDMI&#x8F6C;HDMI&#x7EBF;<br>2.&#x652F;&#x6301;1920*1080,HDMI&#x7684;&#x663E;&#x793A;&#x5668;<br>3.MinnowBoard MAX&#x5F00;&#x53D1;&#x677F;<br>4.usb &#x952E;&#x76D8;<br>5.FAT32&#x683C;&#x5F0F;&#x7684;USB<br>6.&#x8BFB;&#x5361;&#x5668;<br>7.32G SD&#x5361;<br>8.5V 2.5A &#x7535;&#x6E90;&#x9002;&#x914D;&#x5668;<br>9.&#x7F51;&#x7EBF;</p></blockquote><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/hardware1.jpg" width="70%" height="70%"><br></center><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/hardware2.jpg" width="70%" height="70%"><br></center><h1 id="&#x66F4;&#x65B0;&#x56FA;&#x4EF6;"><a href="#&#x66F4;&#x65B0;&#x56FA;&#x4EF6;" class="headerlink" title="&#x66F4;&#x65B0;&#x56FA;&#x4EF6;"></a>&#x66F4;&#x65B0;&#x56FA;&#x4EF6;</h1><h2 id="1-&#x4E0B;&#x8F7D;&#x56FA;&#x4EF6;"><a href="#1-&#x4E0B;&#x8F7D;&#x56FA;&#x4EF6;" class="headerlink" title="1.&#x4E0B;&#x8F7D;&#x56FA;&#x4EF6;"></a>1.&#x4E0B;&#x8F7D;&#x56FA;&#x4EF6;</h2><p><a href="http://firmware.intel.com/projects/minnowboard-max" target="_blank" rel="noopener">http://firmware.intel.com/projects/minnowboard-max</a></p><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/download.png" width="70%" height="70%"><br></center><h2 id="2-&#x5C06;&#x538B;&#x7F29;&#x5305;&#x89E3;&#x538B;-&#x4EE5;&#x4E0B;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;U&#x76D8;"><a href="#2-&#x5C06;&#x538B;&#x7F29;&#x5305;&#x89E3;&#x538B;-&#x4EE5;&#x4E0B;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;U&#x76D8;" class="headerlink" title="2.&#x5C06;&#x538B;&#x7F29;&#x5305;&#x89E3;&#x538B;,&#x4EE5;&#x4E0B;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;U&#x76D8;"></a>2.&#x5C06;&#x538B;&#x7F29;&#x5305;&#x89E3;&#x538B;,&#x4EE5;&#x4E0B;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;U&#x76D8;</h2><p>MinnowBoard.MAX.FirmwareUpdateIA32.efi<br>MinnowBoard.MAX.FirmwareUpdateX64.efi<br>MinnowBoard.MAX.I32.090.R01.bin<br>MinnowBoard.MAX.X64.090.R01.bin</p><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/ready.jpg" width="70%" height="70%"><br></center><h2 id="3-&#x5C06;U&#x76D8;&#x63D2;&#x5165;USB&#x63A5;&#x53E3;-&#x4E0A;&#x7535;&#x8BBE;&#x5907;"><a href="#3-&#x5C06;U&#x76D8;&#x63D2;&#x5165;USB&#x63A5;&#x53E3;-&#x4E0A;&#x7535;&#x8BBE;&#x5907;" class="headerlink" title="3.&#x5C06;U&#x76D8;&#x63D2;&#x5165;USB&#x63A5;&#x53E3;,&#x4E0A;&#x7535;&#x8BBE;&#x5907;"></a>3.&#x5C06;U&#x76D8;&#x63D2;&#x5165;USB&#x63A5;&#x53E3;,&#x4E0A;&#x7535;&#x8BBE;&#x5907;</h2><p>&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fs0:</span><br><span class="line">.\MinnowBoard.MAX.FirmwareUpdateX64.efi MinnowBoard.MAX.I32.090.R01.bin</span><br></pre></td></tr></table></figure></p><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/update1.jpg" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/update2.jpg" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/update3.jpg" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/update4.jpg" width="50%" height="50%"><br></center><h2 id="4-&#x5199;&#x5165;windows10-IoT-image-&#x5230;SD&#x5361;"><a href="#4-&#x5199;&#x5165;windows10-IoT-image-&#x5230;SD&#x5361;" class="headerlink" title="4.&#x5199;&#x5165;windows10 IoT image &#x5230;SD&#x5361;"></a>4.&#x5199;&#x5165;windows10 IoT image &#x5230;SD&#x5361;</h2><p>&#x6587;&#x4EF6;&#x4E0B;&#x8F7D;<br><a href="https://developer.microsoft.com/en-us/windows/iot/downloads" target="_blank" rel="noopener">https://developer.microsoft.com/en-us/windows/iot/downloads</a></p><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/download1.png" width="50%" height="50%"><br></center><font color="#000000" size="4" face="&#x9ED1;&#x4F53;"><br>&#x53CC;&#x51FB;&#x4E0B;&#x8F7D;&#x7684;ISO&#x6587;&#x4EF6;,&#x5B89;&#x88C5;Windows_10_IoT_Core_Mbm.msi<br>&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#x4F1A;&#x5728;C:\Program Files (x86)\Microsoft IoT\FFU\MinnowBoardMax<br>&#x6709;&#x4E00;&#x4E2A;flash.ffu&#x6587;&#x4EF6;<br>&#x63D2;&#x5165;&#x8BFB;&#x5361;&#x5668;<br>&#x5728;pc&#x4E0A;&#x8FD0;&#x884C;WindowsIoTImageHelper<br></font><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/write.jpg" width="50%" height="50%"><br></center><p>&#x9009;&#x7740;&#x70E7;&#x5199;&#x6587;&#x4EF6;&#x4E3A;C:\Program Files (x86)\Microsoft IoT\FFU\MinnowBoardMax\flash.ffu</p><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/write2.jpg" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/write3.jpg" width="50%" height="50%"><br></center><h2 id="5-&#x914D;&#x7F6E;bios"><a href="#5-&#x914D;&#x7F6E;bios" class="headerlink" title="5.&#x914D;&#x7F6E;bios"></a>5.&#x914D;&#x7F6E;bios</h2><font color="#000000" size="4" face="&#x9ED1;&#x4F53;"><br>-&gt;1.Device Manager -&gt; System Setup -&gt; South Cluster Configuration -&gt; LPSS &amp; SCC Configuration<br>&#x8BBE;&#x7F6E;&#x201D;LPSS PWM #1 Support&#x201D;&#x4E3A;Disable<br>&#x8BBE;&#x7F6E;&#x201D;LPSS PWM #2 Support&#x201D;&#x4E3A;Disable<br></font><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/device1.jpg" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/device2.jpg" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/device3.jpg" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/device4.jpg" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/device5.jpg" width="50%" height="50%"><br></center><font color="#000000" size="4" face="&#x9ED1;&#x4F53;"><br>-&gt;2.Boot Maintenance Manager-&gt; Boot Options &gt; Change Boot Order<br>&#x7528;&#x201D;shift&#x201D; + &#x201C;+&#x201D;&#x79FB;&#x52A8;Misc Device&#x4E3A;&#x7B2C;&#x4E00;&#x4E2A;<br></font><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/boot.jpg" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/boot1.jpg" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/boot2.jpg" width="50%" height="50%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/boot3.jpg" width="50%" height="50%"><br></center><p>6.&#x91CD;&#x542F;&#x5F00;&#x53D1;&#x677F;</p><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/start.jpg" width="70%" height="70%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/start2.jpg" width="70%" height="70%"><br></center><p>7.Powershell connect to MinnowBoard MAX</p><font color="#000000" size="4" face="&#x9ED1;&#x4F53;"><br>-&gt;1.&#x4EE5;&#x7BA1;&#x7406;&#x5458;&#x8EAB;&#x4EFD;&#x8FD0;&#x884C;Powershell<br>&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;<br></font><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">net start WinRM //&#x5F00;&#x542F;remote management &#x670D;&#x52A1;</span><br><span class="line">Set-Item WSMan:\localhost\Client\TrustedHosts -Value &lt;&#x8BBE;&#x5907;IP&#x6216;&#x8005;&#x8BBE;&#x5907;&#x540D;&#x5B57;&gt;</span><br><span class="line">Enter-PSSession -ComputerName &lt;&#x8BBE;&#x5907;IP&#x6216;&#x8BBE;&#x5907;&#x540D;&#x5B57;&gt; -Credential &lt;&#x8BBE;&#x5907;IP&#x6216;&#x8BBE;&#x5907;&#x540D;&#x5B57;&gt;\Administrator</span><br></pre></td></tr></table></figure><br><br>&#x9ED8;&#x8BA4;&#x79D8;&#x5BC6;&#x4E3A;p@ssw0rd<br><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/shell.PNG" width="70%" height="70%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/shell2.PNG" width="70%" height="70%"><br></center><br><br><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">net user Administrator [new-password]//&#x66F4;&#x6539;Administra&#x5BC6;&#x7801;</span><br><span class="line">setcomputername [new-name]//&#x66F4;&#x6539;&#x8BBE;&#x5907;&#x540D;&#x5B57;</span><br><span class="line">shutdown  /r /t 0 //&#x91CD;&#x542F;&#x751F;&#x6548;</span><br><span class="line">&#x91CD;&#x542F;&#x540E;&#xFF0C;&#x91CD;&#x65B0;&#x5728;PC&#x4E0A;&#x8FDB;&#x5165;Powershell</span><br><span class="line">Set-Item WSMan:\localhost\Client\TrustedHosts -Value &lt;&#x66F4;&#x6539;&#x540E;&#x7684;&#x8BBE;&#x5907;&#x540D;&#x5B57;&gt;</span><br><span class="line">Enter-PSSession -ComputerName &lt;&#x66F4;&#x6539;&#x540E;&#x7684;&#x8BBE;&#x5907;&#x540D;&#x5B57;&gt; -Credential &lt;&#x66F4;&#x6539;&#x540E;&#x7684;&#x8BBE;&#x5907;&#x540D;&#x5B57;&gt;\Administrator</span><br><span class="line">//&#x8F93;&#x5165;&#x66F4;&#x6539;&#x540E;&#x7684;&#x5BC6;&#x7801;</span><br><span class="line">//&#x4EE5;&#x540E;&#x7528;powershell &#x8FDE;&#x63A5; &#x5F00;&#x53D1;&#x677F; &#x53EA;&#x9700;&#x8F93;&#x5165;</span><br><span class="line">Enter-PSSession -ComputerName &lt;&#x66F4;&#x6539;&#x540E;&#x7684;&#x8BBE;&#x5907;&#x540D;&#x5B57;&gt; -Credential &lt;&#x66F4;&#x6539;&#x540E;&#x7684;&#x8BBE;&#x5907;&#x540D;&#x5B57;&gt;\Administrator</span><br></pre></td></tr></table></figure><br><br><font color="#000000" size="4" face="&#x9ED1;&#x4F53;"><br>7.ssh connect to MinnowBoard MAX<br>-&gt;1.&#x4F7F;&#x7528;putty &#x8FDE;&#x63A5;&#x5F00;&#x53D1;&#x677F;<br>&#x4F7F;&#x7528;&#x8BBE;&#x5907;IP,&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;&#x53F7;&#x4E3A;22<br>&#x767B;&#x5F55;&#x540D;&#x4E3A;:Administrator<br>&#x521D;&#x59CB;&#x5BC6;&#x7801;&#xFF1A;p@ssw0rd<br>&#x767B;&#x5F55;&#x8FDB;&#x53BB;&#x540E;&#x66F4;&#x6539;&#x5BC6;&#x7801;:net user Administrator [new-password]<br>&#x8BBE;&#x7F6E;&#x8BBE;&#x5907;&#x540D;&#x5B57;:setcomputername [new-name]<br>&#x91CD;&#x542F;&#x751F;&#x6548;:shutdown /r /t 0<br><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/ssh.PNG" width="70%" height="70%"><br></center><br><center><br>    <img src="/2016/04/23/T-MinnowBoard-MAX&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;/ssh2.PNG" width="70%" height="70%"><br></center><br><br></font>]]></content>
    
    <summary type="html">
    
      MinnowBoard MAX
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[T]内存分页管理-EPOS</title>
    <link href="http://fengjinyuan.github.io/2016/04/13/T-EPOS%E5%86%85%E5%AD%98%E5%88%86%E9%A1%B5%E7%AE%A1%E7%90%86/"/>
    <id>http://fengjinyuan.github.io/2016/04/13/T-EPOS内存分页管理/</id>
    <published>2016-04-13T15:12:52.000Z</published>
    <updated>2019-06-06T11:53:37.378Z</updated>
    
    <content type="html"><![CDATA[<h1 id="IA-32"><a href="#IA-32" class="headerlink" title="IA-32"></a>IA-32</h1><h1 id="1-&#x5730;&#x5740;&#x7ED3;&#x6784;"><a href="#1-&#x5730;&#x5740;&#x7ED3;&#x6784;" class="headerlink" title="1.&#x5730;&#x5740;&#x7ED3;&#x6784;"></a>1.&#x5730;&#x5740;&#x7ED3;&#x6784;</h1><center><br>    <img src="/2016/04/13/T-EPOS&#x5185;&#x5B58;&#x5206;&#x9875;&#x7BA1;&#x7406;/pde.png" width="70%" height="70%"><br></center><blockquote><p>&#x56FE;&#x4E2D;&#x7684;PDE(Page Directory Entry)&#x4E2D;Page&#x2014;Table Base Address&#x4E3A;&#x5C0F;&#x9875;&#x8868;&#x7684;&#x7269;&#x7406;&#x5730;&#x5740;.<br>PDE&#x7684;&#x524D;20&#x4F4D;&#x7528;&#x6765;&#x8868;&#x793A;&#x5C0F;&#x9875;&#x8868;&#x7684;&#x7269;&#x7406;&#x5730;&#x5740;,&#x540E;12&#x4F4D;&#x7528;&#x6765;&#x7BA1;&#x7406;&#x9875;&#x8868;&#x9879;,&#x5C0F;&#x9875;&#x8868;&#x7684;&#x7269;&#x7406;&#x5730;&#x5740;&#x8DE8;&#x5EA6;4KBytes&#x3002;<br>&#x5C0F;&#x9875;&#x8868;&#x7684;&#x7269;&#x7406;&#x5730;&#x5740;&#x4E3A;4KBytes(2^12)&#x7684;&#x6574;&#x500D;&#x6570;,&#x4E00;&#x5F20;PDE&#x6709;1024&#x4E2A;&#x9875;&#x8868;&#x9879;,&#x4E00;&#x5F20;PDE&#x5927;&#x5C0F;4KBytes&#x3002;</p></blockquote><center><br>    <img src="/2016/04/13/T-EPOS&#x5185;&#x5B58;&#x5206;&#x9875;&#x7BA1;&#x7406;/pte.png" width="70%" height="70%"><br></center><blockquote><p>&#x56FE;&#x4E2D;&#x7684;PTE(Page Table Entry)&#x4E2D;Page Base Address&#x4E3A;&#x7269;&#x7406;&#x5730;&#x5740;.<br>PTE&#x7684;&#x524D;20&#x4F4D;&#x7528;&#x6765;&#x8868;&#x793A;&#x7269;&#x7406;&#x5730;&#x5740;,&#x540E;12&#x4F4D;&#x7528;&#x6765;&#x7BA1;&#x7406;&#x9875;&#x8868;&#x9879;,&#x7269;&#x7406;&#x5730;&#x5740;&#x8DE8;&#x5EA6;4KBytes&#x3002;<br>&#x7269;&#x7406;&#x5730;&#x5740;&#x4E3A;4KBytes(2^12)&#x7684;&#x6574;&#x500D;&#x6570;,&#x4E00;&#x5F20;&#x5C0F;&#x9875;&#x8868;&#x6709;1024&#x4E2A;&#x9875;&#x8868;&#x9879;,&#x53EF;&#x4EE5;&#x8868;&#x793A;4MBytes&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x3002;<br>&#x603B;&#x5171;&#x6709;1024&#x4E2A;&#x5C0F;&#x9875;&#x8868;,&#x5219;&#x53EF;&#x4EE5;&#x8868;&#x793A;4GBytes&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x3002;</p></blockquote><center><br>    <img src="/2016/04/13/T-EPOS&#x5185;&#x5B58;&#x5206;&#x9875;&#x7BA1;&#x7406;/2.png" width="70%" height="70%"><br></center><blockquote><p>&#x7528;4Bytes&#x6765;&#x8868;&#x793A;&#x865A;&#x62DF;&#x5730;&#x5740;,[31,22]&#x5171;&#x5341;&#x4F4D;,&#x53EF;&#x4EE5;&#x7D22;&#x5F15;1024&#x9879;PDE,[21,12]&#x5171;&#x5341;&#x4F4D;,&#x53EF;&#x4EE5;&#x7D22;&#x5F15;1024&#x9879;PTE&#xFF0C;<br>[11,0]&#x5171;12&#x4F4D;,&#x53EF;&#x4EE5;&#x5728;&#x504F;&#x79FB;4KBytes&#x7684;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;&#x3002;</p></blockquote><h1 id="2-EPOS&#x4E2D;&#x5206;&#x9875;&#x7684;&#x521D;&#x59CB;&#x5316;&#x6E90;&#x7801;&#x5206;&#x6790;&#x3002;"><a href="#2-EPOS&#x4E2D;&#x5206;&#x9875;&#x7684;&#x521D;&#x59CB;&#x5316;&#x6E90;&#x7801;&#x5206;&#x6790;&#x3002;" class="headerlink" title="2.EPOS&#x4E2D;&#x5206;&#x9875;&#x7684;&#x521D;&#x59CB;&#x5316;&#x6E90;&#x7801;&#x5206;&#x6790;&#x3002;"></a>2.EPOS&#x4E2D;&#x5206;&#x9875;&#x7684;&#x521D;&#x59CB;&#x5316;&#x6E90;&#x7801;&#x5206;&#x6790;&#x3002;</h1><center><br>    <img src="/2016/04/13/T-EPOS&#x5185;&#x5B58;&#x5206;&#x9875;&#x7BA1;&#x7406;/3.png" width="70%" height="70%"><br></center><br><center><br>    <img src="/2016/04/13/T-EPOS&#x5185;&#x5B58;&#x5206;&#x9875;&#x7BA1;&#x7406;/4.png" width="70%" height="70%"><br></center><h1 id="&#x64CD;&#x4F5C;&#x4E00;&#xFF1A;pgdir&#x91CC;&#x5B58;&#x653E;&#x9875;&#x8868;&#x76EE;&#x5F55;&#x7684;&#x7269;&#x7406;&#x5730;&#x5740;-&#x9875;&#x8868;&#x76EE;&#x5F55;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;4KBytes&#x3002;"><a href="#&#x64CD;&#x4F5C;&#x4E00;&#xFF1A;pgdir&#x91CC;&#x5B58;&#x653E;&#x9875;&#x8868;&#x76EE;&#x5F55;&#x7684;&#x7269;&#x7406;&#x5730;&#x5740;-&#x9875;&#x8868;&#x76EE;&#x5F55;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;4KBytes&#x3002;" class="headerlink" title="&#x64CD;&#x4F5C;&#x4E00;&#xFF1A;pgdir&#x91CC;&#x5B58;&#x653E;&#x9875;&#x8868;&#x76EE;&#x5F55;&#x7684;&#x7269;&#x7406;&#x5730;&#x5740;,&#x9875;&#x8868;&#x76EE;&#x5F55;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;4KBytes&#x3002;"></a>&#x64CD;&#x4F5C;&#x4E00;&#xFF1A;pgdir&#x91CC;&#x5B58;&#x653E;&#x9875;&#x8868;&#x76EE;&#x5F55;&#x7684;&#x7269;&#x7406;&#x5730;&#x5740;,&#x9875;&#x8868;&#x76EE;&#x5F55;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;4KBytes&#x3002;</h1><h1 id="&#x64CD;&#x4F5C;&#x4E00;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;"><a href="#&#x64CD;&#x4F5C;&#x4E00;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;" class="headerlink" title="&#x64CD;&#x4F5C;&#x4E00;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;"></a>&#x64CD;&#x4F5C;&#x4E00;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;</h1><center><br>    <img src="/2016/04/13/T-EPOS&#x5185;&#x5B58;&#x5206;&#x9875;&#x7BA1;&#x7406;/5.png" width="70%" height="70%"><br></center><h1 id="&#x64CD;&#x4F5C;&#x4E8C;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;"><a href="#&#x64CD;&#x4F5C;&#x4E8C;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;" class="headerlink" title="&#x64CD;&#x4F5C;&#x4E8C;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;"></a>&#x64CD;&#x4F5C;&#x4E8C;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;</h1><center><br>    <img src="/2016/04/13/T-EPOS&#x5185;&#x5B58;&#x5206;&#x9875;&#x7BA1;&#x7406;/6.png" width="70%" height="70%"><br></center><h1 id="&#x64CD;&#x4F5C;&#x4E09;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;"><a href="#&#x64CD;&#x4F5C;&#x4E09;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;" class="headerlink" title="&#x64CD;&#x4F5C;&#x4E09;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;"></a>&#x64CD;&#x4F5C;&#x4E09;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;</h1><center><br>    <img src="/2016/04/13/T-EPOS&#x5185;&#x5B58;&#x5206;&#x9875;&#x7BA1;&#x7406;/7.png" width="70%" height="70%"><br></center><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pte=(<span class="keyword">uint32_t</span> *)(PAGE_TRUNCATE(pgdir[<span class="number">0</span>])); <span class="comment">//&#x4ECE;&#x9875;&#x8868;&#x76EE;&#x5F55;&#x53D6;&#x51FA;&#x7B2C;&#x4E00;&#x9879;</span></span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; (<span class="keyword">uint32_t</span>)(pgdir); i+=PAGE_SIZE)</span><br><span class="line">        pte[i&gt;&gt;PAGE_SHIFT]=(i)|PTE_V|PTE_W;  <span class="comment">//&#x7B2C;&#x4E00;&#x5F20;&#x5C0F;&#x9875;&#x8868;&#x7684;&#x7B2C;&#x4E00;&#x9879;&#x5B58;&#x653E;&#x7269;&#x7406;&#x5730;&#x5740;0,4KByte&#x589E;&#x957F;,&#x7B49;&#x4E8E;&#x9875;&#x8868;&#x76EE;&#x5F55;&#x7684;&#x7269;&#x7406;&#x5730;&#x5740;&#x4E3A;&#x6B62;&#x3002;</span></span><br></pre></td></tr></table></figure><h1 id="&#x64CD;&#x4F5C;&#x56DB;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;"><a href="#&#x64CD;&#x4F5C;&#x56DB;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;" class="headerlink" title="&#x64CD;&#x4F5C;&#x56DB;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;"></a>&#x64CD;&#x4F5C;&#x56DB;&#x5B8C;&#x6210;&#x540E;&#x5982;&#x56FE;</h1><center><br>    <img src="/2016/04/13/T-EPOS&#x5185;&#x5B58;&#x5206;&#x9875;&#x7BA1;&#x7406;/8.png" width="70%" height="70%"><br></center><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pgdir[(KERNBASE&gt;&gt;PGDR_SHIFT)<span class="number">-1</span>]=(<span class="keyword">uint32_t</span>)(pgdir)|PTE_V|PTE_W;</span><br><span class="line"><span class="comment">//pgdir[767]=(uint32_t)(pgdir)|PTE_V|PTE_W;</span></span><br></pre></td></tr></table></figure><blockquote><p>&#x4F7F;&#x9875;&#x8868;&#x76EE;&#x5F55;&#x9879;767&#x7684;&#x7269;&#x7406;&#x5730;&#x5740;(&#x524D;20&#x4F4D;)&#x6307;&#x5411;&#x9875;&#x8868;&#x76EE;&#x5F55;&#x9996;&#x5730;&#x5740;::&#x524D;&#x63D0;&#x9875;&#x8868;&#x76EE;&#x5F55;&#x9996;&#x5730;&#x5740;&#x6EE1;&#x8DB3;4Kbyte&#x5185;&#x5B58;&#x5BF9;&#x9F50;<br>&#x4EE5;&#x524D;&#x901A;&#x8FC7;&#x7269;&#x7406;&#x5730;&#x5740;&#x8BBF;&#x95EE;&#x9875;&#x8868;&#x76EE;&#x5F55;&#xFF0C;&#x5C0F;&#x9875;&#x8868;&#x3002;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;(767.0.0)&#x7684;&#x865A;&#x62DF;&#x5730;&#x5740;&#x8BBF;&#x95EE;&#x7B2C;&#x4E00;&#x5F20;&#x5C0F;&#x9875;&#x8868;(767.767.0)&#x7684;&#x865A;&#x62DF;&#x5730;&#x5740;&#x8BBF;&#x95EE;&#x9875;&#x8868;&#x76EE;&#x5F55;&#x3002;<br>1&#xFF1A;(&#x9875;&#x8868;&#x76EE;&#x5F55;)&#x5C0F;&#x9875;&#x8868;&#x7269;&#x7406;&#x5730;&#x5740;-&gt;(&#x5C0F;&#x9875;&#x8868;)&#x7269;&#x7406;&#x5730;&#x5740;-&gt;&#x7269;&#x7406;&#x5730;&#x5740;+offset<br>2&#xFF1A;(&#x9875;&#x8868;&#x76EE;&#x5F55;)&#x9875;&#x8868;&#x76EE;&#x5F55;&#x5730;&#x5740;-&gt;(&#x9875;&#x8868;&#x76EE;&#x5F55;)&#x5C0F;&#x9875;&#x8868;&#x7269;&#x7406;&#x5730;&#x5740;-&gt;&#x5C0F;&#x9875;&#x8868;&#x7269;&#x7406;&#x5730;&#x5740;+offset<br>3:(&#x9875;&#x8868;&#x76EE;&#x5F55;)&#x9875;&#x8868;&#x76EE;&#x5F55;&#x5730;&#x5740;-&gt;(&#x9875;&#x8868;&#x76EE;&#x5F55;)&#x9875;&#x8868;&#x76EE;&#x5F55;&#x5730;&#x5740;-&gt;&#x9875;&#x8868;&#x76EE;&#x5F55;&#x5730;&#x5740;+offset</p></blockquote><center><br>    <img src="/2016/04/13/T-EPOS&#x5185;&#x5B58;&#x5206;&#x9875;&#x7BA1;&#x7406;/9.png" width="70%" height="70%"><br></center><p>&#x5C06;&#x9875;&#x8868;&#x76EE;&#x5F55;&#x7684;&#x7269;&#x7406;&#x5730;&#x5740;&#x7ED9;&#x63A7;&#x5236;&#x5668;3<br>&#x5C06;&#x63A7;&#x5236;&#x5668;1&#x7684;&#x9996;&#x4F4D;&#x7F6E;1&#x6253;&#x5F00;&#x5206;&#x9875;</p>]]></content>
    
    <summary type="html">
    
      内存分页管理
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[T]内联汇编学习</title>
    <link href="http://fengjinyuan.github.io/2016/03/29/T-%E5%86%85%E8%81%94%E6%B1%87%E7%BC%96%E5%AD%A6%E4%B9%A0/"/>
    <id>http://fengjinyuan.github.io/2016/03/29/T-内联汇编学习/</id>
    <published>2016-03-29T11:24:27.000Z</published>
    <updated>2019-06-06T11:47:29.765Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;"><a href="#&#x95EE;&#x9898;&#x63CF;&#x8FF0;" class="headerlink" title="&#x95EE;&#x9898;&#x63CF;&#x8FF0;"></a>&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h1><blockquote><p>&#x521D;&#x59CB;&#x5316;&#x6307;&#x9488;p,&#x6307;&#x5411;&#x201D;hello&#x201D;&#x5B57;&#x7B26;&#x4E32;,&#x62F7;&#x8D1D;&#x6307;&#x9488;p,&#x4F7F;t&#x4E5F;&#x6307;&#x5411;&#x201D;hello&#x201D;&#x5B57;&#x7B26;&#x4E32;,<br>p=t &#x5185;&#x5BB9;:(&#x5B57;&#x7B26;&#x4E32;&#x9996;&#x5730;&#x5740;),&#x63A7;&#x5236;&#x6307;&#x9488;t,&#x4F7F;&#x5176;&#x7528;hello&#x4E2D;&#x7684;e &#x66FF;&#x6362;temp&#x7684;&#x5185;&#x5BB9;,&#x66FF;&#x6362;temp2&#x7684;&#x5185;&#x5BB9;&#x3002;</p></blockquote><h2 id="&#x4EE3;&#x7801;&#x5982;&#x4E0B;"><a href="#&#x4EE3;&#x7801;&#x5982;&#x4E0B;" class="headerlink" title="&#x4EE3;&#x7801;&#x5982;&#x4E0B;"></a>&#x4EE3;&#x7801;&#x5982;&#x4E0B;</h2><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/1.png" width="100%" height="100%"><br>    c&#x4EE3;&#x7801;<br></center><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/2.png" width="70%" height="70%"><br>    &#x6C47;&#x7F16;&#x4EE3;&#x7801;<br></center><!-- ![c代码](T-内联汇编学习/1.png)   --><!-- ![汇编代码](T-内联汇编学习/2.png) --><p>&#x5F88;&#x660E;&#x663E;,&#x64CD;&#x4F5C;&#x4E8C;&#x662F;&#x6709;&#x9519;&#x8BEF;&#x7684;,&#x4F46;&#x662F;&#x8BA1;&#x7B97;&#x673A;&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x795E;&#x5947;,&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x7ED3;&#x679C;&#x3002;(&#x7406;&#x8BBA;&#x4E0A; &#x64CD;&#x4F5C;&#x4E00;&#x6B63;&#x786E;,&#x64CD;&#x4F5C;&#x4E8C;&#x9519;&#x8BEF;)</p><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/3.png" width="100%" height="100%"><br></center><p><strong> &#x8FD9;&#x662F;&#x4E3A;&#x4EC0;&#x4E48; &#xFF1F;&#xFF1F;&#xFF1F;</strong> </p><p>&#x5206;&#x6790;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;,&#x9996;&#x5148;&#x5206;&#x6790;&#x64CD;&#x4F5C;&#x4E00;</p><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/4.png" width="100%" height="100%"><br></center><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(%esp+52)-&gt;&gt;%eax-&gt;&gt;%ebx</span><br><span class="line">%ebx++</span><br><span class="line">(%ebx)-&gt;&gt;%cl-&gt;&gt;(%esp+59)[temp]</span><br></pre></td></tr></table></figure><p><strong>&#x6267;&#x884C;&#x524D;&#x5BC4;&#x5B58;&#x5668;&#x72B6;&#x6001;</strong></p><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/5.png" width="100%" height="100%"><br></center><br><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/6.png" width="100%" height="100%"><br></center><p><strong>&#x6267;&#x884C;&#x540E;&#x5BC4;&#x5B58;&#x5668;&#x72B6;&#x6001;</strong></p><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/7.png" width="100%" height="100%"><br></center><br><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/8.png" width="100%" height="100%"><br></center><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x521D;&#x59CB;&#x65F6;%eax=0x405064,%ebx=0x405064</span><br><span class="line">&#x6267;&#x884C;&#x5B8C;%ebx++ %ebx=0x405065</span><br><span class="line">&#x6267;&#x884C;&#x5B8C;(%ebx)-&gt;&gt;%cl %ecx=0x65</span><br></pre></td></tr></table></figure><p><strong>&#x7EE7;&#x7EED;&#x5411;&#x4E0B;&#x5206;&#x6790;</strong></p><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/9.png" width="100%" height="100%"><br></center><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">52(%esp+52)-&gt;&gt;%eax;</span><br><span class="line">%eax++;</span><br><span class="line">%eax-&gt;&gt;(%esp+43)</span><br><span class="line"></span><br><span class="line">`</span><br></pre></td></tr></table></figure><p><strong>&#x6267;&#x884C;&#x524D;&#x5BC4;&#x5B58;&#x5668;&#x72B6;&#x6001;</strong></p><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/10.png" width="100%" height="100%"><br></center><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/11.png" width="100%" height="100%"><br></center><p><strong>&#x6267;&#x884C;&#x540E;&#x5BC4;&#x5B58;&#x5668;&#x72B6;&#x6001;</strong></p><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/12.png" width="100%" height="100%"><br></center><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/13.png" width="100%" height="100%"><br></center><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x6267;&#x884C;&#x5B8C; %eax=0x405065</span><br><span class="line">(%esp+43)&#x7684;&#x5185;&#x5BB9;0x405065</span><br></pre></td></tr></table></figure><p><strong>&#x7EE7;&#x7EED;&#x5206;&#x6790;,&#x6211;&#x4EEC;&#x770B;&#x770B;printf&#x6253;&#x5370;&#x524D;&#x7684;&#x51C6;&#x5907;</strong></p><center><br>    <img src="/2016/03/29/T-&#x5185;&#x8054;&#x6C47;&#x7F16;&#x5B66;&#x4E60;/14.png" width="100%" height="100%"><br></center><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(%esp+43)=0x405065</span><br><span class="line">&#x5C0F;&#x7AEF;&#x5BF9;&#x9F50;,&#x6267;&#x884C;&#x5B8C;movb 43(%esp),%al&#x540E;%al=0x65 &#x2019;e&#x2019;   movsbl  %al,%edx   &#x5E26;&#x7B26;&#x53F7;&#x4F4D;&#x6269;&#x5C55;</span><br><span class="line">(%esp+52)=<span class="string">&apos;0x65&apos;</span></span><br><span class="line">&#x5230;&#x8FD9;&#x91CC;,&#x6211;&#x4EEC;&#x5C31;&#x5E94;&#x8BE5;&#x770B;&#x5230;&#x51FA;&#x9519;&#x7684;&#x539F;&#x56E0;&#x4E86;.</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      内联汇编学习中遇到的奇葩问题
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[T]MongoDB简记</title>
    <link href="http://fengjinyuan.github.io/2016/03/06/T-MongoDB%E7%AE%80%E8%AE%B0/"/>
    <id>http://fengjinyuan.github.io/2016/03/06/T-MongoDB简记/</id>
    <published>2016-03-06T13:01:31.000Z</published>
    <updated>2019-06-06T10:51:15.849Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-windows-&#x5B89;&#x88C5;MongoDB"><a href="#1-windows-&#x5B89;&#x88C5;MongoDB" class="headerlink" title="1.windows &#x5B89;&#x88C5;MongoDB"></a>1.windows &#x5B89;&#x88C5;MongoDB</h1><p>@1&#x4E0B;&#x8F7D;&#x5730;&#x5740;<br><a href="http://www.mongodb.org/downloads" target="_blank" rel="noopener">http://www.mongodb.org/downloads</a><br>&#x5B89;&#x88C5;&#x5230;&#x6307;&#x5B9A;&#x76EE;&#x5F55;<br>@2&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;db&#x76EE;&#x5F55;<br>&#x8FDB;&#x5165;cmd &#x9009;&#x7740;&#x4EFB;&#x610F;&#x6839;&#x76EE;&#x5F55; ,&#x5982;F:\<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">F:\&gt;mkdir data</span><br><span class="line">F:\&gt;<span class="built_in">cd</span> data</span><br><span class="line">F:\data&gt;mkdir db</span><br><span class="line">F:\data&gt;<span class="built_in">cd</span> db</span><br><span class="line">F:\data\db&gt;</span><br></pre></td></tr></table></figure></p><p>@3.&#x5F00;&#x542F;mongodb&#x670D;&#x52A1;<br>&#x8FDB;&#x5165;bin&#x76EE;&#x5F55;&#x4E0B;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongod --dbpath F:/data/db</span><br></pre></td></tr></table></figure></p><p>@4.&#x8FDB;&#x5165;mongodb shell<br>&#x8FDB;&#x5165;bin&#x76EE;&#x5F55;&#x4E0B;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongo</span><br></pre></td></tr></table></figure></p><h1 id="2-Linux-&#x5B89;&#x88C5;MongoDB"><a href="#2-Linux-&#x5B89;&#x88C5;MongoDB" class="headerlink" title="2.Linux &#x5B89;&#x88C5;MongoDB"></a>2.Linux &#x5B89;&#x88C5;MongoDB</h1><p>@root&#x6743;&#x9650;&#x4E0B;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt</span><br><span class="line">curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.0.6.tgz</span><br><span class="line">tar -xvf mongodb-linux-x86_64-3.0.6.tgz</span><br><span class="line">mv  mongodb-linux-x86_64-3.0.6/ /usr/<span class="built_in">local</span>/mongodb</span><br><span class="line"><span class="built_in">export</span> PATH=/usr/<span class="built_in">local</span>/mongodb/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure></p><p>@&#x5EFA;&#x7ACB;db&#x76EE;&#x5F55;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir data</span><br><span class="line"><span class="built_in">cd</span> data</span><br><span class="line">mkdir db</span><br><span class="line"><span class="built_in">cd</span> db</span><br></pre></td></tr></table></figure></p><p>@&#x5F00;&#x542F;mongodb&#x670D;&#x52A1;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongod --dbpath=/data/db</span><br></pre></td></tr></table></figure></p><p>@&#x8FDB;&#x5165;mongodb shell<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongo</span><br></pre></td></tr></table></figure></p><h1 id="&#x64CD;&#x4F5C;&#x8BF4;&#x660E;-&#x5728;mongodb-shell&#x4E0B;"><a href="#&#x64CD;&#x4F5C;&#x8BF4;&#x660E;-&#x5728;mongodb-shell&#x4E0B;" class="headerlink" title="&#x64CD;&#x4F5C;&#x8BF4;&#x660E;(&#x5728;mongodb shell&#x4E0B;)"></a>&#x64CD;&#x4F5C;&#x8BF4;&#x660E;(&#x5728;mongodb shell&#x4E0B;)</h1><h2 id="1&#x589E;"><a href="#1&#x589E;" class="headerlink" title="@1&#x589E;"></a>@1&#x589E;</h2><p>db.your_collection_name.insert(document&lt;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5143;&#x7EC4;&gt;);<br>db.your_collection_name(&#x8868;).save(document&lt;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5143;&#x7EC4;&gt;);</p><h2 id="2&#x5220;"><a href="#2&#x5220;" class="headerlink" title="@2&#x5220;"></a>@2&#x5220;</h2><p>db.your_collection_name.remove({});&#x5220;&#x9664;&#x6240;&#x6709;<br>db.your_collection_name.remove({condition},{justOne:true});</p><h2 id="3&#x6539;"><a href="#3&#x6539;" class="headerlink" title="@3&#x6539;"></a>@3&#x6539;</h2><p>db.your_collection_name.update({key:value},{$set:{key:value}},{multi:true})<br>db.your_collection_name.save(document)</p><h2 id="4&#x67E5;"><a href="#4&#x67E5;" class="headerlink" title="@4&#x67E5;"></a>@4&#x67E5;</h2><h3 id="db-your-collection-name-find-key1-value1-key2-value2-pretty-AND"><a href="#db-your-collection-name-find-key1-value1-key2-value2-pretty-AND" class="headerlink" title="db.your_collection_name.find({key1:value1, key2:value2}).pretty() AND"></a>db.your_collection_name.find({key1:value1, key2:value2}).pretty() AND</h3><h3 id="db-your-collection-name-find-or-key-value-key-value-pretty-OR"><a href="#db-your-collection-name-find-or-key-value-key-value-pretty-OR" class="headerlink" title="db.your_collection_name.find({$or:[{key:value},{key:value}]}).pretty() OR"></a>db.your_collection_name.find({$or:[{key:value},{key:value}]}).pretty() OR</h3><h3 id="db-your-collection-name-find-key-gt-vlaue-or-key-value-key-value-pretty-AND-OR"><a href="#db-your-collection-name-find-key-gt-vlaue-or-key-value-key-value-pretty-AND-OR" class="headerlink" title="db.your_collection_name.find({key: {$gt:vlaue}, $or: [{key: value},{key:value}]}).pretty() AND OR"></a>db.your_collection_name.find({key: {$gt:vlaue}, $or: [{key: value},{key:value}]}).pretty() AND OR</h3><h3 id="db-your-collection-name-find-key-lt-value-gt-value2-key-lt-vlaue-AND-key-gt-value2"><a href="#db-your-collection-name-find-key-lt-value-gt-value2-key-lt-vlaue-AND-key-gt-value2" class="headerlink" title="db.your_collection_name.find({key : {$lt :value, $gt : value2}})  key &lt; vlaue AND key &gt; value2"></a>db.your_collection_name.find({key : {$lt :value, $gt : value2}})  key &lt; vlaue AND key &gt; value2</h3><h1 id="&#x5907;&#x6CE8;"><a href="#&#x5907;&#x6CE8;" class="headerlink" title="&#x5907;&#x6CE8;"></a>&#x5907;&#x6CE8;</h1><p>db.createCollection(&#x201C;your_collection_name&#x201D;, {capped:true, size:100000});<br>limit(num) &#x9650;&#x5B9A;&#x67E5;&#x8BE2;&#x6570;&#x91CF;<br>skip(num) &#x8DF3;&#x8FC7;&#x6307;&#x5B9A;&#x6570;&#x91CF;&#x7684;&#x6570;&#x636E;<br>sort&#xFF08;&#x6392;&#x5E8F;&#xFF09;<br>db.COLLECTION_NAME.find().sort({KEY:1}) 1&#x5347;&#x5E8F; -1&#x964D;&#x5E8F;<br>&#x7D22;&#x5F15;<br>db.your_collection_name.ensureIndex({&#x201C;title&#x201D;:1}) 1&#x5347;&#x5E8F;&#x521B;&#x5EFA;&#x7D22;&#x5F15; -1&#x964D;&#x5E8F;&#x521B;&#x5EFA;&#x7D22;&#x5F15;<br>db.your_collection_name.ensureIndex({&#x201C;title&#x201D;:1,&#x201D;description&#x201D;:-1}) &#x590D;&#x5408;&#x7D22;&#x5F15;<br>mongodump -h dbhost -d dbname -o dbdirectory  &#x5907;&#x4EFD;<br>mongorestore -h dbhost -d dbname &#x2013;directoryperdb dbdirectory &#x6062;&#x590D;</p><h1 id="Linux-php"><a href="#Linux-php" class="headerlink" title="Linux+php"></a>Linux+php</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pecl install mongo</span><br><span class="line">php.ini=&gt;extension=mongo.so</span><br></pre></td></tr></table></figure><h1 id="&#x7CFB;&#x7EDF;&#x8BF4;&#x660E;&#xFF1A;Ubuntu-14-04-64"><a href="#&#x7CFB;&#x7EDF;&#x8BF4;&#x660E;&#xFF1A;Ubuntu-14-04-64" class="headerlink" title="&#x7CFB;&#x7EDF;&#x8BF4;&#x660E;&#xFF1A;Ubuntu 14.04 64"></a>&#x7CFB;&#x7EDF;&#x8BF4;&#x660E;&#xFF1A;Ubuntu 14.04 64</h1>]]></content>
    
    <summary type="html">
    
      MongoDB
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[T]通用异步接受器UART</title>
    <link href="http://fengjinyuan.github.io/2016/03/03/T-%E9%80%9A%E7%94%A8%E5%BC%82%E6%AD%A5%E6%8E%A5%E5%8F%97%E5%99%A8UART/"/>
    <id>http://fengjinyuan.github.io/2016/03/03/T-通用异步接受器UART/</id>
    <published>2016-03-03T12:52:46.000Z</published>
    <updated>2019-06-06T11:13:29.107Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x4E00;&#x3001;UART&#x539F;&#x7406;&#x8BF4;&#x660E;"><a href="#&#x4E00;&#x3001;UART&#x539F;&#x7406;&#x8BF4;&#x660E;" class="headerlink" title="&#x4E00;&#x3001;UART&#x539F;&#x7406;&#x8BF4;&#x660E;"></a>&#x4E00;&#x3001;UART&#x539F;&#x7406;&#x8BF4;&#x660E;</h1><p><font color="#0099ff" size="5" face="&#x9ED1;&#x4F53;">1.&#x53D1;&#x9001;&#x6570;&#x636E;:cpu&#x5E76;&#x884C;&#x6570;&#x636E;&#x5199;&#x5165;UART,UART&#x6309;&#x7167;&#x4E00;&#x5B9A;&#x683C;&#x5F0F;&#x5728;&#x7535;&#x7EBF;&#x4E0A;&#x4E32;&#x884C;&#x53D1;&#x9001;</font></p><p><font color="#0099ff" size="5" face="&#x9ED1;&#x4F53;">2.&#x63A5;&#x53D7;&#x6570;&#x636E;:UART&#x68C0;&#x6D4B;&#x7535;&#x7EBF;&#x7684;&#x4FE1;&#x53F7;,&#x4E32;&#x884C;&#x6536;&#x96C6;&#x5230;&#x7F13;&#x51B2;&#x533A;,CPU&#x4ECE;&#x7F13;&#x51B2;&#x533A;&#x8BFB;&#x6570;&#x636E;</font></p><h3 id="&#x6570;&#x636E;&#x4F20;&#x8F93;&#x6D41;&#x7A0B;"><a href="#&#x6570;&#x636E;&#x4F20;&#x8F93;&#x6D41;&#x7A0B;" class="headerlink" title="&#x6570;&#x636E;&#x4F20;&#x8F93;&#x6D41;&#x7A0B;:"></a>&#x6570;&#x636E;&#x4F20;&#x8F93;&#x6D41;&#x7A0B;:</h3><p>1.&#x5F85;&#x547D;&#x65F6;,&#x6570;&#x636E;&#x7EBF;&#x5904;&#x4E8E;&#x7A7A;&#x95F2;&#x72B6;&#x6001;(&#x9AD8;&#x7535;&#x5E73;);<br>2.&#x53D1;&#x9001;&#x6570;&#x636E;&#x65F6;,TXD &#x72B6;&#x6001;&#x4ECE;&#x9AD8;&#x7535;&#x5E73;&#x53D8;&#x4E3A;&#x4F4E;&#x7535;&#x5E73;&#x7EF4;&#x6301;1bit&#x7684;&#x65F6;&#x95F4;(&#x5F00;&#x59CB;&#x4F4D;);<br>3.&#x53D1;&#x9001;&#x4E00;&#x5E27;&#x6570;&#x636E;&#x53EF;&#x4EE5;(5,6,7,8&#x4F4D;),&#x4F4E;&#x4F4D;&#x5148;&#x53D1;&#x9001;;<br>4.&#x4F7F;&#x7528;&#x6821;&#x9A8C;&#x529F;&#x80FD;,&#x6570;&#x636E;&#x4F4D;&#x4F20;&#x8F93;&#x7ED3;&#x675F;&#x65F6;,&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x6821;&#x9A8C;&#x4F4D;;<br>5.&#x6700;&#x540E;&#x53D1;&#x9001;&#x505C;&#x6B62;&#x4F4D;,&#x505C;&#x6B62;&#x4F4D;&#x957F;&#x5EA6;:1,1.5,2bit<br><img src="/2016/03/03/T-&#x901A;&#x7528;&#x5F02;&#x6B65;&#x63A5;&#x53D7;&#x5668;UART/1.jpg" alt=""></p><h1 id="&#x4E8C;&#x3001;s3c2440-uart"><a href="#&#x4E8C;&#x3001;s3c2440-uart" class="headerlink" title="&#x4E8C;&#x3001;s3c2440 uart"></a>&#x4E8C;&#x3001;s3c2440 uart</h1><p><img src="/2016/03/03/T-&#x901A;&#x7528;&#x5F02;&#x6B65;&#x63A5;&#x53D7;&#x5668;UART/2.jpg" alt=""></p><h1 id="&#x4E09;&#x3001;s3c2440-UART&#x4F7F;&#x7528;"><a href="#&#x4E09;&#x3001;s3c2440-UART&#x4F7F;&#x7528;" class="headerlink" title="&#x4E09;&#x3001;s3c2440 UART&#x4F7F;&#x7528;"></a>&#x4E09;&#x3001;s3c2440 UART&#x4F7F;&#x7528;</h1><h2 id="&#x4F7F;&#x7528;UART&#x4E4B;&#x524D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x6CE2;&#x7279;&#x7387;-1-&#x6BCF;&#x4F4D;&#x5360;&#x636E;&#x65F6;&#x95F4;-&#x4F20;&#x8F93;&#x683C;&#x5F0F;-&#x6570;&#x636E;&#x4F4D;-&#x6821;&#x9A8C;&#x4F4D;-&#x505C;&#x6B62;&#x4F4D;"><a href="#&#x4F7F;&#x7528;UART&#x4E4B;&#x524D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x6CE2;&#x7279;&#x7387;-1-&#x6BCF;&#x4F4D;&#x5360;&#x636E;&#x65F6;&#x95F4;-&#x4F20;&#x8F93;&#x683C;&#x5F0F;-&#x6570;&#x636E;&#x4F4D;-&#x6821;&#x9A8C;&#x4F4D;-&#x505C;&#x6B62;&#x4F4D;" class="headerlink" title="&#x4F7F;&#x7528;UART&#x4E4B;&#x524D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x6CE2;&#x7279;&#x7387;(1/&#x6BCF;&#x4F4D;&#x5360;&#x636E;&#x65F6;&#x95F4;),&#x4F20;&#x8F93;&#x683C;&#x5F0F;(&#x6570;&#x636E;&#x4F4D;,&#x6821;&#x9A8C;&#x4F4D;,&#x505C;&#x6B62;&#x4F4D;)"></a>&#x4F7F;&#x7528;UART&#x4E4B;&#x524D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;<code>&#x6CE2;&#x7279;&#x7387;</code>(1/&#x6BCF;&#x4F4D;&#x5360;&#x636E;&#x65F6;&#x95F4;),<code>&#x4F20;&#x8F93;&#x683C;&#x5F0F;</code>(&#x6570;&#x636E;&#x4F4D;,&#x6821;&#x9A8C;&#x4F4D;,&#x505C;&#x6B62;&#x4F4D;)</h2><h2 id="1-&#x8BBE;&#x7F6E;&#x901A;&#x9053;&#x7BA1;&#x811A;&#x4E3A;UART&#x529F;&#x80FD;"><a href="#1-&#x8BBE;&#x7F6E;&#x901A;&#x9053;&#x7BA1;&#x811A;&#x4E3A;UART&#x529F;&#x80FD;" class="headerlink" title="@1.&#x8BBE;&#x7F6E;&#x901A;&#x9053;&#x7BA1;&#x811A;&#x4E3A;UART&#x529F;&#x80FD;:"></a>@1.&#x8BBE;&#x7F6E;&#x901A;&#x9053;&#x7BA1;&#x811A;&#x4E3A;UART&#x529F;&#x80FD;:</h2><p>uart &#x901A;&#x9053;0:<code>GPHCON</code>-&gt;GPH2(TXD0),GPH3(RXD0)</p><h2 id="2-&#x8BBE;&#x7F6E;&#x6CE2;&#x7279;&#x7387;-UBRDIVn-n-0-2-s3c2440-uart&#x65F6;&#x949F;&#x6E90;-PCLK-UEXTCLK-PCLK-n"><a href="#2-&#x8BBE;&#x7F6E;&#x6CE2;&#x7279;&#x7387;-UBRDIVn-n-0-2-s3c2440-uart&#x65F6;&#x949F;&#x6E90;-PCLK-UEXTCLK-PCLK-n" class="headerlink" title="@2.&#x8BBE;&#x7F6E;&#x6CE2;&#x7279;&#x7387;:UBRDIVn n(0-2) s3c2440 uart&#x65F6;&#x949F;&#x6E90;:PCLK,UEXTCLK,PCLK/n"></a>@2.&#x8BBE;&#x7F6E;&#x6CE2;&#x7279;&#x7387;:<code>UBRDIVn</code> n(0-2) s3c2440 uart&#x65F6;&#x949F;&#x6E90;:PCLK,UEXTCLK,PCLK/n</h2><p>1.&#x65F6;&#x949F;&#x6E90;&#x9891;&#x7387;<br>2.&#x7ED9;&#x5B9A;&#x6CE2;&#x7279;&#x7387;<br>UBRDIVn=(int)(UART clock/(buad rate*16)-1)</p><h2 id="3-&#x8BBE;&#x7F6E;&#x4F20;&#x8F93;&#x683C;&#x5F0F;-ULCONn-n-0-2"><a href="#3-&#x8BBE;&#x7F6E;&#x4F20;&#x8F93;&#x683C;&#x5F0F;-ULCONn-n-0-2" class="headerlink" title="@3.&#x8BBE;&#x7F6E;&#x4F20;&#x8F93;&#x683C;&#x5F0F;:ULCONn n(0-2)"></a>@3.&#x8BBE;&#x7F6E;&#x4F20;&#x8F93;&#x683C;&#x5F0F;:<code>ULCONn</code> n(0-2)</h2><p>[1:0]&#x6570;&#x636E;&#x4F4D;&#x5BBD;&#x5EA6;:00 5&#x4F4D; 01 6&#x4F4D; 10 7&#x4F4D; 11 8&#x4F4D;<br>[2] 0:&#x4E00;&#x5E27;&#x4E2D;&#x4E00;&#x4E2A;&#x505C;&#x6B62;&#x4F4D;  1:&#x4E00;&#x5E27;&#x4E2D;&#x4E8C;&#x4E2A;&#x505C;&#x6B62;&#x4F4D;<br>[5:3] 00:&#x5947;&#x6821;&#x9A8C; 01:&#x5076;&#x6821;&#x9A8C;  10:1&#x6821;&#x9A8C; 11:0&#x6821;&#x9A8C;<br>[6] 0:&#x6B63;&#x5E38;&#x6A21;&#x5F0F; 1:&#x7EA2;&#x5916;&#x6A21;&#x5F0F;</p><h2 id="4-&#x9009;&#x62E9;&#x65F6;&#x949F;&#x6E90;&#xFF0C;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;-UCONn-n-0-2"><a href="#4-&#x9009;&#x62E9;&#x65F6;&#x949F;&#x6E90;&#xFF0C;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;-UCONn-n-0-2" class="headerlink" title="@4.&#x9009;&#x62E9;&#x65F6;&#x949F;&#x6E90;&#xFF0C;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;:UCONn n(0-2)"></a>@4.&#x9009;&#x62E9;&#x65F6;&#x949F;&#x6E90;&#xFF0C;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;:<code>UCONn</code> n(0-2)</h2><p>[1:0] &#x63A5;&#x53D7;&#x6A21;&#x5F0F; 00:&#x7981;&#x6B62;&#x63A5;&#x53D7;&#x6570;&#x636E; 01:&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;&#x6216;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F; 10:DMA0/3 &#x8BF7;&#x6C42; 11:DMA1 &#x8BF7;&#x6C42;<br>[3:2] &#x53D1;&#x9001;&#x6A21;&#x5F0F;  &#x540C;&#x4E0A;<br>[4]  &#x201C;break&#x201D; &#x4FE1;&#x53F7;  0:&#x6B63;&#x5E38;&#x6A21;&#x5F0F; 1:&#x53D1;&#x51FA;&#x2019;break&#x2019;&#x4FE1;&#x53F7;<br>[5] &#x81EA;&#x73AF;&#x6A21;&#x5F0F;   0:&#x6B63;&#x5E38;&#x6A21;&#x5F0F; 1:&#x81EA;&#x73AF;&#x6A21;&#x5F0F;<br>[6] &#x9519;&#x8BEF;&#x5BFC;&#x81F4;&#x7684;&#x4E2D;&#x65AD;&#x4F7F;&#x80FD;  0:&#x7981;&#x6B62;&#x9519;&#x8BEF;&#x4E2D;&#x65AD; 1:&#x4F7F;&#x80FD;&#x9519;&#x8BEF;&#x4E2D;&#x65AD;<br>[7] &#x63A5;&#x53D7;&#x8D85;&#x65F6;&#x4E2D;&#x65AD;   &#x5F53;&#x4F7F;&#x7528;FIFO  0:&#x7981;&#x6B62;&#x8D85;&#x65F6;&#x4E2D;&#x65AD; 1:&#x4F7F;&#x80FD;&#x8D85;&#x65F6;&#x4E2D;&#x65AD;<br>[8] &#x63A5;&#x53D7;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;    NOT FIFO &#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x6570;&#x636E;(&#x4E2D;&#x65AD;) FIFO &#x6570;&#x636E;&#x8FBE;&#x5230;RxFIFO&#x9608;&#x503C;(&#x4E2D;&#x65AD;) 0:&#x8109;&#x51B2; 1:&#x7535;&#x5E73;<br>[9] &#x53D1;&#x9001;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;   NOT FIFO  &#x53D1;&#x9001;&#x7F13;&#x51B2;&#x533A;&#x4E3A;&#x7A7A;(&#x4E2D;&#x65AD;)   FIFO &#x6570;&#x636E;&#x8FBE;&#x5230;TxFIFO&#x9608;&#x503C;(&#x4E2D;&#x65AD;) 0:&#x8109;&#x51B2; 1:&#x7535;&#x5E73;<br>[11:10] &#x65F6;&#x949F;&#x9009;&#x62E9;  00/10 PCLK 01:UEXTCLK 11:FCLK/n<br>[15:12] FCLK&#x5206;&#x9891;&#x7CFB;&#x6570;</p><p> <font color="#F08080" size="3" face="&#x9ED1;&#x4F53;">1. UCON2[15] 0:&#x7981;&#x6B62;FCLK/n 1:&#x4F7F;&#x80FD;FCLK/n</font><br> <font color="#F08080" size="3" face="&#x9ED1;&#x4F53;">n(7-21) UART&#x65F6;&#x949F;=FCLK/(divider+6) divider&#x4E3A;UCON0[15:12]&#x503C;</font><br> <font color="#F08080" size="3" face="&#x9ED1;&#x4F53;">n(22-36) UART&#x65F6;&#x949F;=FCLK/(divider+21) divider&#x4E3A;UCON1[15:12]&#x503C;</font><br> <font color="#F08080" size="3" face="&#x9ED1;&#x4F53;">n(37-43) UART&#x65F6;&#x949F;=FCLK/(divider+36) divider&#x4E3A;UCON2[14:12]&#x503C;</font></p><h2 id="5-UFCONn-&#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x4F7F;&#x7528;FIFO-&#x8FD9;&#x662F;FIFO&#x9608;&#x503C;"><a href="#5-UFCONn-&#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x4F7F;&#x7528;FIFO-&#x8FD9;&#x662F;FIFO&#x9608;&#x503C;" class="headerlink" title="@5 UFCONn:&#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x4F7F;&#x7528;FIFO &#x8FD9;&#x662F;FIFO&#x9608;&#x503C;"></a>@5 <code>UFCONn</code>:&#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x4F7F;&#x7528;FIFO &#x8FD9;&#x662F;FIFO&#x9608;&#x503C;</h2><h2 id="6-UFSATAn-&#x68C0;&#x6D4B;FIFO&#x662F;&#x5426;&#x5DF2;&#x6EE1;-&#x591A;&#x5C11;&#x6570;&#x636E;"><a href="#6-UFSATAn-&#x68C0;&#x6D4B;FIFO&#x662F;&#x5426;&#x5DF2;&#x6EE1;-&#x591A;&#x5C11;&#x6570;&#x636E;" class="headerlink" title="@6 UFSATAn:&#x68C0;&#x6D4B;FIFO&#x662F;&#x5426;&#x5DF2;&#x6EE1;,&#x591A;&#x5C11;&#x6570;&#x636E;"></a>@6 <code>UFSATAn</code>:&#x68C0;&#x6D4B;FIFO&#x662F;&#x5426;&#x5DF2;&#x6EE1;,&#x591A;&#x5C11;&#x6570;&#x636E;</h2><h2 id="7-UMCONn-&#x6D41;&#x91CF;&#x63A7;&#x5236;"><a href="#7-UMCONn-&#x6D41;&#x91CF;&#x63A7;&#x5236;" class="headerlink" title="@7 UMCONn:&#x6D41;&#x91CF;&#x63A7;&#x5236;"></a>@7 <code>UMCONn</code>:&#x6D41;&#x91CF;&#x63A7;&#x5236;</h2><h2 id="8-UMSTATn-&#x6D41;&#x91CF;&#x72B6;&#x6001;"><a href="#8-UMSTATn-&#x6D41;&#x91CF;&#x72B6;&#x6001;" class="headerlink" title="@8 UMSTATn:&#x6D41;&#x91CF;&#x72B6;&#x6001;"></a>@8 <code>UMSTATn</code>:&#x6D41;&#x91CF;&#x72B6;&#x6001;</h2><h2 id="9-UTRSTATn-&#x68C0;&#x6D4B;&#x6570;&#x636E;&#x662F;&#x5426;&#x53D1;&#x9001;&#x5B8C;&#x6BD5;&#xFF0C;&#x662F;&#x5426;&#x63A5;&#x53D7;&#x5230;&#x6570;&#x636E;"><a href="#9-UTRSTATn-&#x68C0;&#x6D4B;&#x6570;&#x636E;&#x662F;&#x5426;&#x53D1;&#x9001;&#x5B8C;&#x6BD5;&#xFF0C;&#x662F;&#x5426;&#x63A5;&#x53D7;&#x5230;&#x6570;&#x636E;" class="headerlink" title="@9 UTRSTATn:&#x68C0;&#x6D4B;&#x6570;&#x636E;&#x662F;&#x5426;&#x53D1;&#x9001;&#x5B8C;&#x6BD5;&#xFF0C;&#x662F;&#x5426;&#x63A5;&#x53D7;&#x5230;&#x6570;&#x636E;"></a>@9 <code>UTRSTATn</code>:&#x68C0;&#x6D4B;&#x6570;&#x636E;&#x662F;&#x5426;&#x53D1;&#x9001;&#x5B8C;&#x6BD5;&#xFF0C;&#x662F;&#x5426;&#x63A5;&#x53D7;&#x5230;&#x6570;&#x636E;</h2><p>[0] &#x63A5;&#x53D7;&#x6570;&#x636E;&#x7F6E;1<br>[1] &#x53D1;&#x9001;&#x7F13;&#x51B2;&#x533A;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x7F6E;1<br>[2] &#x53D1;&#x9001;&#x7F13;&#x51B2;&#x533A;&#x6CA1;&#x6709;&#x6570;&#x636E;,&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5DF2;&#x53D1;&#x9001; &#x7F6E;1</p><h2 id="10UERSTATn-&#x8868;&#x793A;&#x9519;&#x8BEF;&#x7C7B;&#x578B;"><a href="#10UERSTATn-&#x8868;&#x793A;&#x9519;&#x8BEF;&#x7C7B;&#x578B;" class="headerlink" title="@10UERSTATn &#x8868;&#x793A;&#x9519;&#x8BEF;&#x7C7B;&#x578B;"></a>@10<code>UERSTATn</code> &#x8868;&#x793A;&#x9519;&#x8BEF;&#x7C7B;&#x578B;</h2><h2 id="11UTXHn-&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230;&#x7F13;&#x51B2;&#x533A;-&#x81EA;&#x52A8;&#x53D1;&#x9001;"><a href="#11UTXHn-&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230;&#x7F13;&#x51B2;&#x533A;-&#x81EA;&#x52A8;&#x53D1;&#x9001;" class="headerlink" title="@11UTXHn &#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230;&#x7F13;&#x51B2;&#x533A;,&#x81EA;&#x52A8;&#x53D1;&#x9001;"></a>@11<code>UTXHn</code> &#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230;&#x7F13;&#x51B2;&#x533A;,&#x81EA;&#x52A8;&#x53D1;&#x9001;</h2><h2 id="12URXHn-CPU&#x8BFB;&#x53D6;&#x4F20;&#x6765;&#x7684;&#x6570;&#x636E;"><a href="#12URXHn-CPU&#x8BFB;&#x53D6;&#x4F20;&#x6765;&#x7684;&#x6570;&#x636E;" class="headerlink" title="@12URXHn CPU&#x8BFB;&#x53D6;&#x4F20;&#x6765;&#x7684;&#x6570;&#x636E;"></a>@12<code>URXHn</code> CPU&#x8BFB;&#x53D6;&#x4F20;&#x6765;&#x7684;&#x6570;&#x636E;</h2><h1 id="&#x6E90;&#x7801;"><a href="#&#x6E90;&#x7801;" class="headerlink" title="&#x6E90;&#x7801;"></a>&#x6E90;&#x7801;</h1><h2 id="head-S"><a href="#head-S" class="headerlink" title="head.S"></a>head.S</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.<span class="keyword">extern</span> main</span><br><span class="line">.text</span><br><span class="line">.global _start</span><br><span class="line">_start:</span><br><span class="line">Reset:</span><br><span class="line">  ldr sp,=<span class="number">4096</span>       @&#x8BBE;&#x7F6E;&#x6808;&#x9876;&#x6307;&#x9488;</span><br><span class="line">bl disable_watch_dog  @&#x8FDB;&#x5165;c&#x51FD;&#x6570; &#xFF0C;&#x5173;&#x95ED;&#x770B;&#x95E8;&#x72D7;</span><br><span class="line">bl clock_init         @&#x8FDB;&#x5165;c&#x51FD;&#x6570;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x949F;</span><br><span class="line">bl memsetup           @&#x8FDB;&#x5165;c&#x51FD;&#x6570;&#xFF0C;&#x8BBE;&#x7F6E;&#x5185;&#x5B58;</span><br><span class="line">bl copy_steppingstone_to_sdram   @&#x8FDB;&#x5165;c&#x51FD;&#x6570;&#xFF0C;&#x590D;&#x5236;&#x4EE3;&#x7801;&#x5230;sdram</span><br><span class="line">ldr pc,=on_sdram      @&#x8FDB;&#x5165;sdram&#x8FD0;&#x884C;</span><br><span class="line">on_sdram:</span><br><span class="line">ldr sp,=<span class="number">0x34000000</span>    @&#x8BBE;&#x7F6E;&#x6808;&#x9876;&#x6307;&#x9488;</span><br><span class="line">ldr lr,=halt_loop</span><br><span class="line">ldr pc,=main          @&#x8FDB;&#x5165;main&#x51FD;&#x6570;</span><br><span class="line">halt_loop:</span><br><span class="line">b halt_loop</span><br></pre></td></tr></table></figure><h2 id="init-c"><a href="#init-c" class="headerlink" title="init.c"></a>init.c</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;s3c24xx.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">disable_watch_dog</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clock_init</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">memsetup</span> <span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">copy_steppingstone_to_sdram</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> S3C2440_MPLL_200HZ ((0x5c&lt;&lt;12)|(0x01&lt;&lt;4)|(0x02))</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">disable_watch_dog</span><span class="params">(<span class="keyword">void</span>)</span></span>{</span><br><span class="line">WTCON=<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clock_init</span><span class="params">(<span class="keyword">void</span>)</span></span>{</span><br><span class="line">CLKDIVN=<span class="number">0x03</span>;</span><br><span class="line"></span><br><span class="line">__asm__(</span><br><span class="line"><span class="string">&quot;mrc p15,0,r1,c1,c0,0\n&quot;</span></span><br><span class="line"><span class="string">&quot;orr r1,r1,#0xc0000000\n&quot;</span></span><br><span class="line"><span class="string">&quot;mcr p15,0,r1,c1,c0,0\n&quot;</span></span><br><span class="line">);</span><br><span class="line">MPLLCON=S3C2440_MPLL_200HZ;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">memsetup</span><span class="params">(<span class="keyword">void</span>)</span></span>{</span><br><span class="line"><span class="keyword">volatile</span> <span class="keyword">unsigned</span> <span class="keyword">long</span>* p=(<span class="keyword">volatile</span> <span class="keyword">unsigned</span> <span class="keyword">long</span>*)MEM_CTL_BASE;</span><br><span class="line">   <span class="comment">/* &#x5B58;&#x50A8;&#x63A7;&#x5236;&#x5668;13&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C; */</span></span><br><span class="line">    p[<span class="number">0</span>] = <span class="number">0x22011110</span>;     <span class="comment">//BWSCON</span></span><br><span class="line">    p[<span class="number">1</span>] = <span class="number">0x00000700</span>;     <span class="comment">//BANKCON0</span></span><br><span class="line">    p[<span class="number">2</span>] = <span class="number">0x00000700</span>;     <span class="comment">//BANKCON1</span></span><br><span class="line">    p[<span class="number">3</span>] = <span class="number">0x00000700</span>;     <span class="comment">//BANKCON2</span></span><br><span class="line">    p[<span class="number">4</span>] = <span class="number">0x00000700</span>;     <span class="comment">//BANKCON3  </span></span><br><span class="line">    p[<span class="number">5</span>] = <span class="number">0x00000700</span>;     <span class="comment">//BANKCON4</span></span><br><span class="line">    p[<span class="number">6</span>] = <span class="number">0x00000700</span>;     <span class="comment">//BANKCON5</span></span><br><span class="line">    p[<span class="number">7</span>] = <span class="number">0x00018005</span>;     <span class="comment">//BANKCON6</span></span><br><span class="line">    p[<span class="number">8</span>] = <span class="number">0x00018005</span>;     <span class="comment">//BANKCON7</span></span><br><span class="line">    </span><br><span class="line">                                            <span class="comment">/* REFRESH,</span></span><br><span class="line"><span class="comment">                                             * HCLK=12MHz:  0x008C07A3,</span></span><br><span class="line"><span class="comment">                                             * HCLK=100MHz: 0x008C04F4</span></span><br><span class="line"><span class="comment">                                             */</span> </span><br><span class="line">    p[<span class="number">9</span>]  = <span class="number">0x008C04F4</span>;</span><br><span class="line">    p[<span class="number">10</span>] = <span class="number">0x000000B1</span>;     <span class="comment">//BANKSIZE</span></span><br><span class="line">    p[<span class="number">11</span>] = <span class="number">0x00000030</span>;     <span class="comment">//MRSRB6</span></span><br><span class="line">    p[<span class="number">12</span>] = <span class="number">0x00000030</span>;     <span class="comment">//MRSRB7</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">copy_steppingstone_to_sdram</span><span class="params">(<span class="keyword">void</span>)</span></span>{</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> * pdwSrc=(<span class="keyword">unsigned</span> <span class="keyword">int</span> *)<span class="number">0</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> * pdwDest=(<span class="keyword">unsigned</span> <span class="keyword">int</span> *)<span class="number">0x30000000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(pdwSrc&lt;(<span class="keyword">unsigned</span> <span class="keyword">int</span>*)<span class="number">4096</span>){</span><br><span class="line">*pdwDest=*pdwSrc;</span><br><span class="line">pdwSrc++;</span><br><span class="line">pdwDest++;</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;serial.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> c;</span><br><span class="line">uart0_init();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>){</span><br><span class="line">c=getc();</span><br><span class="line"><span class="keyword">if</span>(isDigit(c)||isLetter(c)){</span><br><span class="line">putc(c+<span class="number">1</span>);</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="serial-h"><a href="#serial-h" class="headerlink" title="serial.h"></a>serial.h</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">uart0_init</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">putc</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">char</span> c)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="title">getc</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isDigit</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">char</span> c)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isLetter</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">char</span> c)</span></span>;</span><br></pre></td></tr></table></figure><h2 id="serial-c"><a href="#serial-c" class="headerlink" title="serial.c"></a>serial.c</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;s3c24xx.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;serial.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TXD0READY (1&lt;&lt;2)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RXD0READY  (1)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCLK 50000000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UART_CLK PCLK</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UART_BAUD_RATE 115200</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UART_BRD ((UART_CLK/(UART_BAUD_RATE*16))-1)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">uart0_init</span><span class="params">(<span class="keyword">void</span>)</span></span>{</span><br><span class="line">GPHCON |=<span class="number">0xa0</span>;</span><br><span class="line">GPHUP =<span class="number">0x0c</span>;</span><br><span class="line"></span><br><span class="line">ULCON0=<span class="number">0x03</span>;</span><br><span class="line">UCON0=<span class="number">0x05</span>;</span><br><span class="line">UFCON0=<span class="number">0x00</span>;</span><br><span class="line">UMCON0=<span class="number">0x00</span>;</span><br><span class="line">UBRDIV0=UART_BRD;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">putc</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">char</span> c)</span></span>{</span><br><span class="line"><span class="keyword">while</span>(!(UTRSTAT0 &amp; TXD0READY));</span><br><span class="line"></span><br><span class="line">UTXH0=c;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="title">getc</span><span class="params">(<span class="keyword">void</span>)</span></span>{</span><br><span class="line"><span class="keyword">while</span>(!(UTRSTAT0 &amp; RXD0READY));</span><br><span class="line"><span class="keyword">return</span> URXH0;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isDigit</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">char</span> c)</span></span>{</span><br><span class="line"><span class="keyword">if</span>( c&gt;=<span class="string">&apos;0&apos;</span> &amp;&amp; c&lt;=<span class="string">&apos;9&apos;</span>){</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">else</span>{</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isLetter</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">char</span> c)</span></span>{</span><br><span class="line"><span class="keyword">if</span>(c&gt;=<span class="string">&apos;a&apos;</span>&amp;&amp;c&lt;=<span class="string">&apos;z&apos;</span>){</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (c&gt;= <span class="string">&apos;A&apos;</span> &amp;&amp; c&lt;=<span class="string">&apos;Z&apos;</span>){</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">else</span>{</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="s3c24xx-h"><a href="#s3c24xx-h" class="headerlink" title="s3c24xx.h"></a>s3c24xx.h</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* WOTCH DOG register */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>     WTCON           (*(volatile unsigned long *)0x53000000)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* SDRAM regisers */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>     MEM_CTL_BASE    0x48000000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>     SDRAM_BASE      0x30000000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* NAND Flash registers */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NFCONF              (*(volatile unsigned int  *)0x4e000000)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NFCMD               (*(volatile unsigned char *)0x4e000004)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NFADDR              (*(volatile unsigned char *)0x4e000008)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NFDATA              (*(volatile unsigned char *)0x4e00000c)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NFSTAT              (*(volatile unsigned char *)0x4e000010)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*GPIO registers*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPBCON              (*(volatile unsigned long *)0x56000010)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPBDAT              (*(volatile unsigned long *)0x56000014)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPFCON              (*(volatile unsigned long *)0x56000050)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPFDAT              (*(volatile unsigned long *)0x56000054)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPFUP               (*(volatile unsigned long *)0x56000058)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPGCON              (*(volatile unsigned long *)0x56000060)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPGDAT              (*(volatile unsigned long *)0x56000064)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPGUP               (*(volatile unsigned long *)0x56000068)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPHCON              (*(volatile unsigned long *)0x56000070)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPHDAT              (*(volatile unsigned long *)0x56000074)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPHUP               (*(volatile unsigned long *)0x56000078)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*UART registers*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ULCON0              (*(volatile unsigned long *)0x50000000)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UCON0               (*(volatile unsigned long *)0x50000004)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UFCON0              (*(volatile unsigned long *)0x50000008)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UMCON0              (*(volatile unsigned long *)0x5000000c)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UTRSTAT0            (*(volatile unsigned long *)0x50000010)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UTXH0               (*(volatile unsigned char *)0x50000020)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> URXH0               (*(volatile unsigned char *)0x50000024)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UBRDIV0             (*(volatile unsigned long *)0x50000028)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*interrupt registes*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SRCPND              (*(volatile unsigned long *)0x4A000000)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTMOD              (*(volatile unsigned long *)0x4A000004)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTMSK              (*(volatile unsigned long *)0x4A000008)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PRIORITY            (*(volatile unsigned long *)0x4A00000c)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTPND              (*(volatile unsigned long *)0x4A000010)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTOFFSET           (*(volatile unsigned long *)0x4A000014)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SUBSRCPND           (*(volatile unsigned long *)0x4A000018)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTSUBMSK           (*(volatile unsigned long *)0x4A00001c)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*external interrupt registers*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EINTMASK            (*(volatile unsigned long *)0x560000a4)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EINTPEND            (*(volatile unsigned long *)0x560000a8)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*clock registers*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>LOCKTIME(*(volatile unsigned long *)0x4c000000)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>MPLLCON(*(volatile unsigned long *)0x4c000004)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>UPLLCON(*(volatile unsigned long *)0x4c000008)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>CLKCON(*(volatile unsigned long *)0x4c00000c)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>CLKSLOW(*(volatile unsigned long *)0x4c000010)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>CLKDIVN(*(volatile unsigned long *)0x4c000014)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*PWM &amp; Timer registers*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>TCFG0(*(volatile unsigned long *)0x51000000)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>TCFG1(*(volatile unsigned long *)0x51000004)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>TCON(*(volatile unsigned long *)0x51000008)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>TCNTB0(*(volatile unsigned long *)0x5100000c)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>TCMPB0(*(volatile unsigned long *)0x51000010)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>TCNTO0(*(volatile unsigned long *)0x51000014)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GSTATUS1    (*(volatile unsigned long *)0x560000B0)</span></span><br></pre></td></tr></table></figure><h2 id="Makefile"><a href="#Makefile" class="headerlink" title="Makefile"></a>Makefile</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">objs := head.o init.o serial.o main.o</span><br><span class="line"></span><br><span class="line">uart.bin: $(objs)</span><br><span class="line">arm-linux-ld -Tuart.lds -o uart_elf $^</span><br><span class="line">arm-linux-objcopy -O binary -S uart_elf $@</span><br><span class="line">arm-linux-objdump -D -m arm uart_elf &gt; uart.dis</span><br><span class="line"></span><br><span class="line">%.o:%.c</span><br><span class="line">arm-linux-gcc -Wall -O2 -c -o $@ $&lt;</span><br><span class="line"></span><br><span class="line">%.o:%.S</span><br><span class="line">arm-linux-gcc -Wall -O2 -c -o $@ $&lt;</span><br><span class="line"></span><br><span class="line">clean:</span><br><span class="line">rm -f uart.bin uart_elf uart.dis *.o</span><br></pre></td></tr></table></figure><h2 id="&#x5907;&#x6CE8;"><a href="#&#x5907;&#x6CE8;" class="headerlink" title="&#x5907;&#x6CE8;"></a>&#x5907;&#x6CE8;</h2><p>TTL/CMOS &#x903B;&#x8F91;&#x7535;&#x5E73;(0-5v,0-3.3v,0-2.5v)<br>RS232 3~12v-&gt;0 -3~-12v-&gt;1</p>]]></content>
    
    <summary type="html">
    
      嵌入式学习 UART的使用记录
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[T]定时器中断例程</title>
    <link href="http://fengjinyuan.github.io/2016/02/25/T-%E5%AE%9A%E6%97%B6%E5%99%A8%E4%B8%AD%E6%96%AD%E4%BE%8B%E7%A8%8B/"/>
    <id>http://fengjinyuan.github.io/2016/02/25/T-定时器中断例程/</id>
    <published>2016-02-25T13:54:21.000Z</published>
    <updated>2019-06-06T11:12:46.487Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x7CFB;&#x7EDF;&#x65F6;&#x949F;&#x548C;&#x5B9A;&#x65F6;&#x5668;"><a href="#&#x7CFB;&#x7EDF;&#x65F6;&#x949F;&#x548C;&#x5B9A;&#x65F6;&#x5668;" class="headerlink" title="&#x7CFB;&#x7EDF;&#x65F6;&#x949F;&#x548C;&#x5B9A;&#x65F6;&#x5668;"></a>&#x7CFB;&#x7EDF;&#x65F6;&#x949F;&#x548C;&#x5B9A;&#x65F6;&#x5668;</h1><h2 id="&#x65F6;&#x949F;&#x63A7;&#x5236;&#x903B;&#x8F91;PLL&#xFF1A;UPLL&#x4E13;&#x7528;&#x4E8E;USB&#x8BBE;&#x5907;-MPLL&#x7528;&#x4E8E;FCLK-HCLK-PLCK"><a href="#&#x65F6;&#x949F;&#x63A7;&#x5236;&#x903B;&#x8F91;PLL&#xFF1A;UPLL&#x4E13;&#x7528;&#x4E8E;USB&#x8BBE;&#x5907;-MPLL&#x7528;&#x4E8E;FCLK-HCLK-PLCK" class="headerlink" title="&#x65F6;&#x949F;&#x63A7;&#x5236;&#x903B;&#x8F91;PLL&#xFF1A;UPLL&#x4E13;&#x7528;&#x4E8E;USB&#x8BBE;&#x5907;,MPLL&#x7528;&#x4E8E;FCLK,HCLK,PLCK"></a>&#x65F6;&#x949F;&#x63A7;&#x5236;&#x903B;&#x8F91;PLL&#xFF1A;UPLL&#x4E13;&#x7528;&#x4E8E;USB&#x8BBE;&#x5907;,MPLL&#x7528;&#x4E8E;FCLK,HCLK,PLCK</h2><h2 id="FCLK-&#x7528;&#x4E8E;CPU&#x6838;"><a href="#FCLK-&#x7528;&#x4E8E;CPU&#x6838;" class="headerlink" title="FCLK &#x7528;&#x4E8E;CPU&#x6838;"></a>FCLK &#x7528;&#x4E8E;CPU&#x6838;</h2><h2 id="HCLK-&#x7528;&#x4E8E;AHB&#x603B;&#x7EBF;&#x8BBE;&#x5907;-cpu&#x6838;-&#x5B58;&#x50A8;&#x63A7;&#x5236;&#x5668;-&#x4E2D;&#x65AD;&#x63A7;&#x5236;&#x5668;-LCD&#x63A7;&#x5236;&#x5668;-DMA-USB"><a href="#HCLK-&#x7528;&#x4E8E;AHB&#x603B;&#x7EBF;&#x8BBE;&#x5907;-cpu&#x6838;-&#x5B58;&#x50A8;&#x63A7;&#x5236;&#x5668;-&#x4E2D;&#x65AD;&#x63A7;&#x5236;&#x5668;-LCD&#x63A7;&#x5236;&#x5668;-DMA-USB" class="headerlink" title="HCLK &#x7528;&#x4E8E;AHB&#x603B;&#x7EBF;&#x8BBE;&#x5907;:cpu&#x6838;,&#x5B58;&#x50A8;&#x63A7;&#x5236;&#x5668;,&#x4E2D;&#x65AD;&#x63A7;&#x5236;&#x5668;,LCD&#x63A7;&#x5236;&#x5668;,DMA,USB."></a>HCLK &#x7528;&#x4E8E;AHB&#x603B;&#x7EBF;&#x8BBE;&#x5907;:cpu&#x6838;,&#x5B58;&#x50A8;&#x63A7;&#x5236;&#x5668;,&#x4E2D;&#x65AD;&#x63A7;&#x5236;&#x5668;,LCD&#x63A7;&#x5236;&#x5668;,DMA,USB.</h2><h2 id="PCLK-&#x7528;&#x4E8E;APB&#x603B;&#x7EBF;&#x8BBE;&#x5907;-watchdog-IIS-I2C-PWM&#x5B9A;&#x65F6;&#x5668;-MMC&#x63A5;&#x53E3;-ADC-UART-GPIO-SPI"><a href="#PCLK-&#x7528;&#x4E8E;APB&#x603B;&#x7EBF;&#x8BBE;&#x5907;-watchdog-IIS-I2C-PWM&#x5B9A;&#x65F6;&#x5668;-MMC&#x63A5;&#x53E3;-ADC-UART-GPIO-SPI" class="headerlink" title="PCLK &#x7528;&#x4E8E;APB&#x603B;&#x7EBF;&#x8BBE;&#x5907;:watchdog,IIS,I2C,PWM&#x5B9A;&#x65F6;&#x5668;,MMC&#x63A5;&#x53E3;,ADC,UART,GPIO,SPI"></a>PCLK &#x7528;&#x4E8E;APB&#x603B;&#x7EBF;&#x8BBE;&#x5907;:watchdog,IIS,I2C,PWM&#x5B9A;&#x65F6;&#x5668;,MMC&#x63A5;&#x53E3;,ADC,UART,GPIO,SPI</h2><hr><h2 id="MPLL&#x542F;&#x52A8;&#x8FC7;&#x7A0B;&#xFF1A;"><a href="#MPLL&#x542F;&#x52A8;&#x8FC7;&#x7A0B;&#xFF1A;" class="headerlink" title="MPLL&#x542F;&#x52A8;&#x8FC7;&#x7A0B;&#xFF1A;"></a>MPLL&#x542F;&#x52A8;&#x8FC7;&#x7A0B;&#xFF1A;</h2><h3 id="1-&#x4E0A;&#x7535;&#x540E;&#x6676;&#x632F;&#x7A33;&#x5B9A;&#x8F93;&#x51FA;-FCLK-fin-&#x6676;&#x632F;&#x9891;&#x7387;-&#x5916;&#x90E8;&#x8F93;&#x5165;&#x65F6;&#x949F;-nRESET&#x6062;&#x590D;&#x9AD8;&#x7535;&#x5E73;-CPU&#x6307;&#x4EE4;&#x6267;&#x884C;"><a href="#1-&#x4E0A;&#x7535;&#x540E;&#x6676;&#x632F;&#x7A33;&#x5B9A;&#x8F93;&#x51FA;-FCLK-fin-&#x6676;&#x632F;&#x9891;&#x7387;-&#x5916;&#x90E8;&#x8F93;&#x5165;&#x65F6;&#x949F;-nRESET&#x6062;&#x590D;&#x9AD8;&#x7535;&#x5E73;-CPU&#x6307;&#x4EE4;&#x6267;&#x884C;" class="headerlink" title="@1 &#x4E0A;&#x7535;&#x540E;&#x6676;&#x632F;&#x7A33;&#x5B9A;&#x8F93;&#x51FA;,FCLK=fin(&#x6676;&#x632F;&#x9891;&#x7387;,&#x5916;&#x90E8;&#x8F93;&#x5165;&#x65F6;&#x949F;),nRESET&#x6062;&#x590D;&#x9AD8;&#x7535;&#x5E73;,CPU&#x6307;&#x4EE4;&#x6267;&#x884C;"></a>@1 &#x4E0A;&#x7535;&#x540E;&#x6676;&#x632F;&#x7A33;&#x5B9A;&#x8F93;&#x51FA;,FCLK=fin(&#x6676;&#x632F;&#x9891;&#x7387;,&#x5916;&#x90E8;&#x8F93;&#x5165;&#x65F6;&#x949F;),nRESET&#x6062;&#x590D;&#x9AD8;&#x7535;&#x5E73;,CPU&#x6307;&#x4EE4;&#x6267;&#x884C;</h3><h3 id="2-&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x5F00;&#x59CB;-&#x8BBE;&#x5B9A;MPLL-&#x7ECF;&#x8FC7;LOCKTIME-MPLL&#x7A33;&#x5B9A;&#x8F93;&#x51FA;-LOCKTIME&#x65F6;FCLK&#x505C;&#x632F;-CPU&#x505C;&#x6B62;"><a href="#2-&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x5F00;&#x59CB;-&#x8BBE;&#x5B9A;MPLL-&#x7ECF;&#x8FC7;LOCKTIME-MPLL&#x7A33;&#x5B9A;&#x8F93;&#x51FA;-LOCKTIME&#x65F6;FCLK&#x505C;&#x632F;-CPU&#x505C;&#x6B62;" class="headerlink" title="@2 &#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x5F00;&#x59CB;,&#x8BBE;&#x5B9A;MPLL,&#x7ECF;&#x8FC7;LOCKTIME,MPLL&#x7A33;&#x5B9A;&#x8F93;&#x51FA;,LOCKTIME&#x65F6;FCLK&#x505C;&#x632F;,CPU&#x505C;&#x6B62;"></a>@2 &#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x5F00;&#x59CB;,&#x8BBE;&#x5B9A;MPLL,&#x7ECF;&#x8FC7;LOCKTIME,MPLL&#x7A33;&#x5B9A;&#x8F93;&#x51FA;,LOCKTIME&#x65F6;FCLK&#x505C;&#x632F;,CPU&#x505C;&#x6B62;</h3><h3 id="3-LOCKTIME&#x540E;-CPU&#x5DE5;&#x4F5C;&#x4E8E;FCLK"><a href="#3-LOCKTIME&#x540E;-CPU&#x5DE5;&#x4F5C;&#x4E8E;FCLK" class="headerlink" title="@3 LOCKTIME&#x540E;,CPU&#x5DE5;&#x4F5C;&#x4E8E;FCLK"></a>@3 LOCKTIME&#x540E;,CPU&#x5DE5;&#x4F5C;&#x4E8E;FCLK</h3><hr><h2 id="&#x542F;&#x52A8;MPLL&#x8BBE;&#x7F6E;3&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#xFF1A;"><a href="#&#x542F;&#x52A8;MPLL&#x8BBE;&#x7F6E;3&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#xFF1A;" class="headerlink" title="&#x542F;&#x52A8;MPLL&#x8BBE;&#x7F6E;3&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#xFF1A;"></a>&#x542F;&#x52A8;MPLL&#x8BBE;&#x7F6E;3&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#xFF1A;</h2><h3 id="1-LOCKTIME&#xFF1A;"><a href="#1-LOCKTIME&#xFF1A;" class="headerlink" title="@1 LOCKTIME&#xFF1A;"></a>@1 LOCKTIME&#xFF1A;</h3><p>[31:16]UPLL [15:0]MPLL &#x9ED8;&#x8BA4;:0xffffffff</p><h3 id="2-MPLLCON-&#x8BBE;&#x7F6E;FCLK&#x4E0E;fin&#x7684;&#x500D;&#x6570;"><a href="#2-MPLLCON-&#x8BBE;&#x7F6E;FCLK&#x4E0E;fin&#x7684;&#x500D;&#x6570;" class="headerlink" title="@2 MPLLCON:&#x8BBE;&#x7F6E;FCLK&#x4E0E;fin&#x7684;&#x500D;&#x6570;"></a>@2 MPLLCON:&#x8BBE;&#x7F6E;FCLK&#x4E0E;fin&#x7684;&#x500D;&#x6570;</h3><p>[19:12]MDIV [9:4]PDIV [1:0]SDIV<br>&#x8BA1;&#x7B97;&#x516C;&#x5F0F;&#xFF1A;MPLL(FCLK)=(2<em>m</em>fin)/(p*2^s) m=MDIV+8 p=PDIV+2 s=SDIV</p><h3 id="3-CLKDIVN-&#x8BBE;&#x7F6E;FCLK-HCLK-PCLK&#x4E09;&#x8005;&#x7684;&#x6BD4;&#x4F8B;"><a href="#3-CLKDIVN-&#x8BBE;&#x7F6E;FCLK-HCLK-PCLK&#x4E09;&#x8005;&#x7684;&#x6BD4;&#x4F8B;" class="headerlink" title="@3 CLKDIVN:&#x8BBE;&#x7F6E;FCLK,HCLK,PCLK&#x4E09;&#x8005;&#x7684;&#x6BD4;&#x4F8B;"></a>@3 CLKDIVN:&#x8BBE;&#x7F6E;FCLK,HCLK,PCLK&#x4E09;&#x8005;&#x7684;&#x6BD4;&#x4F8B;</h3><p>[2:1] HDIVN [0]PDIVN  CAMDIVN:{HCLK4_HALF [9] HCLK3_HALF [8]}</p><h4 id="&#x5907;&#x6CE8;&#xFF1A;HDIVN&#x975E;&#x96F6;-CPU&#x603B;&#x7EBF;&#x6A21;&#x5F0F;fast-bus-mode-gt-asyuchronous-bus-mode"><a href="#&#x5907;&#x6CE8;&#xFF1A;HDIVN&#x975E;&#x96F6;-CPU&#x603B;&#x7EBF;&#x6A21;&#x5F0F;fast-bus-mode-gt-asyuchronous-bus-mode" class="headerlink" title="&#x5907;&#x6CE8;&#xFF1A;HDIVN&#x975E;&#x96F6;,CPU&#x603B;&#x7EBF;&#x6A21;&#x5F0F;fast bus mode-&gt;asyuchronous bus mode"></a>&#x5907;&#x6CE8;&#xFF1A;HDIVN&#x975E;&#x96F6;,CPU&#x603B;&#x7EBF;&#x6A21;&#x5F0F;fast bus mode-&gt;asyuchronous bus mode</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mrc p15,0,r1,c1,c0,0</span><br><span class="line">orr r1,r1,<span class="comment">#0xc0000000</span></span><br><span class="line">mcr p15,0,r1,c1,c0,0</span><br></pre></td></tr></table></figure><hr><h2 id="PWM-&#x53EF;&#x8C03;&#x5236;&#x8109;&#x51B2;-&#x5B9A;&#x65F6;&#x5668;&#xFF1A;"><a href="#PWM-&#x53EF;&#x8C03;&#x5236;&#x8109;&#x51B2;-&#x5B9A;&#x65F6;&#x5668;&#xFF1A;" class="headerlink" title="PWM(&#x53EF;&#x8C03;&#x5236;&#x8109;&#x51B2;)&#x5B9A;&#x65F6;&#x5668;&#xFF1A;"></a>PWM(&#x53EF;&#x8C03;&#x5236;&#x8109;&#x51B2;)&#x5B9A;&#x65F6;&#x5668;&#xFF1A;</h2><h3 id="1-&#x63CF;&#x8FF0;&#xFF1A;S3C2440&#x6709;5&#x4E2A;16&#x4F4D;&#x5B9A;&#x65F6;&#x5668;-0-1-2-3&#x6709;&#x8F93;&#x51FA;&#x5F15;&#x811A;-4&#x6CA1;&#x6709;&#x8F93;&#x51FA;&#x5F15;&#x811A;"><a href="#1-&#x63CF;&#x8FF0;&#xFF1A;S3C2440&#x6709;5&#x4E2A;16&#x4F4D;&#x5B9A;&#x65F6;&#x5668;-0-1-2-3&#x6709;&#x8F93;&#x51FA;&#x5F15;&#x811A;-4&#x6CA1;&#x6709;&#x8F93;&#x51FA;&#x5F15;&#x811A;" class="headerlink" title="@1 &#x63CF;&#x8FF0;&#xFF1A;S3C2440&#x6709;5&#x4E2A;16&#x4F4D;&#x5B9A;&#x65F6;&#x5668;,0,1,2,3&#x6709;&#x8F93;&#x51FA;&#x5F15;&#x811A;,4&#x6CA1;&#x6709;&#x8F93;&#x51FA;&#x5F15;&#x811A;"></a>@1 &#x63CF;&#x8FF0;&#xFF1A;S3C2440&#x6709;5&#x4E2A;16&#x4F4D;&#x5B9A;&#x65F6;&#x5668;,0,1,2,3&#x6709;&#x8F93;&#x51FA;&#x5F15;&#x811A;,4&#x6CA1;&#x6709;&#x8F93;&#x51FA;&#x5F15;&#x811A;</h3><h3 id="2&#x4E2A;8&#x4F4D;&#x9884;&#x5206;&#x9891;&#x5668;-&#x5B9A;&#x65F6;&#x5668;0-1-&#x5171;&#x7528;&#x7B2C;&#x4E00;&#x4E2A;&#x9884;&#x5206;&#x9891;&#x5668;-&#x5B9A;&#x65F6;&#x5668;2-3-4&#x5171;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x9884;&#x5206;&#x9891;&#x5668;"><a href="#2&#x4E2A;8&#x4F4D;&#x9884;&#x5206;&#x9891;&#x5668;-&#x5B9A;&#x65F6;&#x5668;0-1-&#x5171;&#x7528;&#x7B2C;&#x4E00;&#x4E2A;&#x9884;&#x5206;&#x9891;&#x5668;-&#x5B9A;&#x65F6;&#x5668;2-3-4&#x5171;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x9884;&#x5206;&#x9891;&#x5668;" class="headerlink" title="2&#x4E2A;8&#x4F4D;&#x9884;&#x5206;&#x9891;&#x5668;,&#x5B9A;&#x65F6;&#x5668;0,1 &#x5171;&#x7528;&#x7B2C;&#x4E00;&#x4E2A;&#x9884;&#x5206;&#x9891;&#x5668;,&#x5B9A;&#x65F6;&#x5668;2,3,4&#x5171;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x9884;&#x5206;&#x9891;&#x5668;"></a>2&#x4E2A;8&#x4F4D;&#x9884;&#x5206;&#x9891;&#x5668;,&#x5B9A;&#x65F6;&#x5668;0,1 &#x5171;&#x7528;&#x7B2C;&#x4E00;&#x4E2A;&#x9884;&#x5206;&#x9891;&#x5668;,&#x5B9A;&#x65F6;&#x5668;2,3,4&#x5171;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x9884;&#x5206;&#x9891;&#x5668;</h3><h3 id="&#x4E8C;&#x7EA7;&#x5206;&#x9891;&#x5668;&#xFF1A;1-2-1-4-1-8-1-16"><a href="#&#x4E8C;&#x7EA7;&#x5206;&#x9891;&#x5668;&#xFF1A;1-2-1-4-1-8-1-16" class="headerlink" title="&#x4E8C;&#x7EA7;&#x5206;&#x9891;&#x5668;&#xFF1A;1/2,1/4,1/8,1/16"></a>&#x4E8C;&#x7EA7;&#x5206;&#x9891;&#x5668;&#xFF1A;1/2,1/4,1/8,1/16</h3><h3 id="2-&#x5BC4;&#x5B58;&#x5668;&#x914D;&#x7F6E;&#xFF1A;"><a href="#2-&#x5BC4;&#x5B58;&#x5668;&#x914D;&#x7F6E;&#xFF1A;" class="headerlink" title="@2 &#x5BC4;&#x5B58;&#x5668;&#x914D;&#x7F6E;&#xFF1A;"></a>@2 &#x5BC4;&#x5B58;&#x5668;&#x914D;&#x7F6E;&#xFF1A;</h3><ol><li>TCFG0 [7:0] &#x63A7;&#x5236;&#x9884;&#x5206;&#x9891;&#x5668;0 [15:8] &#x63A7;&#x5236;&#x9884;&#x5206;&#x9891;&#x5668;1 &#x503C;&#x57DF;&#xFF1A;0~255<br>&#x9884;&#x5206;&#x9891;&#x5668;&#x8F93;&#x51FA;&#x9891;&#x7387;&#xFF1A;PCLK/value+1</li><li>TCFG1 [3:0]{&#x5B9A;&#x65F6;&#x5668;0} [7:4]{&#x5B9A;&#x65F6;&#x5668;1} [11:8]{&#x5B9A;&#x65F6;&#x5668;2} [15:12]{&#x5B9A;&#x65F6;&#x5668;3} [19:16]{&#x5B9A;&#x65F6;&#x5668;4}<br>&#x53C2;&#x6570;&#xFF1A;0000=1/2 0001=1/4 0010=1/8 0011=1/16<br>&#x4E8C;&#x7EA7;&#x5206;&#x9891;&#x5668;&#x8F93;&#x51FA;&#x9891;&#x7387;&#xFF1A;PCLK/(value+1)/(divider value)  divider value:2,4,8,16</li><li>TCNTBn/TCMPBn n:0~4<br>TCNTBn [15:0] &#x521D;&#x59CB;&#x8BA1;&#x6570;&#x503C;<br>TCMPBn [15:0] &#x6BD4;&#x8F83;&#x503C;<br>TCON  [3:0]{timer0} [11:8]{timer1} [15:12]{timer2} [19:16]{timer3} [22:20]{timer4}<br>timer0 [0] {0:stop 1:start} [1]{0:not-used 1:&#x624B;&#x52A8;&#x66F4;&#x65B0;} [2] {0:TOUT0&#x4E0D;&#x53CD;&#x8F6C; 1:TOUT0&#x53CD;&#x8F6C;} [3]{0:not-auto-load 1:auto-load}<h2 id="WATCHDOG&#x5B9A;&#x65F6;&#x5668;"><a href="#WATCHDOG&#x5B9A;&#x65F6;&#x5668;" class="headerlink" title="WATCHDOG&#x5B9A;&#x65F6;&#x5668;:"></a>WATCHDOG&#x5B9A;&#x65F6;&#x5668;:</h2>@1 WTCON:<br>[0] {0:&#x4E0D;&#x8F93;&#x51FA;&#x590D;&#x4F4D;&#x4FE1;&#x53F7; 1:&#x8F93;&#x51FA;&#x590D;&#x4F4D;&#x4FE1;&#x53F7;}<br>[2] {0:&#x7981;&#x6B62;&#x4E2D;&#x65AD; 1:&#x4F7F;&#x80FD;&#x4E2D;&#x65AD;}<br>[4:3] 00:16 01:32 10:64 11:128<br>[5] {0:&#x505C;&#x6B62; 1:&#x542F;&#x52A8;}<br>[15:8] &#x9884;&#x5206;&#x9891;&#x5668; 0~255<br>&#x6700;&#x7EC8;&#x8F93;&#x51FA;&#x9891;&#x7387;&#xFF1A;PCLK/(value+1)/(divider value) divider value:16 32 64 128<br>@2 WTDAT:<br>&#x8BA1;&#x6570;&#x4E3A;0&#x65F6; WTDAT-&gt;WTCNT,&#x521D;&#x6B21;&#x542F;&#x52A8; WTDAT&#x81EA;&#x52A8;&#x4F20;&#x5165;WTCNT<br>@3 WTCNT&#xFF1A;<br>&#x542F;&#x52A8;&#x65F6;WATCHDOG&#x524D; &#x5199;&#x5165;&#x521D;&#x59CB;&#x8BA1;&#x6570;&#x503C; WTCNT=value WTDAT=value<br>&#x4E3A;0&#x65F6;&#xFF1A;&#x4E2D;&#x65AD;&#x4F7F;&#x80FD;-&gt;&#x53D1;&#x51FA;&#x4E2D;&#x65AD; | WATCHDOG&#x529F;&#x80FD;&#x4F7F;&#x80FD;-&gt;&#x53D1;&#x51FA;&#x590D;&#x4F4D;&#x4FE1;&#x53F7;</li></ol><hr><h1 id="&#x6E90;&#x7801;"><a href="#&#x6E90;&#x7801;" class="headerlink" title="&#x6E90;&#x7801;"></a>&#x6E90;&#x7801;</h1><h2 id="head-S"><a href="#head-S" class="headerlink" title="head.S"></a>head.S</h2><p><img src="/2016/02/25/T-&#x5B9A;&#x65F6;&#x5668;&#x4E2D;&#x65AD;&#x4F8B;&#x7A0B;/head.png" alt=""></p><h2 id="init-c"><a href="#init-c" class="headerlink" title="init.c"></a>init.c</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;s3c24xx.h&quot;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">disable_watch_dog</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clock_init</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">memsetup</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">copy_steppingstone_to_sdram</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_led</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">timer0_init</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_irq</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">disable_watch_dog</span><span class="params">()</span></span>{</span><br><span class="line">WTCON=<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> S3C2440_MPLL_200MHZ ((0x5c&lt;&lt;12)|(0x01&lt;&lt;4)|(0x02))</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clock_init</span><span class="params">()</span></span>{</span><br><span class="line">CLKDIVN=<span class="number">0x03</span>;</span><br><span class="line">__asm__(</span><br><span class="line"><span class="string">&quot;mrc p15,0,r1,c1,c0,0\n&quot;</span></span><br><span class="line"><span class="string">&quot;orr r1,r1,#0xc0000000\n&quot;</span></span><br><span class="line"><span class="string">&quot;mcr p15,0,r1,c1,c0,0\n&quot;</span></span><br><span class="line">);</span><br><span class="line">MPLLCON=S3C2440_MPLL_200MHZ;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">memsetup</span><span class="params">()</span></span>{</span><br><span class="line"> <span class="keyword">volatile</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> *p = (<span class="keyword">volatile</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> *)MEM_CTL_BASE;</span><br><span class="line">    <span class="comment">/* &#x5B58;&#x50A8;&#x63A7;&#x5236;&#x5668;13&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C; */</span></span><br><span class="line">    p[<span class="number">0</span>] = <span class="number">0x22011110</span>;     <span class="comment">//BWSCON</span></span><br><span class="line">    p[<span class="number">1</span>] = <span class="number">0x00000700</span>;     <span class="comment">//BANKCON0</span></span><br><span class="line">    p[<span class="number">2</span>] = <span class="number">0x00000700</span>;     <span class="comment">//BANKCON1</span></span><br><span class="line">    p[<span class="number">3</span>] = <span class="number">0x00000700</span>;     <span class="comment">//BANKCON2</span></span><br><span class="line">    p[<span class="number">4</span>] = <span class="number">0x00000700</span>;     <span class="comment">//BANKCON3  </span></span><br><span class="line">    p[<span class="number">5</span>] = <span class="number">0x00000700</span>;     <span class="comment">//BANKCON4</span></span><br><span class="line">    p[<span class="number">6</span>] = <span class="number">0x00000700</span>;     <span class="comment">//BANKCON5</span></span><br><span class="line">    p[<span class="number">7</span>] = <span class="number">0x00018005</span>;     <span class="comment">//BANKCON6</span></span><br><span class="line">    p[<span class="number">8</span>] = <span class="number">0x00018005</span>;     <span class="comment">//BANKCON7</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* REFRESH,</span></span><br><span class="line"><span class="comment">     * HCLK=12MHz:  0x008C07A3,</span></span><br><span class="line"><span class="comment">     * HCLK=100MHz: 0x008C04F4</span></span><br><span class="line"><span class="comment">     */</span> </span><br><span class="line">    p[<span class="number">9</span>]  = <span class="number">0x008C04F4</span>;</span><br><span class="line">    p[<span class="number">10</span>] = <span class="number">0x000000B1</span>;     <span class="comment">//BANKSIZE</span></span><br><span class="line">    p[<span class="number">11</span>] = <span class="number">0x00000030</span>;     <span class="comment">//MRSRB6</span></span><br><span class="line">    p[<span class="number">12</span>] = <span class="number">0x00000030</span>;     <span class="comment">//MRSRB7</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">copy_steppingstone_to_sdram</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> *pdwSrc  = (<span class="keyword">unsigned</span> <span class="keyword">int</span> *)<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> *pdwDest = (<span class="keyword">unsigned</span> <span class="keyword">int</span> *)<span class="number">0x30000000</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (pdwSrc &lt; (<span class="keyword">unsigned</span> <span class="keyword">int</span> *)<span class="number">4096</span>)</span><br><span class="line">    {</span><br><span class="line">        *pdwDest = *pdwSrc;</span><br><span class="line">        pdwDest++;</span><br><span class="line">        pdwSrc++;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPF4_out        (1&lt;&lt;(4*2))      <span class="comment">// LED1</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPF5_out        (1&lt;&lt;(5*2))      <span class="comment">// LED2</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPF6_out        (1&lt;&lt;(6*2))      <span class="comment">// LED3</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_led</span><span class="params">()</span></span>{</span><br><span class="line"></span><br><span class="line">GPFCON = (GPF4_out|GPF5_out|GPF6_out);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">timer0_init</span><span class="params">()</span></span>{</span><br><span class="line">TCFG0  = <span class="number">99</span>;        <span class="comment">// &#x9884;&#x5206;&#x9891;&#x5668;0 = 99        </span></span><br><span class="line">    TCFG1  = <span class="number">0x03</span>;      <span class="comment">// &#x9009;&#x62E9;16&#x5206;&#x9891;</span></span><br><span class="line">    TCNTB0 = <span class="number">31250</span>;     <span class="comment">// 1&#x79D2;&#x949F;&#x89E6;&#x53D1;&#x4E00;&#x6B21;&#x4E2D;&#x65AD;</span></span><br><span class="line">    TCON   |= (<span class="number">1</span>&lt;&lt;<span class="number">1</span>);   <span class="comment">// &#x624B;&#x52A8;&#x66F4;&#x65B0;</span></span><br><span class="line">    TCON   = <span class="number">0x09</span>;      <span class="comment">// &#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#xFF0C;&#x6E05;&#x201C;&#x624B;&#x52A8;&#x66F4;&#x65B0;&#x201D;&#x4F4D;&#xFF0C;&#x542F;&#x52A8;&#x5B9A;&#x65F6;&#x5668;0</span></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_irq</span><span class="params">()</span></span>{</span><br><span class="line">INTMSK &amp;= ~(<span class="number">1</span>&lt;&lt;<span class="number">10</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="interrupt-c"><a href="#interrupt-c" class="headerlink" title="interrupt.c"></a>interrupt.c</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;s3c24xx.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Timer0_Handle</span><span class="params">()</span></span>{</span><br><span class="line"><span class="keyword">if</span>(INTOFFSET==<span class="number">10</span>){</span><br><span class="line">GPFDAT = ~(GPFDAT &amp; (<span class="number">0x7</span> &lt;&lt; <span class="number">4</span>));<span class="comment">//LED&#x72B6;&#x6001;&#x7FFB;&#x8F6C;</span></span><br><span class="line">}</span><br><span class="line">SRCPND=<span class="number">1</span>&lt;&lt;INTOFFSET;</span><br><span class="line">INTPND=INTPND;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="s3c24xx-h"><a href="#s3c24xx-h" class="headerlink" title="s3c24xx.h"></a>s3c24xx.h</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* WOTCH DOG register */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>     WTCON           (*(volatile unsigned long *)0x53000000)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* SDRAM regisers */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>     MEM_CTL_BASE    0x48000000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>     SDRAM_BASE      0x30000000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* NAND Flash registers */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NFCONF              (*(volatile unsigned int  *)0x4e000000)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NFCMD               (*(volatile unsigned char *)0x4e000004)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NFADDR              (*(volatile unsigned char *)0x4e000008)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NFDATA              (*(volatile unsigned char *)0x4e00000c)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NFSTAT              (*(volatile unsigned char *)0x4e000010)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*GPIO registers*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPBCON              (*(volatile unsigned long *)0x56000010)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPBDAT              (*(volatile unsigned long *)0x56000014)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPFCON              (*(volatile unsigned long *)0x56000050)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPFDAT              (*(volatile unsigned long *)0x56000054)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPFUP               (*(volatile unsigned long *)0x56000058)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPGCON              (*(volatile unsigned long *)0x56000060)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPGDAT              (*(volatile unsigned long *)0x56000064)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPGUP               (*(volatile unsigned long *)0x56000068)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPHCON              (*(volatile unsigned long *)0x56000070)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPHDAT              (*(volatile unsigned long *)0x56000074)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPHUP               (*(volatile unsigned long *)0x56000078)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*UART registers*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ULCON0              (*(volatile unsigned long *)0x50000000)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UCON0               (*(volatile unsigned long *)0x50000004)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UFCON0              (*(volatile unsigned long *)0x50000008)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UMCON0              (*(volatile unsigned long *)0x5000000c)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UTRSTAT0            (*(volatile unsigned long *)0x50000010)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UTXH0               (*(volatile unsigned char *)0x50000020)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> URXH0               (*(volatile unsigned char *)0x50000024)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UBRDIV0             (*(volatile unsigned long *)0x50000028)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*interrupt registes*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SRCPND              (*(volatile unsigned long *)0x4A000000)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTMOD              (*(volatile unsigned long *)0x4A000004)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTMSK              (*(volatile unsigned long *)0x4A000008)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PRIORITY            (*(volatile unsigned long *)0x4A00000c)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTPND              (*(volatile unsigned long *)0x4A000010)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTOFFSET           (*(volatile unsigned long *)0x4A000014)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SUBSRCPND           (*(volatile unsigned long *)0x4A000018)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTSUBMSK           (*(volatile unsigned long *)0x4A00001c)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*external interrupt registers*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EINTMASK            (*(volatile unsigned long *)0x560000a4)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EINTPEND            (*(volatile unsigned long *)0x560000a8)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*clock registers*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>LOCKTIME(*(volatile unsigned long *)0x4c000000)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>MPLLCON(*(volatile unsigned long *)0x4c000004)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>UPLLCON(*(volatile unsigned long *)0x4c000008)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>CLKCON(*(volatile unsigned long *)0x4c00000c)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>CLKSLOW(*(volatile unsigned long *)0x4c000010)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>CLKDIVN(*(volatile unsigned long *)0x4c000014)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*PWM &amp; Timer registers*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>TCFG0(*(volatile unsigned long *)0x51000000)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>TCFG1(*(volatile unsigned long *)0x51000004)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>TCON(*(volatile unsigned long *)0x51000008)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>TCNTB0(*(volatile unsigned long *)0x5100000c)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>TCMPB0(*(volatile unsigned long *)0x51000010)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>TCNTO0(*(volatile unsigned long *)0x51000014)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GSTATUS1    (*(volatile unsigned long *)0x560000B0)</span></span><br></pre></td></tr></table></figure><h2 id="Makefile"><a href="#Makefile" class="headerlink" title="Makefile"></a>Makefile</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">objs := head.o init.o interrupt.o main.o</span><br><span class="line"></span><br><span class="line">timer.bin: $(objs)</span><br><span class="line">arm-linux-ld -Ttimer.lds -o timer_elf $^</span><br><span class="line">arm-linux-objcopy -O binary -S timer_elf <span class="variable">$@</span></span><br><span class="line">arm-linux-objdump -D -m arm timer_elf &gt; timer.dis</span><br><span class="line"></span><br><span class="line">%.o:%.c</span><br><span class="line">arm-linux-gcc -Wall -O2 -c -o <span class="variable">$@</span> $&lt;</span><br><span class="line"></span><br><span class="line">%.o:%.S</span><br><span class="line">arm-linux-gcc -Wall -O2 -c -o <span class="variable">$@</span> $&lt;</span><br><span class="line"></span><br><span class="line">clean:</span><br><span class="line">rm -f timer.bin timer_elf timer.dis *.o</span><br></pre></td></tr></table></figure><h3 id="&#x5907;&#x6CE8;"><a href="#&#x5907;&#x6CE8;" class="headerlink" title="&#x5907;&#x6CE8;"></a>&#x5907;&#x6CE8;</h3><p>&#x5B9E;&#x9A8C;&#x5F00;&#x53D1;&#x677F;CPU S3C2440A    </p>]]></content>
    
    <summary type="html">
    
      s3c2440 定时器的使用实验
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>[T]基于Centos的VPN服务搭建</title>
    <link href="http://fengjinyuan.github.io/2016/02/20/T-%E5%9F%BA%E4%BA%8ECentos%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/"/>
    <id>http://fengjinyuan.github.io/2016/02/20/T-基于Centos的VPN服务搭建/</id>
    <published>2016-02-20T14:29:16.000Z</published>
    <updated>2019-06-06T09:55:24.876Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x73AF;&#x5883;&#x63CF;&#x8FF0;"><a href="#&#x73AF;&#x5883;&#x63CF;&#x8FF0;" class="headerlink" title="&#x73AF;&#x5883;&#x63CF;&#x8FF0;"></a>&#x73AF;&#x5883;&#x63CF;&#x8FF0;</h1><blockquote><p>&#x7CFB;&#x7EDF;:Centos 6.5 (64&#x4F4D;)<br>&#x670D;&#x52A1;&#x5668;&#x5916;&#x7F51;IP:47.88.34.7</p></blockquote><h1 id="&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x68C0;&#x6D4B;"><a href="#&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x68C0;&#x6D4B;" class="headerlink" title="&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x68C0;&#x6D4B;"></a>&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x68C0;&#x6D4B;</h1><h2 id="1-&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x662F;&#x5426;&#x652F;&#x6301;MPPE&#x8865;&#x4E01;"><a href="#1-&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x662F;&#x5426;&#x652F;&#x6301;MPPE&#x8865;&#x4E01;" class="headerlink" title="1.&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x662F;&#x5426;&#x652F;&#x6301;MPPE&#x8865;&#x4E01;"></a>1.&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x662F;&#x5426;&#x652F;&#x6301;MPPE&#x8865;&#x4E01;</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">modprobe ppp-compress-18 &amp;&amp;<span class="built_in">echo</span> success</span><br><span class="line">&#x663E;&#x793A;success&#x5219;&#x652F;&#x6301;</span><br></pre></td></tr></table></figure><h2 id="2-&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5F00;&#x542F;TUN-TAP&#x652F;&#x6301;"><a href="#2-&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5F00;&#x542F;TUN-TAP&#x652F;&#x6301;" class="headerlink" title="2.&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5F00;&#x542F;TUN/TAP&#x652F;&#x6301;"></a>2.&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5F00;&#x542F;TUN/TAP&#x652F;&#x6301;</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat /dev/net/tun</span><br><span class="line">&#x5982;&#x679C;&#x8FD9;&#x6761;&#x6307;&#x4EE4;&#x663E;&#x793A;&#x7ED3;&#x679C;&#x4E3A;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x672C;&#xFF0C;&#x5219;&#x8868;&#x660E;&#x901A;&#x8FC7;:</span><br><span class="line">File descriptor <span class="keyword">in</span> bad state</span><br></pre></td></tr></table></figure><h2 id="3-&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5F00;&#x542F;ppp&#x652F;&#x6301;"><a href="#3-&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5F00;&#x542F;ppp&#x652F;&#x6301;" class="headerlink" title="3.&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5F00;&#x542F;ppp&#x652F;&#x6301;"></a>3.&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5F00;&#x542F;ppp&#x652F;&#x6301;</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat /dev/ppp</span><br><span class="line">&#x5982;&#x679C;&#x8FD9;&#x6761;&#x6307;&#x4EE4;&#x663E;&#x793A;&#x7ED3;&#x679C;&#x4E3A;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x672C;&#xFF0C;&#x5219;&#x8868;&#x660E;&#x901A;&#x8FC7;:</span><br><span class="line">No such device or address</span><br></pre></td></tr></table></figure><h1 id="&#x5B89;&#x88C5;pptp"><a href="#&#x5B89;&#x88C5;pptp" class="headerlink" title="&#x5B89;&#x88C5;pptp"></a>&#x5B89;&#x88C5;pptp</h1><h2 id="&#x8F6F;&#x4EF6;&#x5305;&#x94FE;&#x63A5;"><a href="#&#x8F6F;&#x4EF6;&#x5305;&#x94FE;&#x63A5;" class="headerlink" title="&#x8F6F;&#x4EF6;&#x5305;&#x94FE;&#x63A5;"></a>&#x8F6F;&#x4EF6;&#x5305;&#x94FE;&#x63A5;</h2><blockquote><p>ppp<br><a href="http://poptop.sourceforge.net/yum/stable/packages/ppp-2.4.4-14.1.rhel5.x86_64.rpm" target="_blank" rel="noopener">http://poptop.sourceforge.net/yum/stable/packages/ppp-2.4.4-14.1.rhel5.x86_64.rpm</a><br>pptpd<br><a href="http://poptop.sourceforge.net/yum/stable/packages/pptpd-1.4.0-1.rhel5.x86_64.rpm" target="_blank" rel="noopener">http://poptop.sourceforge.net/yum/stable/packages/pptpd-1.4.0-1.rhel5.x86_64.rpm</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt</span><br><span class="line">rpm -ivh ppp-2.4.4-14.1.rhel5.x86_64.rpm  <span class="comment">#&#x5B89;&#x88C5;ppp</span></span><br><span class="line">rpm -ivh pptpd-1.4.0-1.rhel5.x86_64.rpm  <span class="comment">#&#x5B89;&#x88C5;pptp</span></span><br></pre></td></tr></table></figure><h1 id="&#x914D;&#x7F6E;pptp"><a href="#&#x914D;&#x7F6E;pptp" class="headerlink" title="&#x914D;&#x7F6E;pptp"></a>&#x914D;&#x7F6E;pptp</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/ppp/options.pptpd</span><br><span class="line">ms-dns 8.8.8.8  </span><br><span class="line">ms-dns 8.8.4.4</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/ppp/chap-secrets  <span class="comment">#&#x8BBE;&#x7F6E;pptp&#x62E8;&#x53F7;&#x7528;&#x6237;&#x548C;&#x5BC6;&#x7801;&#xFF08;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x7528;&#x6237;&#xFF0C;&#x6BCF;&#x884C;&#x4E00;&#x4E2A;&#xFF09;</span></span><br><span class="line"><span class="comment"># client        server  secret    IP addresses</span></span><br><span class="line">feng pptpd 123456 * <span class="comment">#(&#x4F8B;&#x5B50;)</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/pptpd.conf  <span class="comment">#&#x8BBE;&#x7F6E;pptp&#x670D;&#x52A1;&#x5668;IP&#x5730;&#x5740;&#xFF0C;&#x8BBE;&#x7F6E;vpn&#x62E8;&#x5165;&#x5BA2;&#x6237;&#x7AEF;ip&#x5730;&#x5740;&#x6C60;</span></span><br><span class="line">localip 192.168.0.1  <span class="comment">#&#x8BBE;&#x7F6E;pptp&#x865A;&#x62DF;&#x62E8;&#x53F7;&#x670D;&#x52A1;&#x5668;IP&#x5730;&#x5740;&#xFF08;&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x662F;&#x670D;&#x52A1;&#x5668;&#x672C;&#x8EAB;&#x7684;IP&#x5730;&#x5740;&#xFF09;</span></span><br><span class="line">remoteip 192.168.0.234-238,192.168.0.245  <span class="comment">#&#x4E3A;&#x62E8;&#x5165;vpn&#x7684;&#x7528;&#x6237;&#x52A8;&#x6001;&#x5206;&#x914D;192.168.0.234-238&#x7684;IP&#x5730;&#x5740;</span></span><br></pre></td></tr></table></figure><h1 id="&#x5F00;&#x542F;&#x670D;&#x52A1;&#x5668;&#x7CFB;&#x7EDF;&#x8DEF;&#x7531;&#x6A21;&#x5F0F;&#xFF0C;&#x652F;&#x6301;&#x5305;&#x8F6C;&#x53D1;"><a href="#&#x5F00;&#x542F;&#x670D;&#x52A1;&#x5668;&#x7CFB;&#x7EDF;&#x8DEF;&#x7531;&#x6A21;&#x5F0F;&#xFF0C;&#x652F;&#x6301;&#x5305;&#x8F6C;&#x53D1;" class="headerlink" title="&#x5F00;&#x542F;&#x670D;&#x52A1;&#x5668;&#x7CFB;&#x7EDF;&#x8DEF;&#x7531;&#x6A21;&#x5F0F;&#xFF0C;&#x652F;&#x6301;&#x5305;&#x8F6C;&#x53D1;"></a>&#x5F00;&#x542F;&#x670D;&#x52A1;&#x5668;&#x7CFB;&#x7EDF;&#x8DEF;&#x7531;&#x6A21;&#x5F0F;&#xFF0C;&#x652F;&#x6301;&#x5305;&#x8F6C;&#x53D1;</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysctl.conf  </span><br><span class="line">net.ipv4.ip_forward = 1  <span class="comment">#&#x8BBE;&#x7F6E;&#x4E3A;1</span></span><br><span class="line">sysctl &#x2013;p</span><br></pre></td></tr></table></figure><h1 id="&#x8BBE;&#x7F6E;&#x9632;&#x706B;&#x5899;&#x8F6C;&#x53D1;&#x89C4;&#x5219;"><a href="#&#x8BBE;&#x7F6E;&#x9632;&#x706B;&#x5899;&#x8F6C;&#x53D1;&#x89C4;&#x5219;" class="headerlink" title="&#x8BBE;&#x7F6E;&#x9632;&#x706B;&#x5899;&#x8F6C;&#x53D1;&#x89C4;&#x5219;"></a>&#x8BBE;&#x7F6E;&#x9632;&#x706B;&#x5899;&#x8F6C;&#x53D1;&#x89C4;&#x5219;</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum install iptables  <span class="comment">#&#x5B89;&#x88C5;&#x9632;&#x706B;&#x5899;</span></span><br><span class="line">service iptables start  <span class="comment">#&#x542F;&#x52A8;&#x9632;&#x706B;&#x5899;</span></span><br><span class="line">iptables -t nat -A POSTROUTING -s 192.168.0.0/255.255.255.0 -j SNAT --to-source &#x5185;&#x7F51;IP  <span class="comment">#&#x6DFB;&#x52A0;&#x5185;&#x7F51;&#x89C4;&#x5219;</span></span><br><span class="line">iptables -A FORWARD -p tcp --syn -s 192.168.0.0/255.255.255.0 -j TCPMSS --<span class="built_in">set</span>-mss 1356 </span><br><span class="line">iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -o eth1 -j MASQUERADE <span class="comment">#&#x5916;&#x7F51;&#x8F6C;&#x53D1;&#x89C4;&#x5219;</span></span><br><span class="line">(&#x6765;&#x81EA;192.168.0.0&#x7F51;&#x6BB5;&#x7684;&#x8BBF;&#x95EE;&#x6D41;&#x7ECF;eth1&#x7F51;&#x5361;&#x505A;&#x8F6C;&#x53D1;)</span><br><span class="line">/etc/init.d/iptables save  <span class="comment">#&#x4FDD;&#x5B58;&#x9632;&#x706B;&#x5899;&#x8BBE;&#x7F6E;</span></span><br><span class="line">/etc/sysconfig/iptables<span class="comment">#&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x76EE;&#x5F55;</span></span><br></pre></td></tr></table></figure><h1 id="&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x5EFA;&#x7ACB;ppp&#x8BBE;&#x5907;&#x8282;&#x70B9;&#xFF08;&#x7CFB;&#x7EDF;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x540E;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x4E22;&#x5931;&#x6B64;&#x6587;&#x4EF6;&#xFF0C;&#x5BFC;&#x81F4;pptp&#x5BA2;&#x6237;&#x7AEF;&#x62E8;&#x53F7;&#x51FA;&#x73B0;&#x9519;&#x8BEF;619&#xFF09;"><a href="#&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x5EFA;&#x7ACB;ppp&#x8BBE;&#x5907;&#x8282;&#x70B9;&#xFF08;&#x7CFB;&#x7EDF;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x540E;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x4E22;&#x5931;&#x6B64;&#x6587;&#x4EF6;&#xFF0C;&#x5BFC;&#x81F4;pptp&#x5BA2;&#x6237;&#x7AEF;&#x62E8;&#x53F7;&#x51FA;&#x73B0;&#x9519;&#x8BEF;619&#xFF09;" class="headerlink" title="&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x5EFA;&#x7ACB;ppp&#x8BBE;&#x5907;&#x8282;&#x70B9;&#xFF08;&#x7CFB;&#x7EDF;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x540E;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x4E22;&#x5931;&#x6B64;&#x6587;&#x4EF6;&#xFF0C;&#x5BFC;&#x81F4;pptp&#x5BA2;&#x6237;&#x7AEF;&#x62E8;&#x53F7;&#x51FA;&#x73B0;&#x9519;&#x8BEF;619&#xFF09;"></a>&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x5EFA;&#x7ACB;ppp&#x8BBE;&#x5907;&#x8282;&#x70B9;&#xFF08;&#x7CFB;&#x7EDF;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x540E;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x4E22;&#x5931;&#x6B64;&#x6587;&#x4EF6;&#xFF0C;&#x5BFC;&#x81F4;pptp&#x5BA2;&#x6237;&#x7AEF;&#x62E8;&#x53F7;&#x51FA;&#x73B0;&#x9519;&#x8BEF;619&#xFF09;</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/rc.d/rc.local </span><br><span class="line">mknod /dev/ppp c 108 0  <span class="comment">#&#x5728;&#x6587;&#x4EF6;&#x6700;&#x540E;&#x6DFB;&#x52A0;&#x6B64;&#x884C;&#x4EE3;&#x7801;</span></span><br></pre></td></tr></table></figure><h1 id="&#x542F;&#x52A8;&#x76F8;&#x5173;&#x670D;&#x52A1;"><a href="#&#x542F;&#x52A8;&#x76F8;&#x5173;&#x670D;&#x52A1;" class="headerlink" title="&#x542F;&#x52A8;&#x76F8;&#x5173;&#x670D;&#x52A1;"></a>&#x542F;&#x52A8;&#x76F8;&#x5173;&#x670D;&#x52A1;</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service pptpd start</span><br><span class="line">service iptables start</span><br></pre></td></tr></table></figure><h1 id="&#x5C06;&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x4E3A;&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x542F;&#x52A8;"><a href="#&#x5C06;&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x4E3A;&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x542F;&#x52A8;" class="headerlink" title="&#x5C06;&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x4E3A;&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x542F;&#x52A8;"></a>&#x5C06;&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x4E3A;&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x542F;&#x52A8;</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chkconfig pptpd on</span><br><span class="line">chkconfig iptables on</span><br></pre></td></tr></table></figure><h1 id="&#x5907;&#x6CE8;"><a href="#&#x5907;&#x6CE8;" class="headerlink" title="&#x5907;&#x6CE8;"></a>&#x5907;&#x6CE8;</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&#x6E05;&#x7A7A;iptables&#x8F6C;&#x53D1;&#x89C4;&#x5219;</span></span><br><span class="line">iptables -F -t nat</span><br><span class="line">iptables -X -t nat</span><br><span class="line">iptables -Z -t nat</span><br><span class="line"><span class="comment">#&#x5982;&#x679C;&#x4E0D;&#x5C0F;&#x5FC3;&#x914D;&#x7F6E;&#x4E86;&#x9519;&#x8BEF;&#x7684;&#x8F6C;&#x53D1;&#x89C4;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0A;&#x4E09;&#x6761;&#x547D;&#x4EE4;&#x6E05;&#x7A7A;</span></span><br><span class="line">service iptables save</span><br><span class="line"><span class="comment">#&#x6E05;&#x7A7A;&#x540E;&#x522B;&#x5FD8;&#x4E86;&#x518D;&#x6B21;&#x4F7F;&#x7528;&#x4FDD;&#x5B58;&#x547D;&#x4EE4;&#x5C06;&#x6E05;&#x7A7A;&#x540E;&#x7684;&#x914D;&#x7F6E;&#x5199;&#x5165;&#x6587;&#x4EF6;&#xFF0C;&#x5426;&#x5219;&#x91CD;&#x542F;&#x540E;&#x4E0A;&#x6B21;&#x914D;&#x7F6E;&#x7684;&#x8F6C;&#x53D1;&#x89C4;&#x5219;&#x53C8;&#x56DE;&#x6062;&#x590D;&#x3002;</span></span><br></pre></td></tr></table></figure><h1 id="&#x8865;&#x5145;"><a href="#&#x8865;&#x5145;" class="headerlink" title="&#x8865;&#x5145;"></a>&#x8865;&#x5145;</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&#x7F3A;&#x5C11;libpcap.so.0.9.4()(64bit)-&gt;ppp-2.4.4 &#x89E3;&#x51B3;&#x529E;&#x6CD5;</span></span><br><span class="line">rpm remove libpcap</span><br><span class="line">wget http://www.muug.mb.ca/mirror/centos/5.11/os/x86_64/CentOS/libpcap-0.9.4-15.el5.x86_64.rpm</span><br><span class="line">rpm -ivh libpcap-0.9.4-15.el5.x86_64.rpm</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      CentOS下vpn-server的搭建
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>工具资源</title>
    <link href="http://fengjinyuan.github.io/2016/02/17/%E5%B7%A5%E5%85%B7%E8%B5%84%E6%BA%90/"/>
    <id>http://fengjinyuan.github.io/2016/02/17/工具资源/</id>
    <published>2016-02-16T22:01:50.000Z</published>
    <updated>2019-04-09T08:21:15.095Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x5728;&#x7EBF;&#x6D41;&#x7A0B;&#x56FE;&#x7F16;&#x8F91;&#xFF1A;"><a href="#&#x5728;&#x7EBF;&#x6D41;&#x7A0B;&#x56FE;&#x7F16;&#x8F91;&#xFF1A;" class="headerlink" title="&#x5728;&#x7EBF;&#x6D41;&#x7A0B;&#x56FE;&#x7F16;&#x8F91;&#xFF1A;"></a>&#x5728;&#x7EBF;&#x6D41;&#x7A0B;&#x56FE;&#x7F16;&#x8F91;&#xFF1A;</h3><p><a href="https://www.processon.com/" target="_blank" rel="noopener">https://www.processon.com/</a></p><h3 id="&#x7F16;&#x7A0B;&#x5B66;&#x4E60;&#x7F51;&#x7AD9;RUNOOB-COM&#xFF1A;"><a href="#&#x7F16;&#x7A0B;&#x5B66;&#x4E60;&#x7F51;&#x7AD9;RUNOOB-COM&#xFF1A;" class="headerlink" title="&#x7F16;&#x7A0B;&#x5B66;&#x4E60;&#x7F51;&#x7AD9;RUNOOB.COM&#xFF1A;"></a>&#x7F16;&#x7A0B;&#x5B66;&#x4E60;&#x7F51;&#x7AD9;RUNOOB.COM&#xFF1A;</h3><p><a href="http://www.runoob.com/" target="_blank" rel="noopener">http://www.runoob.com/</a></p><h3 id="Jquery&#x67E5;&#x8BE2;&#x624B;&#x518C;"><a href="#Jquery&#x67E5;&#x8BE2;&#x624B;&#x518C;" class="headerlink" title="Jquery&#x67E5;&#x8BE2;&#x624B;&#x518C;"></a>Jquery&#x67E5;&#x8BE2;&#x624B;&#x518C;</h3><p><a href="http://www.php100.com/manual/jquery/" target="_blank" rel="noopener">http://www.php100.com/manual/jquery/</a></p><h3 id="X86&#x5185;&#x8054;&#x6C47;&#x7F16;"><a href="#X86&#x5185;&#x8054;&#x6C47;&#x7F16;" class="headerlink" title="X86&#x5185;&#x8054;&#x6C47;&#x7F16;"></a>X86&#x5185;&#x8054;&#x6C47;&#x7F16;</h3><p><a href="https://www.ibm.com/developerworks/cn/linux/sdk/assemble/inline/" target="_blank" rel="noopener">https://www.ibm.com/developerworks/cn/linux/sdk/assemble/inline/</a></p><h3 id="&#x5FAE;&#x8F6F;&#x8BA4;&#x77E5;&#x670D;&#x52A1;"><a href="#&#x5FAE;&#x8F6F;&#x8BA4;&#x77E5;&#x670D;&#x52A1;" class="headerlink" title="&#x5FAE;&#x8F6F;&#x8BA4;&#x77E5;&#x670D;&#x52A1;"></a>&#x5FAE;&#x8F6F;&#x8BA4;&#x77E5;&#x670D;&#x52A1;</h3><p><a href="https://www.azure.cn/cognitive-services/" target="_blank" rel="noopener">https://www.azure.cn/cognitive-services/</a></p><h3 id="ThinkPHP3-2-&#x624B;&#x518C;"><a href="#ThinkPHP3-2-&#x624B;&#x518C;" class="headerlink" title="ThinkPHP3.2 &#x624B;&#x518C;"></a>ThinkPHP3.2 &#x624B;&#x518C;</h3><p><a href="http://document.thinkphp.cn/manual_3_2.html#entrance_file" target="_blank" rel="noopener">http://document.thinkphp.cn/manual_3_2.html#entrance_file</a></p><h3 id="APP-INVENTOR"><a href="#APP-INVENTOR" class="headerlink" title="APP INVENTOR"></a>APP INVENTOR</h3><p><a href="http://app.gzjkw.net/login/" target="_blank" rel="noopener">http://app.gzjkw.net/login/</a></p><h3 id="Linux&#x5B8C;&#x5168;&#x6CE8;&#x91CA;"><a href="#Linux&#x5B8C;&#x5168;&#x6CE8;&#x91CA;" class="headerlink" title="Linux&#x5B8C;&#x5168;&#x6CE8;&#x91CA;"></a>Linux&#x5B8C;&#x5168;&#x6CE8;&#x91CA;</h3><p><a href="http://www.oldlinux.org/index_cn.html" target="_blank" rel="noopener">http://www.oldlinux.org/index_cn.html</a></p><h3 id="HTML&#x989C;&#x8272;&#x8868;"><a href="#HTML&#x989C;&#x8272;&#x8868;" class="headerlink" title="HTML&#x989C;&#x8272;&#x8868;"></a>HTML&#x989C;&#x8272;&#x8868;</h3><p><a href="http://xh.5156edu.com/page/z1015m9220j18754.html" target="_blank" rel="noopener">http://xh.5156edu.com/page/z1015m9220j18754.html</a></p><h3 id="OpenCV-VS-2013&#x914D;&#x7F6E;"><a href="#OpenCV-VS-2013&#x914D;&#x7F6E;" class="headerlink" title="OpenCV VS 2013&#x914D;&#x7F6E;"></a>OpenCV VS 2013&#x914D;&#x7F6E;</h3><p><a href="http://www.cnblogs.com/cuteshongshong/p/4057193.html" target="_blank" rel="noopener">http://www.cnblogs.com/cuteshongshong/p/4057193.html</a></p>]]></content>
    
    <summary type="html">
    
      好用的资源工具
    
    </summary>
    
      <category term="资源" scheme="http://fengjinyuan.github.io/categories/%E8%B5%84%E6%BA%90/"/>
    
    
      <category term="资源" scheme="http://fengjinyuan.github.io/tags/%E8%B5%84%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>[T]Python-CS套接字模板</title>
    <link href="http://fengjinyuan.github.io/2016/02/17/T-Python-CS%E5%A5%97%E6%8E%A5%E5%AD%97%E6%A8%A1%E6%9D%BF/"/>
    <id>http://fengjinyuan.github.io/2016/02/17/T-Python-CS套接字模板/</id>
    <published>2016-02-16T22:00:47.000Z</published>
    <updated>2019-06-06T11:11:17.965Z</updated>
    
    <content type="html"><![CDATA[<h1 id="UDP&#x7F16;&#x7A0B;&#x6A21;&#x677F;"><a href="#UDP&#x7F16;&#x7A0B;&#x6A21;&#x677F;" class="headerlink" title="UDP&#x7F16;&#x7A0B;&#x6A21;&#x677F;"></a>UDP&#x7F16;&#x7A0B;&#x6A21;&#x677F;</h1><p><img src="/2016/02/17/T-Python-CS&#x5957;&#x63A5;&#x5B57;&#x6A21;&#x677F;/UDP.png" alt=""></p><hr><h3 id="UDPClient-py"><a href="#UDPClient-py" class="headerlink" title="UDPClient.py"></a>UDPClient.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line">serverName=<span class="string">&apos;localhost&apos;</span>  <span class="comment">#IP&#x6216;&#x8005;&#x4E3B;&#x673A;&#x540D;</span></span><br><span class="line">serverPort=<span class="number">8888</span>         <span class="comment">#&#x7AEF;&#x53E3;&#x53F7;</span></span><br><span class="line">clientSocket=socket(AF_INET,SOCK_DGRAM) <span class="comment">#AF_INET&#x4F7F;&#x7528;IPv4&#xFF0C;SOCK_DGRAM&#x4F7F;&#x7528;UDP</span></span><br><span class="line">message=input(<span class="string">&quot;Input lowercase sentence:&quot;</span>)</span><br><span class="line">message=bytes(message,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">clientSocket.sendto(message,(serverName,serverPort))</span><br><span class="line">modifiedMessage,serverAddress=clientSocket.recvfrom(<span class="number">2048</span>)</span><br><span class="line">modifiedMessage=str(modifiedMessage,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">print(modifiedMessage)</span><br><span class="line">clientSocket.close()</span><br></pre></td></tr></table></figure><h3 id="UDPServer-py"><a href="#UDPServer-py" class="headerlink" title="UDPServer.py"></a>UDPServer.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line">serverPort=<span class="number">8888</span></span><br><span class="line">serverSocket=socket(AF_INET,SOCK_DGRAM)</span><br><span class="line">serverSocket.bind((<span class="string">&apos;&apos;</span>,serverPort))</span><br><span class="line">print(<span class="string">&quot;The server is ready to receive&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">message,clientAddress=serverSocket.recvfrom(<span class="number">2048</span>)</span><br><span class="line">modifiedMessage=message.upper()</span><br><span class="line">serverSocket.sendto(modifiedMessage,clientAddress)</span><br></pre></td></tr></table></figure><h1 id="TCP&#x7F16;&#x7A0B;&#x6A21;&#x677F;"><a href="#TCP&#x7F16;&#x7A0B;&#x6A21;&#x677F;" class="headerlink" title="TCP&#x7F16;&#x7A0B;&#x6A21;&#x677F;"></a>TCP&#x7F16;&#x7A0B;&#x6A21;&#x677F;</h1><p><img src="/2016/02/17/T-Python-CS&#x5957;&#x63A5;&#x5B57;&#x6A21;&#x677F;/TCP.png" alt=""></p><hr><h3 id="TCPClient-py"><a href="#TCPClient-py" class="headerlink" title="TCPClient.py"></a>TCPClient.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line">serverName=<span class="string">&apos;localhost&apos;</span></span><br><span class="line">serverPort=<span class="number">8888</span></span><br><span class="line">clientSocket=socket(AF_INET,SOCK_STREAM)  <span class="comment">#SOCK_STREAM &#x4F7F;&#x7528;TCP</span></span><br><span class="line">clientSocket.connect((serverName,serverPort)) <span class="comment">#&#x8FDB;&#x884C;&#x63E1;&#x624B;&#x8FDE;&#x63A5;</span></span><br><span class="line">message=input(<span class="string">&quot;Input lowercase sentence:&quot;</span>)</span><br><span class="line">message=bytes(message,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">clientSocket.send(message)</span><br><span class="line">modifiedMessage=clientSocket.recv(<span class="number">2048</span>)</span><br><span class="line">modifiedMessage=str(modifiedMessage,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">print(modifiedMessage)</span><br><span class="line">clientSocket.close()</span><br></pre></td></tr></table></figure><h3 id="TCPServer-py"><a href="#TCPServer-py" class="headerlink" title="TCPServer.py"></a>TCPServer.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line">serverPort=<span class="number">8888</span></span><br><span class="line">serverSocket=socket(AF_INET,SOCK_STREAM)</span><br><span class="line">serverSocket.bind((<span class="string">&apos;&apos;</span>,serverPort))</span><br><span class="line">serverSocket.listen(<span class="number">1</span>)   <span class="comment">#&#x76D1;&#x542C;&#x8BF7;&#x6C42;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x53C2;&#x6570;&#x4E3A;&#x8BF7;&#x6C42;&#x8FDE;&#x63A5;&#x7684;&#x6700;&#x5927;&#x6570;</span></span><br><span class="line">print(<span class="string">&quot;The server is ready to receive&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">connectionSocket,addr=serverSocket.accept() <span class="comment">#&#x63E1;&#x624B;&#x8FDE;&#x63A5;&#x6210;&#x529F;&#x521B;&#x5EFA;&#x8FDE;&#x63A5;&#x5957;&#x63A5;&#x5B57;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x4F20;&#x8F93;</span></span><br><span class="line">message=connectionSocket.recv(<span class="number">2048</span>)</span><br><span class="line">modifiedMessage=message.upper()</span><br><span class="line">connectionSocket.send(modifiedMessage)</span><br><span class="line">connectionSocket.close()</span><br></pre></td></tr></table></figure><hr><h3 id="&#x533A;&#x522B;"><a href="#&#x533A;&#x522B;" class="headerlink" title="&#x533A;&#x522B;"></a>&#x533A;&#x522B;</h3><p>UDP&#x5728;&#x6BCF;&#x6B21;&#x4F20;&#x8F93;&#x5C06;&#x5206;&#x7EC4;&#x653E;&#x8FDB;&#x5957;&#x63A5;&#x5B57;&#x524D;&#x4E00;&#x5B9A;&#x8981;&#x9644;&#x4E0A;&#x76EE;&#x7684;&#x5730;&#x5730;&#x5740;(IP+port)<br>TCP&#x901A;&#x8FC7;&#x63E1;&#x624B;&#x5957;&#x63A5;&#x5B57;&#x5EFA;&#x7ACB;&#x670D;&#x52A1;&#x7AEF;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#x7684;IP&#x548C;&#x7AEF;&#x53E3;&#x5173;&#x8054;&#xFF0C;&#x521B;&#x5EFA;&#x65B0;&#x5957;&#x63A5;&#x5B57;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x3002;</p><hr><h1 id="&#x5907;&#x6CE8;"><a href="#&#x5907;&#x6CE8;" class="headerlink" title="&#x5907;&#x6CE8;"></a>&#x5907;&#x6CE8;</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Python <span class="number">3.5</span></span><br><span class="line"><span class="comment">#str to byte</span></span><br><span class="line">bytes(content,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">str.encode(content)</span><br><span class="line"><span class="comment">#byte to str</span></span><br><span class="line">str(content,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">bytes.decode(content)</span><br><span class="line"><span class="comment">#Python 3 send,sendto &#x6D88;&#x606F;&#x4E3A;byte&#x7C7B;&#x578B;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      python网络编程，套接字模板
    
    </summary>
    
      <category term="技术" scheme="http://fengjinyuan.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术" scheme="http://fengjinyuan.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
</feed>
